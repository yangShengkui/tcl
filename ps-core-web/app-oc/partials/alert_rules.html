<section class="content">
  <div class="row">
    <div class="col-xs-12">
      <div class="box">
        <div class="box-header">
          <div class="box-tools pull-left nav-tabs-header">
            <ul class="nav nav-tabs" role="tablist">
              <li class="active"><a role="button">告警规则</a></li>
            </ul>
          </div>
          <div class="box-tools pull-right">
            <span class="history-btn" role="button" ng-show="menuitems['#'+treeviewIndex] == null" data-toggle="返回" title="" data-original-title="返回" onclick="window.history.back();"><i class="proudsmart ps-back-01"></i></span>
          </div>
        </div>
        <div class="box-body">
          <button ng-show="menuitems['A07_S45']" ng-click="addAlertRules('global')" type="button" class="btn btn-primary btn-sm"><i class="fa fa-plus"></i><span class="hidden-sm"> 添加全局规则</span></button>
          <button ng-show="menuitems['A08_S45']" ng-click="addAlertRules('special')" type="button" class="btn btn-primary btn-sm"><i class="fa fa-plus"></i><span class="hidden-sm"> 添加实例规则</span></button>
          <button ng-show="menuitems['A09_S45']" type="button" ng-disabled="!abled" class="btn btn-default btn-sm" ng-click="selectedEnable()"><i class="fa fa-play"></i><span class="hidden-sm">启用告警</span></button>
          <button ng-show="menuitems['A10_S45']" type="button" ng-disabled="!unabled" class="btn btn-default btn-sm" ng-click="selectedUnable()"><i class="fa fa-stop"></i><span class="hidden-sm">停用告警</span></button>
          <button ng-show="menuitems['A11_S45']" type="button" ng-disabled="!abled && selectedCount == 0" class="btn btn-default btn-sm" ng-click="selectedDelete()"><i class="fa fa-trash"></i><span class="hidden-sm">删除告警</span></button>
          <div class="combined-query pull-right">
            <div class="btn-group">
              <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">
                {{queryLabel?queryLabel:'查询条件'}} <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu">
                <li><a role="button" ng-click="queryState=1;queryLabel='规则名称';getChange()">规则名称</a></li>
                <!--<li><a role="button" ng-click="queryState=2;queryLabel='设备模板';getChange()">设备模板</a></li>
                <li><a role="button" ng-click="queryState=3;queryLabel='设备名称';getChange()">设备名称</a></li>-->
                <li><a role="button" ng-click="queryState=4;queryLabel='管理域';getChange()">管理域</a></li>
              </ul>
            </div>
            <input type="text" class="form-control input-sm" ng-show="!queryState ||queryState == 1" maxlength="20" ng-model="selectedItem.title">
            <!--  <div class="dropdowntree" ng-show="queryState == 2" ng-model="selectedItem.modelId" change="" options="rootModel" mark="nodes">
            </div> -->
            <select ng-model="selectedItem.modelId" class="form-control input-sm" ng-show="queryState == 2" selectdata="allModelLists" select2></select>
            <select ng-model="selectedItem.nodeIds" class="form-control input-sm" ng-show="queryState == 3" selectdata="allDeveicesList" select2></select>
            <div class="dropdowntree select-sm dialog-inp-text" ng-show=" queryState == 4" ng-model="selectedItem.domain" change="" key="domainPath" options="domainListTree" mark="nodes">
            </div>
            <button class="btn btn-primary btn-sm" ng-click="searchData()" type="button"><i class="fa fa-search"></i><span class="hidden-sm">查询</span></button>
          </div>
        </div>
        <div class="box-footer  margin-bottom-10">
          <table width="100%" class="table table-hover" id="usertable" alert-rules-table>
          </table>
        </div>
      </div>
    </div>
  </div>
</section>
