<section class="content">
  <div class="row">
    <div class="col-xs-12">
      <div class="box">
        <div class="box-header">
          <div class="box-tools pull-left nav-tabs-header">
            <ul class="nav nav-tabs" role="tablist">
              <li class="active">
                <a>{{menuitems['S13'].name}}</a>
              </li>
            </ul>
          </div>
          <div class="box-tools pull-right">
            <span class="history-btn" role="button" ng-show="menuitems['#'+treeviewIndex] == null" data-toggle="返回" title="" data-original-title="返回" onclick="window.history.back();"><i class="proudsmart ps-back-01"></i></span>
          </div>
        </div>
        <div class="box-body">
          <button ng-show="menuitems['A02_S13']" ng-click="addproject()" type="button" class="btn btn-primary btn-sm"><i class="fa fa-plus"></i><span class="hidden-sm"> 添加{{menuitems['S13'].label?menuitems['S13'].label:'项目'}}</span></button>
          <div class="combined-query pull-right" ng-class="{'select2':queryState==2||queryState==3}">
            <div class="btn-group">
              <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">
                {{queryLabel?queryLabel:'查询条件'}} <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" ng-show="ifShowSelect">
                <li><a role="button" ng-click="queryState=1; queryLabel=(menuitems['S13'].label?menuitems['S13'].label:'项目')+'名称';getChange()">{{menuitems['S13'].label?menuitems['S13'].label:'项目'}}名称</a></li>
                <li><a role="button" ng-click="queryState=2; queryLabel=(menuitems['S12'].label?menuitems['S12'].label:'客户')+'名称';getChange()">{{menuitems['S12'].label?menuitems['S12'].label:'客户'}}名称</a></li>
                <li><a role="button" ng-click="queryState=3; queryLabel='经销商名称';getChange()">经销商名称</a></li>
                <li><a role="button" ng-click="queryState=4; queryLabel=(menuitems['S12'].label?menuitems['S12'].label:'客户')+'归属';getChange()">{{menuitems['S12'].label?menuitems['S12'].label:'客户'}}归属</a></li>
              </ul>
              <ul class="dropdown-menu" role="menu" ng-show="!ifShowSelect">
                <li><a role="button" ng-show="queryLabel==(menuitems['S12'].label?menuitems['S12'].label:'客户')+'名称'">{{menuitems['S12'].label?menuitems['S12'].label:'客户'}}名称</a></li>
                <li><a role="button" ng-show="queryLabel== '经销商名称'">经销商名称</a></li>
              </ul>
            </div>
            <div style="display: inline-block;" ng-show="ifShowSelect">
              <input ng-show="!queryState" ng-model="projectItem.orCondition" class="form-control input-sm" maxlength="32" type="text" />
              <input ng-show="queryState == 1" ng-model="projectItem.projectName" class="form-control input-sm" maxlength="32" type="text" />
              <div  ng-show="queryState == 2">
                <select ng-model="projectItem.customerId" class="form-control input-sm" selectdata="CustomerList" ng-options="value.id as value.text for value in CustomerList" select2></select>
              </div>
              <div   ng-show="queryState == 3">
                <select ng-model="projectItem.distributorId" class="form-control input-sm" selectdata="distributorList" ng-options="value.id as value.text for value in distributorList" select2></select>
              </div>
              <div class="dropdowntree select-sm" ng-show="queryState == 4" ng-model="projectItem.domainPath" change="" key="domainPath" options="domainListTree" mark="nodes">
              </div>
            </div>
            <div style="display: inline-block;" ng-show="!ifShowSelect">
              <input ng-show="!queryState || queryState == 1" ng-model="projectItem.projectName" class="form-control input-sm" maxlength="32" type="text" />
              <select ng-show="queryState == 2" ng-model="projectItem.customerId" ng-options="value.id as value.text for value in CustomerList" class="form-control input-sm" selectdata="CustomerList" select2></select>
              <select ng-show="queryState == 3" ng-model="projectItem.distributorId" ng-options="value.id as value.text for value in distributorList" class="form-control input-sm" selectdata="distributorList" select2></select>
              <div class="dropdowntree select-sm" ng-show="queryState == 4" ng-model="projectItem.domainPath" change="" key="domainPath" options="domainListTree" mark="nodes">
              </div>
            </div>
            <button class="btn btn-primary btn-sm" ng-click="searchData()" type="button"><i class="fa fa-search"></i><span class="hidden-sm">查询</span></button>
          </div>
        </div>
        <div class="box-footer margin-bottom-10">
          <table width="100%" class="table table-hover" project-manage-table></table>
        </div>
      </div>
    </div>
  </div>
</section>
