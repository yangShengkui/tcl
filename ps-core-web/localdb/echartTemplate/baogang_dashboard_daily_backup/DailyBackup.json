{
  "type": "view",
  "context": "dashboard",
  "data": [
    {
      "viewTitle": "运营首页(工作台配置文件_baogang/home)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.getCurrentDomainCi(function(rootCi){\\n                var ci = [rootCi.id];\\n                var ciNames = [rootCi.label];\\n                var list = [{\\n                    label : \\\"待诊断任务数\\\",\\n                    value : 23,\\n                    icon : \\\"proudsmart ps-gongdanguanli\\\",\\n                    kpi : 3004,\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#0c466d\\\",\\n                        \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n                    }\\n                },{\\n                    label : \\\"已诊断任务数（本月）\\\",\\n                    value : 45,\\n                    kpi : 3019,\\n                    icon : \\\"glyphicon glyphicon-briefcase\\\",\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#484b2f\\\",\\n                        \\\"border\\\" : \\\"1px solid #e7b52b\\\"\\n                    }\\n                },{\\n                    label : \\\"诊断审核通过率\\\",\\n                    value : 37,\\n                    kpi : 3051,\\n                    icon : \\\"glyphicon glyphicon-duplicate\\\",\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#472d3c\\\",\\n                        \\\"border\\\" : \\\"1px solid #e55057\\\"\\n                    }\\n                },{\\n                    label : \\\"综合诊断准确率\\\",\\n                    value : 42,\\n                    kpi : 100002,\\n                    icon : \\\"proudsmart ps-innovate\\\",\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#0c466d\\\",\\n                        \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n                    }\\n                }];\\n                var kpis = list.map(function(elem){return elem.kpi});\\n                target.getKpiValueCi(ci, kpis, function(returnData){\\n                    for(var i in list){\\n                        var find = returnData.find(function(elem){\\n                            return elem.kpiCode == list[i].kpi;\\n                        }) || {\\n                            value : \\\"-\\\"\\n                        };\\n                        list[i].value = find.value;\\n                    }\\n                    target.render(list);\\n                });\\n            });\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var css = data.css;\\n            target.setCss(css);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n        \\n      var target = event.target;\\n      var global = event.global;\\n      var data = target.$repeatData;\\n      var ctrlGroups = [\\n           [{\\n          type : \\\"icon\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"60px\\\"\\n          },\\n          tdStyle : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          icon : data.icon\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : data.value,\\n          style : {\\n              \\\"font-size\\\" : \\\"30px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          class : \\\"col-md-12\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : data.label,\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"12px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3}],\"style\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日报警\\\",\\n              btnclass:currStatus==\\\"today\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               target.trigger(\\\"search_toDolist\\\",timeObj)\\n               currStatus = \\\"today\\\";\\n               render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周报警\\\",\\n              btnclass:currStatus==\\\"bz\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n               target.trigger(\\\"search_toDolist\\\",timeObj)\\n               currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月报警\\\",\\n              btnclass:currStatus==\\\"month\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               target.trigger(\\\"search_toDolist\\\",timeObj);\\n               currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    if(inpStatus){\\n                       target.trigger(\\\"search_toDolist\\\",timeObj)\\n                       currStatus = \\\"\\\";\\n                       inpStatus = false;\\n                    //   render();\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待处理任务项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        ticketNo :  \\\"任务编号\\\",\\n        customerName :  \\\"产线\\\",\\n        devName : \\\"设备信息\\\",\\n        appName : {\\n            name:\\\"来源\\\",\\n            type:\\\"alarmSource\\\",\\n            value : \\\"appName\\\"\\n        },\\n        alertTitle : \\\"报警信息\\\",\\n        severity :{\\n            name:\\\"报警级别\\\",\\n            type:\\\"priority\\\"\\n        },\\n        sendTime : \\\"报警分配时间\\\",\\n        handlerName : \\\"当前处理人\\\",\\n        tickeTaskStatus : \\\"任务状态\\\"\\n      };\\n\\n      function getTableData (time){\\n       var param = {\\n            //   \\\"variables\\\":{\\\"theTicketType\\\":\\\"normal\\\"},\\n            \\\"taskStatus\\\":10,\\n            \\\"sendBeginTime\\\": time?time.firstTimeFrom:\\\"\\\",\\n            \\\"sendEndTime\\\": time?time.firstTimeTo:\\\"\\\",\\n          };\\n          var params = eval(\\\"(\\\" + JSON.stringify(param) + \\\")\\\");\\n          target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\",params, function(tc){\\n           if(tc.data){\\n            var datas = [];\\n            tc.data.forEach(function(ele){\\n              var data = ele.variables.ticket.values;\\n              if(ele.variables.isAudit == 0 && ele.variables.ticket.values.tickeTaskStatus==\\\"checking\\\"){\\n                data.tickeTaskStatus = \\\"被驳回\\\"    \\n                data.tickeTaskStatusName = \\\"reject\\\"   // 审核被驳回\\n              }else if(ele.variables.isClose  == 0 && ele.variables.ticket.values.tickeTaskStatus==\\\"explaining\\\"){\\n                data.tickeTaskStatus = \\\"被驳回\\\"\\n                data.tickeTaskStatusName = \\\"rejectExplaining\\\"   // 说明再次被驳回展示的按钮\\n              }else if(ele.variables.ticket.values.tickeTaskStatus==\\\"explaining\\\"){\\n                data.tickeTaskStatus = \\\"待说明\\\";\\n                data.tickeTaskStatusName = \\\"explaining\\\"\\n              }else{\\n                data.tickeTaskStatus = \\\"待诊断\\\";\\n                data.tickeTaskStatusName = \\\"checking\\\"  \\n              }\\n              data.ticket = ele;\\n              data.handlerName = ele.handlerName;\\n              data.sendTime = new Date(ele.sendTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n              datas.push(data);\\n            }) \\n            success(datas) \\n          }\\n        });  \\n        }\\n        getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){\\n       var render = function(advsearch){\\n        var format = [];\\n        for(var i in Dictionary){\\n          var item = target.explainDic(i, Dictionary[i]);\\n          format.push(item);\\n        }\\n        format.push({\\n            name : \\\"操作\\\",\\n            type : \\\"valueBased\\\",\\n            value : \\\"tickeTaskStatusName\\\",\\n            options : {\\n              // 待诊断展示的按钮    \\n              checking : {\\n                name : \\\"操作\\\",\\n                type: \\\"buttonGroup\\\",\\n                content :[{\\n                  label : \\\"分析\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                         target.navigateTo(\\\"index\\\", {\\n                            main : 2,\\n                            sub :0,\\n                            ticket : elem.row.ticket.id\\n                            }, \\\"self\\\")\\n                    }\\n                  }\\n                },{\\n                  label : \\\"编制报告\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                    //   target.createSystemPopupByLocalPath(\\\"page3\\\", {\\n                    //     width : \\\"900px\\\",\\n                    //     title : \\\"检修委托\\\",\\n                    //   }, elem.row);\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : 3,\\n                        sub :3,\\n                        ticket : elem.row.ticket.id\\n                        }, \\\"self\\\")\\n                    }\\n                  }\\n                }],\\n                render : function(){\\n                  return \\\"\\\"\\n                }\\n              },\\n              // 待说明展示的按钮   \\n              explaining : {\\n                name : \\\"操作\\\",\\n                type: \\\"buttonGroup\\\",\\n                content :[{\\n                  label : \\\"分析\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                         target.navigateTo(\\\"index\\\", {\\n                            main : 2,\\n                            sub :0,\\n                            ticket : elem.row.ticket.id\\n                          }, \\\"self\\\")\\n                \\n                    }\\n                  }\\n                },{\\n                  label : \\\"关闭说明\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                      target.createSystemPopupByLocalPath(\\\"page2\\\", {\\n                        width : \\\"800px\\\",\\n                        title : \\\"关闭说明\\\",\\n                      }, elem.row.ticket);\\n                    }\\n                  }\\n                }],\\n                render : function(){\\n                  return \\\"\\\"\\n                }\\n              },\\n              // 被驳回展示的按钮   \\n              reject : {\\n                name : \\\"操作\\\",\\n                type: \\\"buttonGroup\\\",\\n                content :[{\\n                  label : \\\"分析\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                         target.navigateTo(\\\"index\\\", {\\n                            main : 2,\\n                            sub :0,\\n                            ticket : elem.row.ticket.id\\n                            }, \\\"self\\\")\\n               \\n                    }\\n                  }\\n                },{\\n                  label : \\\"修改报告\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                    console.info(\\\"rowObj===\\\",elem);\\n                    // target.navigateTo(\\\"bhbgbz\\\",param);\\n                      target.navigateTo(\\\"index\\\", {\\n                        main : [0,\\\"bhbgbz\\\"],\\n                        taskId : elem.row.ticket.id,\\n                        devName : elem.row.devName,\\n                        deviceCode : elem.row.deviceCode\\n                       }, \\\"self\\\");\\n                    }\\n                  }\\n                }],\\n                render : function(){\\n                  return \\\"\\\"\\n                }\\n              },\\n              // 说明再次被驳回展示的按钮   \\n              rejectExplaining : {\\n                name : \\\"操作\\\",\\n                type: \\\"buttonGroup\\\",\\n                content :[{\\n                  label : \\\"分析\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                    \\n                           target.navigateTo(\\\"index\\\", {\\n                                main : 2,\\n                                sub :0,\\n                                ticket : elem.row.ticket.id\\n                           }, \\\"self\\\")\\n                    }\\n                  }\\n                },{\\n                  label : \\\"关闭说明\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                        target.createSystemPopupByLocalPath(\\\"page5\\\", {\\n                        width : \\\"800px\\\",\\n                        title : \\\"关闭说明\\\",\\n                      }, elem.row.ticket);\\n                    }\\n                  }\\n                }],\\n                render : function(){\\n                  return \\\"\\\"\\n                }\\n              }\\n            }\\n          });\\n        target.render({\\n          data : datas,\\n          on : {\\n            rowClick : function(event){\\n                // target.createPopupBypath('analysis', {\\n                //   title: \\\"诊断分析\\\",\\n                //   theme : \\\"system\\\",\\n                //   width: \\\"80%\\\"\\n                // }, {\\n                //   message: \\\"诊断分析\\\"\\n                // })\\n              }\\n            },\\n            format : format\\n          });\\n      };\\n        // 点击查询按钮\\n        target.off(\\\"search_toDolist\\\");\\n        target.on(\\\"search_toDolist\\\", function(time){\\n          getTableData(time)\\n          render();\\n        });\\n\\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width: \\\"auto\\\",\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\": \\\"\\\", \\\"firstTimeTo\\\": \\\"\\\",\\\"status\\\": \\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期\\n      var list = [{\\n        id : 1,\\n        title : \\\"全部\\\",\\n        value : \\\"\\\",\\n        btnclass:\\\"btn btn-primary\\\",\\n        activeclass:\\\"\\\"\\n      },/*{\\n          id : 2,\\n          title : \\\"待分析\\\",\\n          value : \\\"checking\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },*/{\\n        id : 3,\\n        title : \\\"待审批\\\",\\n        value : \\\"auditing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 4,\\n        title : \\\"待委托\\\",\\n        value : \\\"trusting\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 5,\\n        title : \\\"待维修\\\",\\n        value : \\\"maintaining\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 6,\\n        title : \\\"待验收\\\",\\n        value : \\\"accepting\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 7,\\n        title : \\\"待评价\\\",\\n        value : \\\"assessing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 8,\\n        title : \\\"待说明\\\",\\n        value : \\\"explaining\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 9,\\n        title : \\\"待关闭\\\",\\n        value : \\\"closing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 10,\\n        title : \\\"已完成\\\",\\n        value : \\\"end\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      }];\\n      var render = function () {\\n        var ctrlGroups = [\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width: \\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            }, {\\n            type: \\\"button\\\",\\n            value: \\\"当日处理任务\\\",\\n            btnclass: currStatus == \\\"today\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n                timeObj.firstTimeFrom = today;\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj)\\n                currStatus = \\\"today\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"本周处理任务\\\",\\n            btnclass: currStatus == \\\"bz\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n\\n                //获得本周的开端日期\\n                function getWeekStartDate() {\\n                  var nowDayOfWeek = now.getDay(); //今天本周的第几天\\n                  var nowDay = now.getDate(); //当前日\\n                  var nowMonth = now.getMonth(); //当前月\\n                  var nowYear = now.getFullYear(); //当前年\\n                  var weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek);\\n                  return weekStartDate;\\n                }\\n\\n                timeObj.firstTimeFrom = getWeekStartDate();\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj)\\n                currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"当月处理任务\\\",\\n            btnclass: currStatus == \\\"month\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n\\n                //当前月的第一天\\n                function getCurrentMonthFirst() {\\n                  var date = new Date();\\n                  date.setDate(1);\\n                  return date;\\n                }\\n\\n                timeObj.firstTimeFrom = getCurrentMonthFirst();\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj);\\n                currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: \\\"\\\",\\n            class: \\\"col-md-5\\\",\\n            colSpan : 2,\\n            style: {\\n              width: \\\"200px\\\",\\n              textAlign: \\\"center\\\"\\n            },\\n            on: {\\n              change: function (elem) {\\n                timeObj.firstTimeFrom = elem.value.start;\\n                timeObj.firstTimeTo = elem.value.end;\\n                if (elem.value.start) {\\n                  inpStatus = true;\\n                }\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on: {\\n              click: function (elem) {\\n                if (inpStatus) {\\n                  target.trigger(\\\"search_ticket\\\", timeObj)\\n                  currStatus = \\\"\\\";\\n                  inpStatus = false;\\n                  //   render();\\n                } else {\\n                  event.target.growl(\\\"请选择时间\\\", \\\"warning\\\");\\n                }\\n              }\\n            }\\n          }],\\n          // 完成任务\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"任务状态:\\\",\\n              style: {\\n                textAlign: \\\"right\\\",\\n                width: \\\"100px\\\"\\n              }\\n            }\\n          ]\\n        ];\\n        for(var i in list){\\n          ctrlGroups[1].push({\\n            id : list[i].id,\\n            type : \\\"button\\\",\\n            value : list[i].title,\\n            btnclass :list[i].btnclass,\\n            paramvalue:list[i].value,\\n\\n            // style: {\\n            //   width: \\\"100px\\\",\\n            //   textAlign: \\\"left\\\"\\n            // },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                elem.current.btnclass = \\\"btn btn-default\\\";\\n                var id = elem.current.id;\\n                var value = elem.current.paramvalue;\\n                timeObj.status = value;\\n                target.trigger(\\\"search_ticket\\\",timeObj)\\n\\n                for(var i in list){\\n                  if(list[i].id == id){\\n                    list[i].btnclass = \\\"btn btn-primary\\\";\\n                  } else {\\n                    list[i].btnclass = \\\"btn btn-default\\\";\\n                  }\\n\\n                }\\n                render()\\n              }\\n            }\\n          });\\n        }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"已处理任务\\\")\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        ticketNo :  \\\"任务编号\\\",\\n        customerName :  \\\"产线\\\",\\n        devName : \\\"设备信息\\\",\\n        appName : {\\n          name:\\\"报警来源\\\",\\n          type:\\\"alarmSource\\\",\\n          value : \\\"appName\\\"\\n        },\\n        alertTitle : \\\"报警信息\\\",\\n        severity :{\\n          name:\\\"报警级别\\\",\\n          type:\\\"priority\\\",\\n          value : \\\"severity\\\"\\n        },\\n        commitTime : \\\"报警处理时间\\\",\\n        handlerName : \\\"当前处理人\\\",\\n        tickeTaskStatus : \\\"任务状态\\\"\\n      };\\n\\n      function getTableData (time){\\n          var params = {\\n            tickeTaskStatus: time?time.status:\\\"\\\",\\n            commitBeginTime: time?time.firstTimeFrom:\\\"\\\",\\n            commitEndTime: time?time.firstTimeTo:\\\"\\\",\\n          };\\n          \\n          target.postService(\\\"ticketTaskService\\\", \\\"getDealTicketList\\\",params, function(tc){\\n           if(tc.data){\\n            var datas = [];\\n            tc.data.forEach(function(ele){\\n              var data = ele.values;\\n             if(data.tickeTaskStatus == \\\"checking\\\"){\\n               data.tickeTaskStatus  = \\\"待分析\\\";\\n             }else if(data.tickeTaskStatus == \\\"auditing\\\"){\\n               data.tickeTaskStatus = \\\"待审批 \\\";\\n             }else if(data.tickeTaskStatus == \\\"trusting\\\"){\\n               data.tickeTaskStatus = \\\"待委托\\\";\\n             }else if(data.tickeTaskStatus == \\\"end\\\"){\\n               data.tickeTaskStatus = \\\"已完成\\\";\\n             }else if(data.tickeTaskStatus == \\\"assessing\\\"){\\n               data.tickeTaskStatus = \\\"待评价\\\";\\n             }else if(data.tickeTaskStatus == \\\"explaining\\\"){\\n               data.tickeTaskStatus = \\\"待说明\\\";\\n             }else if(data.tickeTaskStatus == \\\"closing\\\"){\\n               data.tickeTaskStatus = \\\"待关闭\\\";\\n             }else if(data.tickeTaskStatus == \\\"accepting\\\"){\\n               data.tickeTaskStatus = \\\"待验收\\\";\\n             }else if(data.tickeTaskStatus == \\\"maintaining\\\"){\\n               data.tickeTaskStatus = \\\"待维修\\\";\\n             }\\n             data.ticket = ele;\\n             data.handlerName = ele.handlerName;\\n             data.commitTime = new Date(ele.commitTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n             datas.push(data);\\n           }) \\n            success(datas) \\n          }\\n        });  \\n        }\\n        getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){\\n       var render = function(advsearch){\\n        var format = [];\\n        for(var i in Dictionary){\\n          var item = target.explainDic(i, Dictionary[i]);\\n          format.push(item);\\n        }\\n        format.push({\\n          name : \\\"操作\\\",\\n          type: \\\"buttonGroup\\\",\\n          content :[{\\n            label : \\\"过程跟踪\\\",\\n            icon: \\\"null\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            on : {\\n              click : function(elem){\\n                  // 点检人员处理任务 2\\n                  //   elem.row.dealType = 2;\\n                //   target.navigateTo(\\\"index\\\", {\\n                //     main : [0,\\\"page11\\\"],\\n                //     ticketNo : elem.row.ticketNo,\\n                //   }, \\\"self\\\");\\n                   target.createSystemPopupByLocalPath(\\\"page11\\\", {\\n                           width : \\\"auto\\\",\\n                           title : \\\"过程跟踪\\\",\\n                   }, elem.row.ticketNo);\\n                }\\n              }\\n            }] ,\\n            render : function(){\\n              return \\\"\\\"\\n            }\\n          });\\n        target.render({\\n          data : datas,\\n          format : format\\n        });\\n      };\\n        // 点击日期按钮\\n        target.off(\\\"search_ticket\\\");\\n        target.on(\\\"search_ticket\\\", function(time){\\n          getTableData(time)\\n          render();\\n        });\\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"$$hashKey\":\"object:1320\"},{\"label\":\"诊断历史\",\"path\":\"page11\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n    //   target.trigger(\\\"lv1moveTo\\\", \\\"index\\\");\\n        // target.navigateTo(\\\"index\\\", {\\n        //   main : 0,\\n        // }, \\\"self\\\");\\n        target.cancel();\\n       \\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n  width : \\\"100%\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = target.getPopupData();\\n      console.log(\\\"ticketNo===\\\"+ticketNo);\\n      var ctrlGroups = [\\n      {\\n        time:\\\"2017-11-12 12:30:10\\\",\\n        icon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n        disList:[{\\n          value : \\\"<a href='#'>报警产生</a>\\\"\\n        },{\\n          value : \\\"报警类型：振动报警\\\"\\n        },{\\n          value : \\\"报警级别：警告\\\"\\n        },{\\n          value : \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n        }\\n        ]},\\n        {\\n          time:\\\"2017-11-12 12:30:10\\\",\\n          icon:\\\"fa fa-user bg-aqua bg-orange\\\",\\n          disList:[\\n          {\\n            value : \\\"<a href='#'>检修反馈</a>\\\"\\n          }\\n          ]},\\n          {\\n            time:\\\"2017-11-12 12:30:10\\\",\\n            icon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n            disList:[\\n            {\\n              value : \\\"<a href='#'>检修反馈</a>\\\"\\n            }\\n            ]}\\n            ];   \\n            var dateToString = function(now){  \\n              var year = now.getFullYear();  \\n              var month =(now.getMonth() + 1).toString();  \\n              var day = (now.getDate()).toString();  \\n              var hour = (now.getHours()).toString();  \\n              var minute = (now.getMinutes()).toString();  \\n              var second = (now.getSeconds()).toString();  \\n              if (month.length == 1) {  \\n                month = \\\"0\\\" + month;  \\n              }  \\n              if (day.length == 1) {  \\n                day = \\\"0\\\" + day;  \\n              }  \\n              if (hour.length == 1) {  \\n                hour = \\\"0\\\" + hour;  \\n              }  \\n              if (minute.length == 1) {  \\n                minute = \\\"0\\\" + minute;  \\n              }  \\n              if (second.length == 1) {  \\n                second = \\\"0\\\" + second;  \\n              }  \\n              var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day +\\\" \\\"+ hour +\\\":\\\"+minute+\\\":\\\"+second;  \\n              return dateTime;  \\n            }  \\n            if(ticketNo){\\n\\n              event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\",[ticketNo], function(dt){\\n                if(dt.code == 0){\\n                  var ticketHistoryList = dt.data;\\n                  var arr = [];\\n                  console.info(\\\"ticketHistoryList===\\\",ticketHistoryList);\\n                  for(var i in ticketHistoryList){\\n                    var cantentList = [];\\n                    var historyList = {time:\\\"\\\",icon:\\\"\\\",disList:\\\"\\\"};\\n                    if(ticketHistoryList[i].logType == \\\"startEvent\\\"){\\n                     historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                     cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n                   }\\n                   if(ticketHistoryList[i].logType == \\\"endEvent\\\"){\\n                     historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                     cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n                   }\\n                   if(ticketHistoryList[i].logType == \\\"cancelEvent\\\"){\\n                     historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                     cantentList.push({\\\"value\\\":\\\"已撤销\\\"});\\n                   }\\n                   if(ticketHistoryList[i].logType == \\\"userTask\\\"){\\n                     if(ticketHistoryList[i].ticketTask.taskStatus == 200){\\n                       historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                     }else{\\n                      historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                    }\\n                    var taskRemark = \\\"\\\";\\n                    if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined){\\n                     taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                   }\\n                   var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                   cantentList.push({\\\"value\\\":\\\"<a>\\\"+ticketHistoryList[i].message+\\\"</a>\\\"});\\n                   cantentList.push({\\\"value\\\":\\\"处理人:\\\"+handlerName+\\\"\\\"});\\n                   var foramTime = \\\"\\\";\\n                   if(ticketHistoryList[i].ticketTask.finishedTime){\\n                     foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                   }\\n                   console.log(\\\"处理时间==\\\"+ticketHistoryList[i].ticketTask.finishedTime);\\n                   cantentList.push({\\\"value\\\":\\\"处理时间:\\\"+foramTime+\\\"\\\"});\\n                 }\\n                 if(ticketHistoryList[i].logType == \\\"serviceTask\\\"){\\n                   historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                   cantentList.push({\\\"value\\\":\\\"处理人:系统\\\"});\\n                 }\\n                 historyList.disList = cantentList;\\n                 arr.push(historyList);\\n               }\\n               console.info(\\\"处理====\\\",arr);\\n               event.target.render(arr);\\n             }else{\\n              console.log(\\\"接口异常\\\");\\n            }\\n          })\\n            }else{\\n              event.target.render(ctrlGroups);\\n            }\\n\\n          }\\n        }\\n      }\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1327\"},{\"label\":\"待说明关闭说明弹出框\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"点检评价\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #777\",\"border-left\":\"0\",\"border-right\":\"0\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}],\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = target.getPopupData();\\n      if(ticketNo.variables.tallyEvaluateCheckboxlist == 0){\\n        ticketNo.variables.tallyEvaluateCheckboxlist = \\\"正确\\\"\\n      }else if(ticketNo.variables.tallyEvaluateCheckboxlist == 1){\\n        ticketNo.variables.tallyEvaluateCheckboxlist = \\\"基本正确\\\"\\n      }else if(ticketNo.variables.tallyEvaluateCheckboxlist == 2){\\n        ticketNo.variables.tallyEvaluateCheckboxlist = \\\"不正确\\\"\\n      }else {\\n        ticketNo.variables.tallyEvaluateCheckboxlist =  ticketNo.variables.tallyEvaluateCheckboxlist;\\n      }\\n      \\n      var ctrlGroups = [\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"提交人\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.tallyEvaluatUserName\\n      },{\\n        type : \\\"label\\\",\\n        value : \\\"设备名称\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.device.label\\n      }],\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"设备编号\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value :  ticketNo.variables.deviceCode\\n      },{\\n        type : \\\"label\\\",\\n        value : \\\"评价等级\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.tallyEvaluateCheckboxlist\\n      }],\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"评价说明\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.tallyEvaluateDealExplain\\n      }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"关闭说明\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #777\",\"border-left\":\"0\",\"border-right\":\"0\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}],\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var diagnoseDeclare;\\n      var ctrlGroups = [\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"关闭说明\\\"\\n      },{\\n        colSpan:2,\\n        type : \\\"textarea\\\",\\n        value : \\\"\\\",\\n        on: {\\n          change: function (elem) {\\n           diagnoseDeclare = elem.value;\\n         }\\n       }\\n     }],\\n     [{\\n      type : \\\"label\\\",\\n      value : \\\"\\\",   \\n    },{\\n      type : \\\"button\\\",\\n      value : \\\"确认\\\",\\n      btnclass : \\\"btn-primary\\\",\\n      on : {\\n        click : function(elem){\\n          var params = target.getPopupData();\\n          params.taskStatus = 200;\\n          params.values = {\\n            diagnoseDeclare:diagnoseDeclare,  \\n          }\\n          delete(params.variables)\\n          event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params , function (tc) {\\n            if (tc.code == 0) {\\n              event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n              target.trigger(\\\"search_toDolist\\\");\\n              target.cancel();\\n            } else {\\n              event.target.growl(tc.message, \\\"info\\\");\\n            }\\n          })\\n        }\\n      }\\n    },{\\n      type : \\\"button\\\",\\n      value : \\\"取消\\\",\\n      btnclass : \\\"btn-primary\\\",\\n      on : {\\n        click : function(elem){\\n          diagnoseDeclare = elem.value;\\n        }\\n      }\\n    }]\\n    ];\\n    event.target.render(ctrlGroups);\\n  }\\n}\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:609\"},{\"label\":\"被驳回关闭说明\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"点检评价\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #eee\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"提交人\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"点检管理员\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"设备名称\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"助燃风机#1\\\",\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"设备编号\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"mdsa235464\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"评价等级\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"正确\\\",\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"评价说明\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"诊断结果与点检结果一致\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"关闭说明\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #eee\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"关闭说明\\\"\\n        },{\\n          colSpan:2,\\n          type : \\\"textarea\\\",\\n          value : \\\"\\\",\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",   \\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"按钮\\\",\\n          btnclass : \\\"btn-primary\\\",\\n          on : {\\n            click : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"取消\\\",\\n          btnclass : \\\"btn-primary\\\",\\n          on : {\\n            click : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"历史记录\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #eee\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n//   \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\": {\\n    \\\"init\\\": function (event) {\\n      var target = event.target;\\n      target.on(\\\"histroyLoaded\\\", function (data) {\\n        console.log(data)\\n        \\n        //--------------------------自定义输入-----------------------------\\n        //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n        var Dictionary = {\\n          ticketNo: \\\"时间\\\",\\n          customerName: \\\"项目负责人\\\",\\n          standardName: \\\"工程项目名称\\\",\\n          alertTitle: \\\"维修方案\\\",\\n        };\\n     \\n        //--------------------------自定义输入-----------------------------\\n        //注意，下面内容别动！！！\\n        function success(datas) {\\n          var render = function (advsearch) {\\n            var format = [];\\n            for (var i in Dictionary) {\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            target.render({\\n              data: datas,\\n              format: format\\n            });\\n          };\\n          render();\\n        };\\n        success(data)\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:2508\"},{\"label\":\"审核被驳回报告编制\",\"path\":\"bhbgbz\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"page0\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"历史记录\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        finishedTime :  \\\"说明时间\\\",\\n        content :  \\\"审核意见\\\",\\n        handlerName : \\\"审核人\\\"\\n      };\\n      debugger\\n      var taskId = event.target.getParameter(\\\"taskId\\\");\\n      \\n      function getTableData (time){ \\n          target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasks\\\",[taskId], function(tc){\\n           if(tc.data){\\n               \\n            var historyDatas = [];\\n            for(var i = tc.data.length-2;i>=0;i--){\\n                if(tc.data[i].values.diagnoseDeclare||tc.data[i].values.auditDeclare){\\n                    var item = {\\n                        finishedTime:new Date(tc.data[i].finishedTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\"),\\n                        handlerName:tc.data[i].handlerName,\\n                        content:tc.data[i].values.diagnoseDeclare||tc.data[i].values.auditDeclare\\n                    }\\n                    historyDatas.push(item);\\n                }\\n            }\\n            success(historyDatas) \\n          }\\n        });  \\n        }\\n        getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){\\n       var render = function(advsearch){\\n        var format = [];\\n        for(var i in Dictionary){\\n          var item = target.explainDic(i, Dictionary[i]);\\n          format.push(item);\\n        }\\n        target.render({\\n            data : datas,\\n            format : format\\n          });\\n      };\\n    \\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var devName = event.target.getParameter(\\\"devName\\\");\\n      var deviceCode = event.target.getParameter(\\\"deviceCode\\\");\\n      console.info(\\\"workObj===\\\",devName);\\n      var dName = \\\"设备名称:\\\";\\n      var numberD = \\\"设备编号:\\\";\\n      if(devName != undefined){\\n         dName = \\\"设备名称:\\\"+devName+\\\"\\\";\\n      }\\n      if(deviceCode != undefined){\\n        numberD = \\\"设备编号:\\\"+deviceCode+\\\"\\\";\\n      }\\n      var ctrlGroups = [\\n      [{\\n          type : \\\"label\\\",\\n          value : dName,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : numberD,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var taskId = event.target.getParameter(\\\"taskId\\\");\\n      var protocol = window.location.protocol;\\n      var host = window.location.host;\\n      var lc= protocol+\\\"//\\\"+host;\\n      var myDicts = {};\\n      console.info(\\\"pathname====\\\",window.location.protocol); \\n      var configParam = {\\n          \\\"resourceId\\\": taskId,\\n          \\\"label\\\": \\\"test\\\",\\n          \\\"description\\\": \\\"base\\\",\\n          \\\"type\\\":\\\"gatewayModel\\\"\\n      };\\n     var ctrlGroupsObj = {};\\n     var ctrlGroups = [[{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"设备告警信息\\\"\\n      },{\\n        type : \\\"input\\\",\\n        value : \\\"\\\",\\n       disabled:true\\n      }],[{\\n        type : \\\"label\\\",\\n        class:\\\"col-md-2\\\",\\n        value : \\\"异常现象\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"detailTask===\\\",event.global.detailTask); \\n             if(event.global.detailTask.values && event.global.detailTask.values.abnPhenomenon != undefined){\\n                event.global.detailTask.values.abnPhenomenon = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }],[{\\n        type : \\\"label\\\",\\n        class:\\\"col-md-2\\\",\\n        value : \\\"工艺状况\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.technicsStatus != undefined){\\n                event.global.detailTask.values.technicsStatus = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }],[{\\n        type : \\\"label\\\",\\n        class:\\\"col-md-2\\\",\\n        value : \\\"检测部位\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.position != undefined){\\n                event.global.detailTask.values.position = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"注意事项\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.attention != undefined){\\n                event.global.detailTask.values.attention = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options :[],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n        class:\\\"col-md-2\\\",\\n        value : \\\"判断标准\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.standard != undefined){\\n                event.global.detailTask.values.standard = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options :[],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"判断依据\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.basis != undefined){\\n                event.global.detailTask.values.basis = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n        value : \\\"判断依据图片\\\",\\n        class:\\\"col-md-2\\\"\\n      },{\\n        type : \\\"customHtml\\\",\\n        value : \\\"\\\"\\n      }],[{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"综合状态等级\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       options :[],\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.statusGrade != undefined){\\n                event.global.detailTask.values.statusGrade = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }],[{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"异常部位\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.abnPosition != undefined){\\n                event.global.detailTask.values.abnPosition = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options :[],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"故障产生原因\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.failureRepairReson != undefined){\\n                event.global.detailTask.values.failureRepairReson = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"综合判断结论\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [],\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.multipleConclusion != undefined){\\n                event.global.detailTask.values.multipleConclusion = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }],[{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"处理方案建议\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       options : [],\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.cessingScheme != undefined){\\n                event.global.detailTask.values.cessingScheme = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }],\\n      [{\\n            type : \\\"label\\\",\\n            value : \\\"备注\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"textarea\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values && event.global.detailTask.values.remark != undefined){\\n                   event.global.detailTask.values.remark = elem.value;\\n                }\\n              }\\n            }\\n          }],[{\\n            type : \\\"label\\\",\\n            value : \\\"附件\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"customHtml\\\",\\n            value : \\\"\\\"\\n          }]];\\n      \\n         event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n             if(returnObj.code == 0){\\n                  var dic = {};\\n                    for(var i in returnObj.data) {\\n                      var obj = returnObj.data[i];\\n                      if(dic[obj.dictCode]) {\\n                        dic[obj.dictCode].push(obj);\\n                      } else {\\n                        dic[obj.dictCode] = [];\\n                        dic[obj.dictCode].push(obj);\\n                      }\\n                    }\\n                    for(var items in dic) {\\n                      myDicts[items] = dic[items];\\n                    }\\n                   event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n                    if(tc.code == 0){\\n                    console.info(\\\"getTicketTaskById===\\\",tc.data);\\n                    ctrlGroupsObj = tc.data.variables;\\n                    ctrlGroups[1][1].options = myDicts[\\\"abnPhenomenon\\\"];  \\n                    ctrlGroups[2][1].options = myDicts[\\\"technicsStatus\\\"];    \\n                    ctrlGroups[3][1].options = myDicts[\\\"position\\\"];    \\n                    ctrlGroups[4][1].options = myDicts[\\\"attention\\\"];    \\n                    ctrlGroups[5][1].options = myDicts[\\\"standard\\\"];    \\n                    ctrlGroups[6][1].options = myDicts[\\\"basis\\\"];    \\n                    ctrlGroups[8][1].options = myDicts[\\\"statusGrade\\\"];    \\n                    ctrlGroups[9][1].options = myDicts[\\\"abnPosition\\\"];     \\n                    ctrlGroups[10][1].options = myDicts[\\\"failureRepairReson\\\"];     \\n                    ctrlGroups[11][1].options = myDicts[\\\"multipleConclusion\\\"];        \\n                    ctrlGroups[12][1].options = myDicts[\\\"cessingScheme\\\"];     \\n                    tc.data.values = {};\\n                    if(ctrlGroupsObj.alertTitle !=undefined){\\n                    ctrlGroups[0][1].value = ctrlGroupsObj.alertTitle; \\n                    tc.data.values[\\\"alertTitle\\\"] = ctrlGroupsObj.alertTitle;\\n                    }  \\n                    if(ctrlGroupsObj.abnPhenomenon !=undefined){\\n                    ctrlGroups[1][1].value = ctrlGroupsObj.abnPhenomenon;\\n                    tc.data.values[\\\"abnPhenomenon\\\"] = ctrlGroupsObj.abnPhenomenon;\\n                    }  \\n                    if(ctrlGroupsObj.technicsStatus !=undefined){\\n                    ctrlGroups[2][1].value = ctrlGroupsObj.technicsStatus;\\n                    tc.data.values[\\\"technicsStatus\\\"] = ctrlGroupsObj.technicsStatus;\\n                    }  \\n                    if(ctrlGroupsObj.position !=undefined){\\n                    ctrlGroups[3][1].value = ctrlGroupsObj.position;\\n                    tc.data.values[\\\"position\\\"] = ctrlGroupsObj.position;\\n                    }  \\n                    if(ctrlGroupsObj.attention !=undefined){\\n                    ctrlGroups[4][1].value = ctrlGroupsObj.attention;\\n                    tc.data.values[\\\"attention\\\"] = ctrlGroupsObj.attention;\\n                    }  \\n                    if(ctrlGroupsObj.standard !=undefined){\\n                    ctrlGroups[5][1].value = ctrlGroupsObj.standard;\\n                    tc.data.values[\\\"standard\\\"] = ctrlGroupsObj.standard;\\n                    }  \\n                    if(ctrlGroupsObj.basis !=undefined){\\n                    ctrlGroups[6][1].value = ctrlGroupsObj.basis;\\n                    tc.data.values[\\\"basis\\\"] = ctrlGroupsObj.basis;\\n                    } \\n                    if(ctrlGroupsObj.basisImage !=undefined){\\n                        var str = \\\"\\\";\\n                        if(ctrlGroupsObj.basisImage.length >0){\\n                           var arr = ctrlGroupsObj.basisImage;\\n                           for(var j in arr){\\n                               str +=\\\"<img src='\\\"+lc+\\\"\\\"+arr[j].value+\\\"' style='width: 200px;height: 200px;margin-right: 10px;' />\\\";\\n                           }\\n                        } \\n                    tc.data.values[\\\"basisImage\\\"] = ctrlGroupsObj.basisImage;\\n                        ctrlGroups[7][1].value = str;\\n            \\n                    }\\n                    if(ctrlGroupsObj.statusGrade !=undefined){\\n                    ctrlGroups[8][1].value = ctrlGroupsObj.statusGrade;\\n                    tc.data.values[\\\"statusGrade\\\"] = ctrlGroupsObj.statusGrade;\\n                    } \\n                    if(ctrlGroupsObj.abnPosition !=undefined){\\n                    ctrlGroups[9][1].value = ctrlGroupsObj.abnPosition;\\n                    tc.data.values[\\\"abnPosition\\\"] = ctrlGroupsObj.abnPosition;\\n                    } \\n                    if(ctrlGroupsObj.failureRepairReson !=undefined){\\n                    ctrlGroups[10][1].value = ctrlGroupsObj.failureRepairReson;\\n                    tc.data.values[\\\"failureRepairReson\\\"] = ctrlGroupsObj.failureRepairReson;\\n                    } \\n                    if(ctrlGroupsObj.multipleConclusion !=undefined){\\n                    ctrlGroups[11][1].value = ctrlGroupsObj.multipleConclusion;\\n                    tc.data.values[\\\"multipleConclusion\\\"] = ctrlGroupsObj.multipleConclusion;\\n                    } \\n                    if(ctrlGroupsObj.cessingScheme !=undefined){\\n                    ctrlGroups[12][1].value = ctrlGroupsObj.cessingScheme;\\n                    tc.data.values[\\\"cessingScheme\\\"] = ctrlGroupsObj.cessingScheme;\\n                    } \\n                    if(ctrlGroupsObj.remark !=undefined){\\n                    ctrlGroups[13][1].value = ctrlGroupsObj.remark;\\n                    tc.data.values[\\\"remark\\\"] = ctrlGroupsObj.remark;\\n                    } \\n                    if(ctrlGroupsObj.attUpload !=undefined){\\n                        var str = \\\"\\\";\\n                        if(ctrlGroupsObj.attUpload.length >0){\\n                           var arr = ctrlGroupsObj.attUpload;\\n                           for(var j in arr){\\n                               str +=\\\"<a href='\\\"+lc+\\\"\\\"+arr[j].value.qualifiedName+\\\"' target='_blank' style='margin-right:10px;'>\\\"+arr[j].label+\\\"</a>\\\";\\n                           }\\n                        }\\n                       tc.data.values[\\\"attUpload\\\"] = ctrlGroupsObj.attUpload;\\n                       ctrlGroups[14][1].value = str;\\n                    }\\n\\n\\n                     event.global.fire(\\\"savetask\\\",tc.data)\\n                     event.target.render(ctrlGroups);\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                  })\\n             }\\n         });\\n   \\n   \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"提   交\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var checkStatus = true;\\n                console.info(\\\"提交======\\\",event.global.detailTask);\\n            //   if(event.global.detailTask.values && event.global.detailTask.values.alertTitle !=undefined){\\n            //      if(!event.global.detailTask.values.alertTitle){\\n            //          event.target.growl(\\\"请选择设备告警信息\\\",\\\"warning\\\");\\n            //          checkStatus = false;\\n            //          return;\\n            //      }\\n            //     }\\n                if(event.global.detailTask.values && event.global.detailTask.values.abnPhenomenon !=undefined){\\n                 if(!event.global.detailTask.values.abnPhenomenon){\\n                     event.target.growl(\\\"请选择异常现象\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.technicsStatus !=undefined){\\n                 if(!event.global.detailTask.values.technicsStatus){\\n                     event.target.growl(\\\"请选择工艺状况\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.position !=undefined){\\n                 if(!event.global.detailTask.values.position){\\n                     event.target.growl(\\\"请选择检测部位\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.attention !=undefined){\\n                 if(!event.global.detailTask.values.attention){\\n                     event.target.growl(\\\"请选择注意事项\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.standard !=undefined){\\n                 if(!event.global.detailTask.values.standard){\\n                     event.target.growl(\\\"请选择判断标准\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.basis !=undefined){\\n                 if(!event.global.detailTask.values.basis){\\n                     event.target.growl(\\\"请选择判断依据\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.statusGrade !=undefined){\\n                 if(!event.global.detailTask.values.statusGrade){\\n                     event.target.growl(\\\"请选择综合状态等级\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.failureRepairReson !=undefined){\\n                 if(!event.global.detailTask.values.failureRepairReson){\\n                     event.target.growl(\\\"请选择故障产生原因\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.multipleConclusion !=undefined){\\n                 if(!event.global.detailTask.values.multipleConclusion){\\n                     event.target.growl(\\\"请选择综合判断结论\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.cessingScheme !=undefined){\\n                 if(!event.global.detailTask.values.cessingScheme){\\n                     event.target.growl(\\\"请选择处理方案建议\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n                if(checkStatus){\\n                    event.global.detailTask.taskStatus = 200;\\n                    event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", event.global.detailTask, function(tc){\\n                        if(tc.code == 0){\\n                          event.target.growl(\\\"报诊断报告提交成功，等待审核\\\",\\\"success\\\");\\n                          target.navigateTo(\\\"page0\\\");\\n                        }else{\\n                \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                        }\\n                    })\\n                }\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"取   消\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                target.navigateTo(\\\"page0\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:615\"},{\"label\":\"最终说明被驳回的弹出框\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"点检评价\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #777\",\"border-left\":\"0\",\"border-right\":\"0\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}],\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = target.getPopupData();\\n      if(ticketNo.variables.tallyEvaluateCheckboxlist == 0){\\n        ticketNo.variables.tallyEvaluateCheckboxlist = \\\"正确\\\"\\n      }else if(ticketNo.variables.tallyEvaluateCheckboxlist == 1){\\n        ticketNo.variables.tallyEvaluateCheckboxlist = \\\"基本正确\\\"\\n      }else if(ticketNo.variables.tallyEvaluateCheckboxlist == 2){\\n        ticketNo.variables.tallyEvaluateCheckboxlist = \\\"不正确\\\"\\n      }else {\\n        ticketNo.variables.tallyEvaluateCheckboxlist =  ticketNo.variables.tallyEvaluateCheckboxlist;\\n      }\\n      \\n      var ctrlGroups = [\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"提交人\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.tallyEvaluatUserName\\n      },{\\n        type : \\\"label\\\",\\n        value : \\\"设备名称\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.device.label\\n      }],\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"设备编号\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value :  ticketNo.variables.deviceCode\\n      },{\\n        type : \\\"label\\\",\\n        value : \\\"评价等级\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.tallyEvaluateCheckboxlist\\n      }],\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"评价说明\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.tallyEvaluateDealExplain\\n      }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"关闭说明\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #777\",\"border-left\":\"0\",\"border-right\":\"0\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}],\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var diagnoseDeclare;\\n      var ctrlGroups = [\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"关闭说明\\\"\\n      },{\\n        colSpan:2,\\n        type : \\\"textarea\\\",\\n        value : \\\"\\\",\\n        on: {\\n          change: function (elem) {\\n           diagnoseDeclare = elem.value;\\n         }\\n       }\\n     }],\\n     [{\\n      type : \\\"label\\\",\\n      value : \\\"\\\",   \\n    },{\\n      type : \\\"button\\\",\\n      value : \\\"确认\\\",\\n      btnclass : \\\"btn-primary\\\",\\n      on : {\\n        click : function(elem){\\n          var params = target.getPopupData();\\n          params.taskStatus = 200;\\n          params.values = {\\n            diagnoseDeclare:diagnoseDeclare \\n          }\\n          delete(params.variables)\\n          event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params , function (tc) {\\n            if (tc.code == 0) {\\n              event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n              target.trigger(\\\"search_toDolist\\\");\\n              target.cancel();\\n            } else {\\n              event.target.growl(tc.message, \\\"info\\\");\\n            }\\n          })\\n        }\\n      }\\n    },{\\n      type : \\\"button\\\",\\n      value : \\\"取消\\\",\\n      btnclass : \\\"btn-primary\\\",\\n      on : {\\n        click : function(elem){\\n          target.cancel();\\n        }\\n      }\\n    }]\\n    ];\\n    event.target.render(ctrlGroups);\\n  }\\n}\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"历史记录\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        finishedTime :  \\\"时间\\\",\\n        content :  \\\"内容\\\",\\n        handlerName : \\\"说明人\\\"\\n      };\\n\\n      function getTableData (time){ \\n          target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasks\\\",[target.getPopupData().ticketNo], function(tc){\\n           if(tc.data){\\n            var historyDatas = [];\\n            for(var i = tc.data.length-2;i>=0;i--){\\n                if(tc.data[i].values.diagnoseDeclare||tc.data[i].values.auditDeclare){\\n                    var item = {\\n                        finishedTime:new Date(tc.data[i].finishedTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\"),\\n                        handlerName:tc.data[i].handlerName,\\n                        content:tc.data[i].values.diagnoseDeclare||tc.data[i].values.auditDeclare\\n                    }\\n                    historyDatas.push(item);\\n                }\\n            }\\n            success(historyDatas) \\n          }\\n        });  \\n        }\\n        getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){\\n       var render = function(advsearch){\\n        var format = [];\\n        for(var i in Dictionary){\\n          var item = target.explainDic(i, Dictionary[i]);\\n          format.push(item);\\n        }\\n        target.render({\\n          data : datas,\\n          on : {\\n            rowClick : function(event){\\n                // target.createPopupBypath('analysis', {\\n                //   title: \\\"诊断分析\\\",\\n                //   theme : \\\"system\\\",\\n                //   width: \\\"80%\\\"\\n                // }, {\\n                //   message: \\\"诊断分析\\\"\\n                // })\\n              }\\n            },\\n            format : format\\n          });\\n      };\\n    \\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:1662\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"none\\\"\\n}\"}"
    },
    {
      "viewTitle": "我的首页(工作台_baogang/home)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var render = function(data){\\n        var list = [{\\n                label : \\\"待诊断任务数\\\",\\n                value : data,\\n                icon : \\\"proudsmart ps-gongdanguanli\\\",\\n                css : {\\n                    \\\"background-color\\\" : \\\"#0c466d\\\",\\n                    \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n                }\\n            },{\\n                label : \\\"诊断中任务数\\\",\\n                value : 45,\\n                icon : \\\"glyphicon glyphicon-briefcase\\\",\\n                css : {\\n                    \\\"background-color\\\" : \\\"#484b2f\\\",\\n                    \\\"border\\\" : \\\"1px solid #e7b52b\\\"\\n                }\\n            },{\\n                label : \\\"综合诊断任务数\\\",\\n                value : 37,\\n                icon : \\\"glyphicon glyphicon-duplicate\\\",\\n                css : {\\n                    \\\"background-color\\\" : \\\"#472d3c\\\",\\n                    \\\"border\\\" : \\\"1px solid #e55057\\\"\\n                }\\n            },{\\n                label : \\\"协同诊断任务数\\\",\\n                value : 42,\\n                icon : \\\"proudsmart ps-innovate\\\",\\n                css : {\\n                    \\\"background-color\\\" : \\\"#0c466d\\\",\\n                    \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n                }\\n            }];\\n        target.render(list);\\n      };\\n      render(0);\\n      target.off(\\\"auditLoaded\\\");\\n      target.on(\\\"auditLoaded\\\", function (data) {\\n        render(data.length)\\n      });\\n    }\\n  }\\n}\"},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var css = data.css;\\n            target.setCss(css);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n        \\n      var target = event.target;\\n      var global = event.global;\\n      var data = target.$repeatData;\\n      var ctrlGroups = [\\n           [{\\n          type : \\\"icon\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"60px\\\"\\n          },\\n          tdStyle : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          icon : data.icon\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : data.value,\\n          style : {\\n              \\\"font-size\\\" : \\\"30px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          class : \\\"col-md-12\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : data.label,\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"12px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3}],\"style\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待处理任务\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n      \\n         var ctrlGroups = [\\n            [\\n              {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日报警\\\",\\n              btnclass:currStatus==\\\"today\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               target.trigger(\\\"search_toDolist\\\",timeObj)\\n               currStatus = \\\"today\\\";\\n               render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周报警\\\",\\n              btnclass:currStatus==\\\"bz\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n               target.trigger(\\\"search_toDolist\\\",timeObj)\\n               currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月报警\\\",\\n              btnclass:currStatus==\\\"month\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               target.trigger(\\\"search_toDolist\\\",timeObj);\\n               currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    if(inpStatus){\\n                       target.trigger(\\\"search_toDolist\\\",timeObj)\\n                       currStatus = \\\"\\\";\\n                       inpStatus = false;\\n                    //   render();\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        ticketNo :  \\\"任务编号\\\",\\n        customerName :  \\\"产线\\\",\\n        devName : \\\"设备信息\\\",\\n        appName : {\\n            name:\\\"报警来源\\\",\\n            type:\\\"alarmSource\\\",\\n            value : \\\"appName\\\"\\n        },\\n        // alertTitle : \\\"报警信息\\\",\\n        alertTitle :\\\"报警信息\\\",\\n        severity :{\\n            name:\\\"报警级别\\\",\\n            type:\\\"priority\\\"\\n        },\\n        sendTime : \\\"报警分配时间\\\",\\n        handlerName : \\\"当前处理人\\\",\\n        tickeTaskStatus : \\\"任务状态\\\"\\n      };\\n      function getTableData (time){\\n        var param = {\\n          //   \\\"variables\\\":{\\\"theTicketType\\\":\\\"normal\\\"},\\n          \\\"taskStatus\\\":10,\\n          \\\"sendBeginTime\\\": time?time.firstTimeFrom:\\\"\\\",\\n          \\\"sendEndTime\\\": time?time.firstTimeTo:\\\"\\\",\\n        };\\n        var params = eval(\\\"(\\\" + JSON.stringify(param) + \\\")\\\");\\n        target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\",params, function(tc){\\n          if(tc.data){\\n            var datas = [];\\n            tc.data.forEach(function(ele){\\n              var data = ele.variables.ticket.values;\\n              if(ele.variables.ticket.values.tickeTaskStatus ==\\\"auditing\\\"){\\n                data.tickeTaskStatus = \\\"待审批\\\";\\n                data.tickeTaskStatusName = \\\"auditing\\\"\\n              }else if(ele.variables.ticket.values.tickeTaskStatus==\\\"closing\\\"){\\n                data.tickeTaskStatus = \\\"待关闭\\\";\\n                data.tickeTaskStatusName = \\\"closing\\\"\\n              }else if(ele.variables.ticket.values.tickeTaskStatus==\\\"assessing\\\"){\\n                data.tickeTaskStatus = \\\"待评价\\\"\\n                data.tickeTaskStatusName = \\\"accepting\\\"\\n              }\\n              data.rowObj = ele;\\n              data.handlerName = ele.handlerName;\\n              data.sendTime = new Date(ele.sendTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n              datas.push(data);\\n            })\\n \\n            target.trigger(\\\"auditLoaded\\\", datas);\\n            success(datas)\\n          }\\n        });\\n      }\\n      getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){ \\n        var render = function(advsearch){\\n          var format = [];\\n          for(var i in Dictionary){ \\n            var item = target.explainDic(i, Dictionary[i]);\\n            format.push(item);\\n          }\\n     \\n          // 方法\\n          format.push({\\n            name : \\\"操作\\\",\\n            type : \\\"valueBased\\\",\\n            value : \\\"tickeTaskStatusName\\\",\\n            options : {\\n              //  待审核出现的情况\\n              auditing : {\\n                type: \\\"buttonGroup\\\",\\n                content :[{\\n                  label : \\\"报告审核\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-primary btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n    \\n                    var param = {\\n                      taskId: elem.row.rowObj.id\\n                    }\\n                    target.navigateTo(\\\"page8\\\",param);\\n\\n                    //   target.createSystemPopupByLocalPath(\\\"page3\\\", {\\n                    //     width : \\\"100%\\\",\\n                    //     title : \\\"\\\",\\n                    //   }, elem.row.rowObj);\\n       \\n                         \\n                    }\\n                  }\\n                }] ,\\n                render : function(){\\n                  return \\\"\\\"\\n                }\\n              },\\n               // 待关闭出现的情况\\n              closing : {\\n                name : \\\"操作\\\",\\n                type: \\\"buttonGroup\\\",\\n                content :[{\\n                  label : \\\"关闭审核\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                      target.createSystemPopupByLocalPath(\\\"page5\\\", {\\n                        width : \\\"800px\\\",\\n                        title : \\\"关闭审核\\\",\\n                      }, elem.row.rowObj);\\n                    \\n                    }\\n                  }\\n                }] ,\\n                render : function(){\\n                  return \\\"\\\"\\n                }\\n              },\\n           \\n            }\\n          });\\n          \\n          console.log(format);\\n          target.render({\\n            data : datas,\\n            on : {\\n              rowClick : function(event){\\n                // target.createPopupBypath('analysis', {\\n                //   title: \\\"诊断分析\\\",\\n                //   theme : \\\"system\\\",\\n                //   width: \\\"80%\\\"\\n                // }, {\\n                //   message: \\\"诊断分析\\\"\\n                // })\\n              }\\n            },\\n            format : format\\n          });\\n        };\\n        // 点击查询按钮\\n\\n        target.off(\\\"search_toDolist\\\");\\n        target.on(\\\"search_toDolist\\\", function(time){\\n          getTableData(time)\\n          render();\\n        });\\n\\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width: \\\"auto\\\",\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\": \\\"\\\", \\\"firstTimeTo\\\": \\\"\\\",\\\"status\\\": \\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期\\n      var list = [{\\n        id : 1,\\n        title : \\\"全部\\\",\\n        value : \\\"\\\",\\n        btnclass:\\\"btn btn-primary\\\",\\n        activeclass:\\\"\\\"\\n      },/*{\\n          id : 2,\\n          title : \\\"待分析\\\",\\n          value : \\\"checking\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },*/{\\n        id : 3,\\n        title : \\\"待审批\\\",\\n        value : \\\"auditing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 4,\\n        title : \\\"待委托\\\",\\n        value : \\\"trusting\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 5,\\n        title : \\\"待维修\\\",\\n        value : \\\"maintaining\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 6,\\n        title : \\\"待验收\\\",\\n        value : \\\"accepting\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 7,\\n        title : \\\"待评价\\\",\\n        value : \\\"assessing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 8,\\n        title : \\\"待说明\\\",\\n        value : \\\"explaining\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 9,\\n        title : \\\"待关闭\\\",\\n        value : \\\"closing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 10,\\n        title : \\\"已完成\\\",\\n        value : \\\"end\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      }];\\n      var render = function () {\\n        var ctrlGroups = [\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width: \\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            }, {\\n            type: \\\"button\\\",\\n            value: \\\"当日处理任务\\\",\\n            btnclass: currStatus == \\\"today\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n                timeObj.firstTimeFrom = today;\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj)\\n                currStatus = \\\"today\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"本周处理任务\\\",\\n            btnclass: currStatus == \\\"bz\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n\\n                //获得本周的开端日期\\n                function getWeekStartDate() {\\n                  var nowDayOfWeek = now.getDay(); //今天本周的第几天\\n                  var nowDay = now.getDate(); //当前日\\n                  var nowMonth = now.getMonth(); //当前月\\n                  var nowYear = now.getFullYear(); //当前年\\n                  var weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek);\\n                  return weekStartDate;\\n                }\\n\\n                timeObj.firstTimeFrom = getWeekStartDate();\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj)\\n                currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"当月处理任务\\\",\\n            btnclass: currStatus == \\\"month\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n\\n                //当前月的第一天\\n                function getCurrentMonthFirst() {\\n                  var date = new Date();\\n                  date.setDate(1);\\n                  return date;\\n                }\\n\\n                timeObj.firstTimeFrom = getCurrentMonthFirst();\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj);\\n                currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: \\\"\\\",\\n            class: \\\"col-md-5\\\",\\n            colSpan : 2,\\n            style: {\\n              width: \\\"200px\\\",\\n              textAlign: \\\"center\\\"\\n            },\\n            on: {\\n              change: function (elem) {\\n                timeObj.firstTimeFrom = elem.value.start;\\n                timeObj.firstTimeTo = elem.value.end;\\n                if (elem.value.start) {\\n                  inpStatus = true;\\n                }\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on: {\\n              click: function (elem) {\\n                if (inpStatus) {\\n                  target.trigger(\\\"search_ticket\\\", timeObj)\\n                  currStatus = \\\"\\\";\\n                  inpStatus = false;\\n                  //   render();\\n                } else {\\n                  event.target.growl(\\\"请选择时间\\\", \\\"warning\\\");\\n                }\\n              }\\n            }\\n          }],\\n          // 完成任务\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"任务状态:\\\",\\n              style: {\\n                textAlign: \\\"right\\\",\\n                width: \\\"100px\\\"\\n              }\\n            }\\n          ]\\n        ];\\n        for(var i in list){\\n          ctrlGroups[1].push({\\n            id : list[i].id,\\n            type : \\\"button\\\",\\n            value : list[i].title,\\n            btnclass :list[i].btnclass,\\n            paramvalue:list[i].value,\\n\\n            // style: {\\n            //   width: \\\"100px\\\",\\n            //   textAlign: \\\"left\\\"\\n            // },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                elem.current.btnclass = \\\"btn btn-default\\\";\\n                var id = elem.current.id;\\n                var value = elem.current.paramvalue;\\n                timeObj.status = value;\\n                target.trigger(\\\"search_ticket\\\",timeObj)\\n\\n                for(var i in list){\\n                  if(list[i].id == id){\\n                    list[i].btnclass = \\\"btn btn-primary\\\";\\n                  } else {\\n                    list[i].btnclass = \\\"btn btn-default\\\";\\n                  }\\n\\n                }\\n                render()\\n              }\\n            }\\n          });\\n        }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"已处理任务\\\")\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        ticketNo :  \\\"任务编号\\\",\\n        customerName :  \\\"产线\\\",\\n        devName : \\\"设备信息\\\",\\n        appName : {\\n          name:\\\"报警来源\\\",\\n          type:\\\"alarmSource\\\",\\n          value : \\\"appName\\\"\\n        },\\n        alertTitle : \\\"报警信息\\\",\\n        severity :{\\n          name:\\\"报警级别\\\",\\n          type:\\\"priority\\\",\\n          value : \\\"severity\\\"\\n        },\\n        commitTime : \\\"报警处理时间\\\",\\n        handlerName : \\\"当前处理人\\\",\\n        tickeTaskStatus : \\\"任务状态\\\"\\n      };\\n\\n      function getTableData (time){\\n          var params = {\\n            tickeTaskStatus: time?time.status:\\\"\\\",\\n            commitBeginTime: time?time.firstTimeFrom:\\\"\\\",\\n            commitEndTime: time?time.firstTimeTo:\\\"\\\",\\n          };\\n          \\n          target.postService(\\\"ticketTaskService\\\", \\\"getDealTicketList\\\",params, function(tc){\\n           if(tc.data){\\n            var datas = [];\\n            tc.data.forEach(function(ele){\\n              var data = ele.values;\\n             if(data.tickeTaskStatus == \\\"checking\\\"){\\n               data.tickeTaskStatus  = \\\"待分析\\\";\\n             }else if(data.tickeTaskStatus == \\\"auditing\\\"){\\n               data.tickeTaskStatus = \\\"待审批 \\\";\\n             }else if(data.tickeTaskStatus == \\\"trusting\\\"){\\n               data.tickeTaskStatus = \\\"待委托\\\";\\n             }else if(data.tickeTaskStatus == \\\"end\\\"){\\n               data.tickeTaskStatus = \\\"已完成\\\";\\n             }else if(data.tickeTaskStatus == \\\"assessing\\\"){\\n               data.tickeTaskStatus = \\\"待评价\\\";\\n             }else if(data.tickeTaskStatus == \\\"explaining\\\"){\\n               data.tickeTaskStatus = \\\"待说明\\\";\\n             }else if(data.tickeTaskStatus == \\\"closing\\\"){\\n               data.tickeTaskStatus = \\\"待关闭\\\";\\n             }else if(data.tickeTaskStatus == \\\"accepting\\\"){\\n               data.tickeTaskStatus = \\\"待验收\\\";\\n             }else if(data.tickeTaskStatus == \\\"maintaining\\\"){\\n               data.tickeTaskStatus = \\\"待维修\\\";\\n             }\\n             data.ticket = ele;\\n             data.handlerName = ele.handlerName;\\n             data.commitTime = new Date(ele.commitTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n             datas.push(data);\\n           }) \\n            success(datas) \\n          }\\n        });  \\n        }\\n        getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){\\n       var render = function(advsearch){\\n        var format = [];\\n        for(var i in Dictionary){\\n          var item = target.explainDic(i, Dictionary[i]);\\n          format.push(item);\\n        }\\n        format.push({\\n          name : \\\"操作\\\",\\n          type: \\\"buttonGroup\\\",\\n          content :[{\\n            label : \\\"过程跟踪\\\",\\n            icon: \\\"null\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            on : {\\n              click : function(elem){\\n                //   target.navigateTo(\\\"page9\\\", {\\n                //       main : [0,\\\"detail\\\"],\\n                //       ticketNo : elem.row.ticketNo,\\n                //     }, \\\"self\\\");\\n                  target.createSystemPopupByLocalPath(\\\"detail\\\", {\\n                          width : \\\"auto\\\",\\n                          title : \\\"诊断历史\\\",\\n                  }, elem.row.ticketNo);\\n                }\\n              }\\n            }] ,\\n            render : function(){\\n              return \\\"\\\"\\n            }\\n          });\\n        target.render({\\n          data : datas,\\n          format : format\\n        });\\n      };\\n        // 点击日期按钮\\n        target.off(\\\"search_ticket\\\");\\n        target.on(\\\"search_ticket\\\", function(time){\\n          getTableData(time)\\n          render();\\n        });\\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"$$hashKey\":\"object:1356\"},{\"label\":\"诊断历史记录\",\"path\":\"detail\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n       var target = event.target;\\n     target.cancel();\\n    //   target.navigateTo(\\\"index\\\", {\\n    //       main : 0,\\n    //     }, \\\"self\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n      width: \\\"100%\\\",\\n      on: {\\n        init: function(event) { \\n          var target = event.target;\\n          var global = event.global;\\n          var ticketNo = target.getPopupData();\\n          var ctrlGroups = [{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>报警产生</a>\\\"\\n              }, {\\n                value: \\\"报警类型：振动报警\\\"\\n              }, {\\n                value: \\\"报警级别：警告\\\"\\n              }, {\\n                value: \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n              }]\\n            },{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user bg-aqua bg-orange\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\n              }]\\n            },{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\n              }]\\n            }\\n          ];\\n          var dateToString = function(now) {\\n            var year = now.getFullYear();\\n            var month = (now.getMonth() + 1).toString();\\n            var day = (now.getDate()).toString();\\n            var hour = (now.getHours()).toString();\\n            var minute = (now.getMinutes()).toString();\\n            var second = (now.getSeconds()).toString();\\n            if(month.length == 1) {\\n              month = \\\"0\\\" + month;\\n            }\\n            if(day.length == 1) {\\n              day = \\\"0\\\" + day;\\n            }\\n            if(hour.length == 1) {\\n              hour = \\\"0\\\" + hour;\\n            }\\n            if(minute.length == 1) {\\n              minute = \\\"0\\\" + minute;\\n            }\\n            if(second.length == 1) {\\n              second = \\\"0\\\" + second;\\n            }\\n            var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day + \\\" \\\" + hour + \\\":\\\" + minute + \\\":\\\" + second;\\n            return dateTime;\\n          };\\n          if(ticketNo) {\\n              event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\", [ticketNo], function(dt) {\\n                  if(dt.code == 0) {\\n                      var ticketHistoryList = dt.data;\\n                      var arr = [];\\n                      for(var i in ticketHistoryList) {\\n                      var cantentList = [];\\n                      var historyList = {\\n                        time: \\\"\\\",\\n                        icon: \\\"\\\",\\n                        disList: \\\"\\\"\\n                      };\\n                      if(ticketHistoryList[i].logType == \\\"startEvent\\\") {\\n                        historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": ticketHistoryList[i].message\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"endEvent\\\") {\\n                        historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": ticketHistoryList[i].message\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"cancelEvent\\\") {\\n                        historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"已撤销\\\"\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"userTask\\\") {\\n                        if(ticketHistoryList[i].ticketTask.taskStatus == 200) {\\n                          historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                        } else {\\n                          historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                        }\\n                        var taskRemark = \\\"\\\";\\n                        if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined) {\\n                          taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                        }\\n                        var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"<a>\\\" + ticketHistoryList[i].message + \\\"</a>\\\"\\n                        });\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理人:\\\" + handlerName + \\\"\\\"\\n                        });\\n                        var foramTime = \\\"\\\";\\n                        if(ticketHistoryList[i].ticketTask.finishedTime) {\\n                          foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                        }\\n                        console.log(\\\"处理时间==\\\" + ticketHistoryList[i].ticketTask.finishedTime);\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理时间:\\\" + foramTime + \\\"\\\"\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"serviceTask\\\") {\\n                        historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理人:系统\\\"\\n                        });\\n                      }\\n                      historyList.disList = cantentList;\\n                      arr.push(historyList);\\n                    }\\n                      event.target.render(arr);\\n                  } else {\\n                    console.log(\\\"接口异常\\\");\\n                  }\\n              });\\n          } else {\\n              event.target.render(ctrlGroups);\\n          }\\n        }\\n      }\\n    }\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1390\"},{\"label\":\"带关闭弹出框\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"点检评价\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #eee\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"提交人\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"点检管理员\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"设备名称\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"助燃风机#1\\\",\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"设备编号\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"mdsa235464\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"评价等级\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"正确\\\",\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"评价说明\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"诊断结果与点检结果一致\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"关闭说明\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #eee\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"关闭说明\\\"\\n        },{\\n          colSpan:2,\\n          type : \\\"textarea\\\",\\n          value : \\\"\\\",\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",   \\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"按钮\\\",\\n          btnclass : \\\"btn-primary\\\",\\n          on : {\\n            click : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"取消\\\",\\n          btnclass : \\\"btn-primary\\\",\\n          on : {\\n            click : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"历史记录\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #eee\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n//   \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\": {\\n    \\\"init\\\": function (event) {\\n      var target = event.target;\\n      target.on(\\\"histroyLoaded\\\", function (data) {\\n        console.log(data)\\n        \\n        //--------------------------自定义输入-----------------------------\\n        //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n        var Dictionary = {\\n          ticketNo: \\\"时间\\\",\\n          customerName: \\\"项目负责人\\\",\\n          standardName: \\\"工程项目名称\\\",\\n          alertTitle: \\\"维修方案\\\",\\n        };\\n     \\n        //--------------------------自定义输入-----------------------------\\n        //注意，下面内容别动！！！\\n        function success(datas) {\\n          var render = function (advsearch) {\\n            var format = [];\\n            for (var i in Dictionary) {\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            target.render({\\n              data: datas,\\n              format: format\\n            });\\n          };\\n          render();\\n        };\\n        success(data)\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:646\"},{\"label\":\"报告编制\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var workObj = target.getPopupData();\\n\\n      var dName = \\\"设备名称:\\\";\\n      var numberD = \\\"设备编号:\\\";\\n      if(workObj.values.devName != undefined){\\n         dName = \\\"设备名称:\\\"+workObj.values.devName+\\\"\\\";\\n      }\\n      if(workObj.values.deviceId != undefined){\\n        numberD = \\\"设备编号:\\\"+workObj.values.deviceId+\\\"\\\";\\n      }\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : dName,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : numberD,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var taskId = target.getPopupData().id;\\n      var protocol = window.location.protocol;\\n      var host = window.location.host;\\n      var lc= protocol+\\\"//\\\"+host;\\n      var myDicts = {};\\n  \\n      var ctrlGroupsObj = {};\\n      var ctrlGroups = [];\\n      \\n         event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n             if(returnObj.code == 0){\\n                  var dic = {};\\n                    for(var i in returnObj.data) {\\n                      var obj = returnObj.data[i];\\n                      if(dic[obj.dictCode]) {\\n                        dic[obj.dictCode].push(obj);\\n                      } else {\\n                        dic[obj.dictCode] = [];\\n                        dic[obj.dictCode].push(obj);\\n                      }\\n                    }\\n                    for(var items in dic) {\\n                      myDicts[items] = dic[items];\\n                    }\\n                   event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n                    if(tc.code == 0){\\n                         ctrlGroupsObj = tc.data.variables;\\n                    if(ctrlGroupsObj.alertTitle !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"设备告警信息\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.alertTitle\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.abnPhenomenon !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"异常现象\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.abnPhenomenon\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.technicsStatus !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"工艺状况\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.technicsStatus\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.position !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"检测部位\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.position\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.attention !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"注意事项\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.attention\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.standard !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断标准\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.standard\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.basis !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断依据\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.basis\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.basisImage !=undefined){\\n                        var str = \\\"\\\";\\n                        if(ctrlGroupsObj.basisImage.length >0){\\n                           var arr = ctrlGroupsObj.basisImage;\\n                           for(var j in arr){\\n                               str +=\\\"<img src='\\\"+lc+\\\"\\\"+arr[j].value+\\\"' style='width: 200px;height: 200px;margin-right: 10px;' />\\\";\\n                           }\\n                        }\\n                        console.info(\\\"customHtml\\\",str);\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断依据图片\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"customHtml\\\",\\n                                disabled:true,\\n                                value : str\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.statusGrade !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"综合状态等级\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.statusGrade\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.abnPosition !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"异常部位\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.abnPosition\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.failureRepairReson !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"故障产生原因\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.failureRepairReson\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.multipleConclusion !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"综合判断结论\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.multipleConclusion\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.cessingScheme !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"处理方案建议\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.cessingScheme\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.attUpload !=undefined){\\n                         var str = \\\"\\\";\\n                        if(ctrlGroupsObj.attUpload.length >0){\\n                           var arr = ctrlGroupsObj.attUpload;\\n                           for(var j in arr){\\n                               str +=\\\"<a href='\\\"+lc+\\\"\\\"+arr[j].value+\\\"' target='_blank' style='margin-right:10px;'>\\\"+arr[j].label+\\\"</a>\\\";\\n                           }\\n                        }\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"附件\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"customHtml\\\",\\n                                disabled:true,\\n                                value : str\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                     event.global.fire(\\\"savetask\\\",tc.data)\\n                     event.target.render(ctrlGroups);\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                  })\\n             }\\n         });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"通   过\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                  debugger\\n                  console.log(event.global.detailTask)\\n                var obj = {\\\"isAudit\\\":1,\\\"auditOpinion\\\":\\\"\\\"};\\n                event.global.detailTask.taskStatus = 200;\\n               event.global.detailTask.values = obj;\\n               \\n      \\n                  var taskObj = {\\\"detailTask\\\":event.global.detailTask};\\n                  \\n                      target.createSystemPopupByLocalPath(\\\"page4\\\", {\\n                        width : \\\"100%\\\",\\n                        title : \\\"\\\",\\n                      }, \\\"elem.row.rowObj\\\");\\n                      \\n                      \\n                //   target.createSystemPopupByLocalPath(\\\"page4\\\", {\\n                //         title : \\\"审核\\\",\\n                //         width : \\\"40%\\\",\\n                //         // theme : \\\"system\\\",\\n                //         // on : {\\n                //         //   submit : function(data){\\n                //         //   console.info(\\\"submitsubmit====\\\",data);\\n                //         //   if(data.statuc == \\\"success\\\"){\\n                //         //     target.navigateTo(\\\"page0\\\");\\n                //         //   }\\n                //         //   }\\n                //         // }\\n                //       }, taskObj);\\n                      \\n                      \\n                      \\n                      \\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"驳   回\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                  var obj = {\\\"isAudit\\\":0,\\\"auditOpinion\\\":\\\"\\\"};\\n                   event.global.detailTask.taskStatus = 200;\\n                   event.global.detailTask.values = obj;\\n                 console.info(\\\"驳   回======\\\",event.global.detailTask);\\n                 var taskObj = {\\\"detailTask\\\":event.global.detailTask};\\n                  target.createPopupBypath(\\\"page4\\\", {\\n                        title : \\\"审核\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        // on : {\\n                        //   submit : function(data){\\n                        //   if(data.statuc == \\\"success\\\"){\\n                        //     target.navigateTo(\\\"page0\\\");\\n                        //   }\\n                        //   }\\n                        // }\\n                      }, taskObj);\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:2892\"},{\"label\":\"审核意见弹出框\",\"path\":\"page4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var params = target.getPopupData().detailTask;\\n       console.info(\\\"alertObj===\\\",params);\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"审核意见:\\\",\\n          type : \\\"textarea\\\",\\n           on : {\\n            change : function(elem){\\n                params.values.auditOpinion = elem.value;\\n              console.info(\\\"备注====\\\",params)\\n              \\n            }\\n          }\\n        }\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        obj.on = item.on;\\n        return [labelObj, obj];\\n      }\\n      for(var i in Dic){\\n        ctrlGroups.push(loop(Dic[i]))\\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n              if(params.values.auditOpinion){\\n                event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params, function(tc){\\n                    if(tc.code == 0){\\n                      event.target.growl(\\\"审核意见提交成功\\\",\\\"success\\\");\\n                        target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n            \\t\\t   target.submit({\\\"statuc\\\":\\\"error\\\"});\\n                    }\\n                }) \\n              }else{\\n                 event.target.growl(\\\"请填写审核意见\\\",\\\"warning\\\");  \\n              }\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-default\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n              target.submit({\\\"statuc\\\":\\\"error\\\"});\\n          }\\n        }\\n      }])\\n  \\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:1696\"},{\"label\":\"关闭说明的弹出框\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"点检评价\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #777\",\"border-left\":\"0\",\"border-right\":\"0\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}],\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = target.getPopupData();\\n      if(ticketNo.variables.tallyEvaluateCheckboxlist == 0){\\n        ticketNo.variables.tallyEvaluateCheckboxlist = \\\"正确\\\"\\n      }else if(ticketNo.variables.tallyEvaluateCheckboxlist == 1){\\n        ticketNo.variables.tallyEvaluateCheckboxlist = \\\"基本正确\\\"\\n      }else if(ticketNo.variables.tallyEvaluateCheckboxlist == 2){\\n        ticketNo.variables.tallyEvaluateCheckboxlist = \\\"不正确\\\"\\n      }else {\\n        ticketNo.variables.tallyEvaluateCheckboxlist =  ticketNo.variables.tallyEvaluateCheckboxlist;\\n      }\\n      \\n      var ctrlGroups = [\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"提交人\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.tallyEvaluatUserName\\n      },{\\n        type : \\\"label\\\",\\n        value : \\\"设备名称\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.device.label\\n      }],\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"设备编号\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value :  ticketNo.variables.deviceCode\\n      },{\\n        type : \\\"label\\\",\\n        value : \\\"评价等级\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.tallyEvaluateCheckboxlist\\n      }],\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"评价说明\\\"\\n      },{\\n        type : \\\"label\\\",\\n        value : ticketNo.variables.tallyEvaluateDealExplain\\n      }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"关闭审核\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #777\",\"border-left\":\"0\",\"border-right\":\"0\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}],\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var auditDeclare;\\n      var ctrlGroups = [\\n      [{\\n        type : \\\"label\\\",\\n        value : \\\"审核说明\\\"\\n      },{\\n        colSpan:2,\\n        type : \\\"textarea\\\",\\n        value : \\\"\\\",\\n        on: {\\n          change: function (elem) {\\n           auditDeclare = elem.value;\\n         }\\n       }\\n     }],\\n     [{\\n      type : \\\"label\\\",\\n      value : \\\"\\\",   \\n    },{\\n      type : \\\"button\\\",\\n      value : \\\"通过\\\",\\n      btnclass : \\\"btn-primary\\\",\\n      on : {\\n        click : function(elem){\\n          var params = target.getPopupData();\\n          params.taskStatus = 200;\\n          params.values = {\\n            isClose : 1, \\n            auditDeclare:auditDeclare,  \\n          }\\n          delete(params.variables)\\n          event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params , function (tc) {\\n            if (tc.code == 0) {\\n              event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n              target.trigger(\\\"search_toDolist\\\");\\n              target.cancel();\\n            } else {\\n              event.target.growl(tc.message, \\\"info\\\");\\n            }\\n          })\\n        }\\n      }\\n    },{\\n      type : \\\"button\\\",\\n      value : \\\"驳回\\\",\\n      btnclass : \\\"btn-primary\\\",\\n      on : {\\n        click : function(elem){\\n          var params = target.getPopupData();\\n          params.taskStatus = 200;\\n          params.values = {\\n            isClose : 0,  \\n            auditDeclare:auditDeclare,  \\n          }\\n          delete(params.variables)\\n          event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params , function (tc) {\\n            if (tc.code == 0) {\\n              event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n              target.trigger(\\\"search_toDolist\\\");\\n              target.cancel();\\n            } else {\\n              event.target.growl(tc.message, \\\"info\\\");\\n            }\\n          })\\n        }\\n      }\\n    }]\\n    ];\\n    event.target.render(ctrlGroups);\\n  }\\n}\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"历史记录\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        finishedTime :  \\\"时间\\\",\\n        content :  \\\"内容\\\",\\n        handlerName : \\\"说明人\\\"\\n      };\\n\\n      function getTableData (time){ \\n          target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasks\\\",[target.getPopupData().ticketNo], function(tc){\\n           if(tc.data){\\n            var historyDatas = [];\\n            for(var i = tc.data.length-2;i>=0;i--){\\n                if(tc.data[i].values.diagnoseDeclare||tc.data[i].values.auditDeclare){\\n                    var item = {\\n                        finishedTime:new Date(tc.data[i].finishedTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\"),\\n                        handlerName:tc.data[i].handlerName,\\n                        content:tc.data[i].values.diagnoseDeclare||tc.data[i].values.auditDeclare\\n                    }\\n                    historyDatas.push(item);\\n                }\\n            }\\n            success(historyDatas) \\n          }\\n        });  \\n        }\\n        getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){\\n       var render = function(advsearch){\\n        var format = [];\\n        for(var i in Dictionary){\\n          var item = target.explainDic(i, Dictionary[i]);\\n          format.push(item);\\n        }\\n        target.render({\\n            data : datas,\\n            format : format\\n          });\\n      };\\n    \\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:3607\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "我的首页(baogang/recondition/home)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var render = function(data){\\n        var list = [{\\n          label: \\\"待修委托数\\\",\\n          value: data,\\n          icon: \\\"proudsmart ps-gongdanguanli\\\",\\n          kpi: 3003,\\n          css: {\\n            \\\"background-color\\\": \\\"#0c466d\\\",\\n            \\\"border\\\": \\\"1px solid #21a6fb\\\"\\n          }\\n        }, {\\n          label: \\\"定修项目完成数（本周）\\\",\\n          value: 0,\\n          kpi: 3051,\\n          icon: \\\"glyphicon glyphicon-briefcase\\\",\\n          css: {\\n            \\\"background-color\\\": \\\"#484b2f\\\",\\n            \\\"border\\\": \\\"1px solid #e7b52b\\\"\\n          }\\n        }, {\\n          label: \\\"年修项目完成数\\\",\\n          value: 0,\\n          kpi: 3051,\\n          icon: \\\"glyphicon glyphicon-duplicate\\\",\\n          css: {\\n            \\\"background-color\\\": \\\"#472d3c\\\",\\n            \\\"border\\\": \\\"1px solid #e55057\\\"\\n          }\\n        }];\\n        target.render(list);\\n      };\\n      render(0);\\n      target.on(\\\"reconditionLoaded\\\", function (data) {\\n        render(data.length)\\n      });\\n    }\\n  }\\n}\"},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var css = data.css;\\n            target.setCss(css);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n        \\n      var target = event.target;\\n      var global = event.global;\\n      var data = target.$repeatData;\\n      var ctrlGroups = [\\n           [{\\n          type : \\\"icon\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"60px\\\"\\n          },\\n          tdStyle : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          icon : data.icon\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : data.value,\\n          style : {\\n              \\\"font-size\\\" : \\\"30px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          class : \\\"col-md-12\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : data.label,\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"12px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3}],\"style\":{},\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n            title: {\\n                text: 'ECharts 入门示例'\\n            },\\n            tooltip: {},\\n            legend: {\\n                data:['销量']\\n            },\\n            xAxis: {\\n                data: [\\\"衬衫\\\",\\\"羊毛衫\\\",\\\"雪纺衫\\\",\\\"裤子\\\",\\\"高跟鞋\\\",\\\"袜子\\\"]\\n            },\\n            yAxis: {},\\n            series: [{\\n                name: '销量',\\n                type: 'bar',\\n                data: [5, 20, 36, 10, 10, 20]\\n            }]\\n        };\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"230px\"}}],\"col\":4}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日报警\\\",\\n              btnclass:currStatus==\\\"today\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               target.trigger(\\\"search_toDolist\\\",timeObj)\\n               currStatus = \\\"today\\\";\\n               render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周报警\\\",\\n              btnclass:currStatus==\\\"bz\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n               target.trigger(\\\"search_toDolist\\\",timeObj)\\n               currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月报警\\\",\\n              btnclass:currStatus==\\\"month\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               target.trigger(\\\"search_toDolist\\\",timeObj);\\n               currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    if(inpStatus){\\n                       target.trigger(\\\"search_toDolist\\\",timeObj)\\n                       currStatus = \\\"\\\";\\n                       inpStatus = false;\\n                    //   render();\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待处理任务\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        ticketNo :  \\\"任务编号\\\",\\n        customerName :  \\\"产线\\\",\\n        devName : \\\"设备信息\\\",\\n        alertTitle : \\\"任务信息\\\",\\n        appName : {\\n            name:\\\"来源\\\",\\n            type:\\\"alarmSource\\\",\\n            value : \\\"appName\\\"\\n        },\\n        sendTime : \\\"任务接收时间\\\",\\n        tickeTaskStatus : \\\"任务状态\\\"\\n      };\\n      function getTableData (time){\\n        var param = {\\n          //   \\\"variables\\\":{\\\"theTicketType\\\":\\\"normal\\\"},\\n          \\\"taskStatus\\\":10,\\n          \\\"sendBeginTime\\\": time?time.firstTimeFrom:\\\"\\\",\\n          \\\"sendEndTime\\\": time?time.firstTimeTo:\\\"\\\",\\n        };\\n        var params = eval(\\\"(\\\" + JSON.stringify(param) + \\\")\\\");\\n        target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\",params, function(tc){\\n          if(tc.data){\\n            var datas = [];\\n            tc.data.forEach(function(ele){\\n              var data = ele.variables.ticket.values;\\n              if(ele.variables.ticket.values.tickeTaskStatus ==\\\"maintaining\\\"){\\n                data.tickeTaskStatus = \\\"待维修\\\";\\n                data.tickeTaskStatusName = \\\"trusting\\\"\\n              }else if(ele.variables.ticket.values.tickeTaskStatus==\\\"accepting\\\"){\\n                data.tickeTaskStatus = \\\"待验收 \\\";\\n                data.tickeTaskStatusName = \\\"accepting\\\"\\n              }else if(ele.variables.ticket.values.tickeTaskStatus==\\\"assessing\\\"){\\n                data.tickeTaskStatus = \\\"待评价\\\"\\n                data.tickeTaskStatusName = \\\"accepting\\\"\\n              }\\n              data.rowObj = ele;\\n              data.sendTime = new Date(ele.sendTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n              datas.push(data);\\n            })\\n            target.trigger(\\\"reconditionLoaded\\\", datas);\\n            success(datas)\\n          }\\n        });\\n      }\\n      getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){ \\n        var render = function(advsearch){\\n          var format = [];\\n          for(var i in Dictionary){ \\n            var item = target.explainDic(i, Dictionary[i]);\\n            format.push(item);\\n          }\\n          format.push({\\n            name : \\\"操作\\\",\\n            type: \\\"buttonGroup\\\",\\n            content :[{\\n              label : \\\"委托详情\\\",\\n              icon: \\\"null\\\",\\n              class: \\\"btn btn-default btn-sm\\\",\\n              on : {\\n                click : function(elem){\\n                  // 点检人员处理任务 2\\n                  //   elem.row.dealType = 2;\\n                  target.createSystemPopupByLocalPath(\\\"page1\\\", {\\n                    width : \\\"800px\\\",\\n                    title : \\\"检修委托详情\\\",\\n                  }, elem.row.rowObj);\\n                  //   target.setValue(\\\"global/resource\\\", elem.row.resource);\\n                }\\n              }\\n            },{\\n              label : \\\"制定维修方案\\\",\\n              icon: \\\"null\\\",\\n              class: \\\"btn btn-default btn-sm\\\",\\n              on : {\\n                click : function(elem){\\n                  target.createSystemPopupByLocalPath(\\\"page2\\\", {\\n                    width : \\\"800px\\\",\\n                    title : \\\"维修方案\\\",\\n                  }, elem.row.rowObj);\\n                }\\n              }\\n            },{\\n              label : \\\"录入检修实绩\\\",\\n              icon: \\\"null\\\",\\n              class: \\\"btn btn-default btn-sm\\\",\\n              on : {\\n                click : function(elem){\\n                  target.createSystemPopupByLocalPath(\\\"page3\\\", {\\n                    width : \\\"800px\\\",\\n                    title : \\\"录入检修实绩\\\",\\n                  }, elem.row.rowObj);  \\n                }\\n              }\\n            }] ,\\n            render : function(){\\n              return \\\"\\\"\\n            }\\n          });\\n          target.render({\\n            data : datas,\\n            on : {\\n              rowClick : function(event){\\n                // target.createPopupBypath('analysis', {\\n                //   title: \\\"诊断分析\\\",\\n                //   theme : \\\"system\\\",\\n                //   width: \\\"80%\\\"\\n                // }, {\\n                //   message: \\\"诊断分析\\\"\\n                // })\\n              }\\n            },\\n            format : format\\n          });\\n        };\\n        // 点击查询按钮\\n\\n        target.off(\\\"search_toDolist\\\");\\n        target.on(\\\"search_toDolist\\\", function(e){\\n          getTableData(e)\\n          render();\\n        });\\n\\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width: \\\"auto\\\",\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\": \\\"\\\", \\\"firstTimeTo\\\": \\\"\\\",\\\"status\\\": \\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期\\n      var list = [{\\n        id : 1,\\n        title : \\\"全部\\\",\\n        value : \\\"\\\",\\n        btnclass:\\\"btn btn-primary\\\",\\n        activeclass:\\\"\\\"\\n      },/*{\\n          id : 2,\\n          title : \\\"待分析\\\",\\n          value : \\\"checking\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },*/{\\n        id : 3,\\n        title : \\\"待审批\\\",\\n        value : \\\"auditing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 4,\\n        title : \\\"待委托\\\",\\n        value : \\\"trusting\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 5,\\n        title : \\\"待维修\\\",\\n        value : \\\"maintaining\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 6,\\n        title : \\\"待验收\\\",\\n        value : \\\"accepting\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 7,\\n        title : \\\"待评价\\\",\\n        value : \\\"assessing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 8,\\n        title : \\\"待说明\\\",\\n        value : \\\"explaining\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 9,\\n        title : \\\"待关闭\\\",\\n        value : \\\"closing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 10,\\n        title : \\\"已完成\\\",\\n        value : \\\"end\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      }];\\n      var render = function () {\\n        var ctrlGroups = [\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width: \\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            }, {\\n            type: \\\"button\\\",\\n            value: \\\"当日处理任务\\\",\\n            btnclass: currStatus == \\\"today\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n                timeObj.firstTimeFrom = today;\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj)\\n                currStatus = \\\"today\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"本周处理任务\\\",\\n            btnclass: currStatus == \\\"bz\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n\\n                //获得本周的开端日期\\n                function getWeekStartDate() {\\n                  var nowDayOfWeek = now.getDay(); //今天本周的第几天\\n                  var nowDay = now.getDate(); //当前日\\n                  var nowMonth = now.getMonth(); //当前月\\n                  var nowYear = now.getFullYear(); //当前年\\n                  var weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek);\\n                  return weekStartDate;\\n                }\\n\\n                timeObj.firstTimeFrom = getWeekStartDate();\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj)\\n                currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"当月处理任务\\\",\\n            btnclass: currStatus == \\\"month\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n\\n                //当前月的第一天\\n                function getCurrentMonthFirst() {\\n                  var date = new Date();\\n                  date.setDate(1);\\n                  return date;\\n                }\\n\\n                timeObj.firstTimeFrom = getCurrentMonthFirst();\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj);\\n                currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: \\\"\\\",\\n            class: \\\"col-md-5\\\",\\n            colSpan : 2,\\n            style: {\\n              width: \\\"200px\\\",\\n              textAlign: \\\"center\\\"\\n            },\\n            on: {\\n              change: function (elem) {\\n                timeObj.firstTimeFrom = elem.value.start;\\n                timeObj.firstTimeTo = elem.value.end;\\n                if (elem.value.start) {\\n                  inpStatus = true;\\n                }\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on: {\\n              click: function (elem) {\\n                if (inpStatus) {\\n                  target.trigger(\\\"search_ticket\\\", timeObj)\\n                  currStatus = \\\"\\\";\\n                  inpStatus = false;\\n                  //   render();\\n                } else {\\n                  event.target.growl(\\\"请选择时间\\\", \\\"warning\\\");\\n                }\\n              }\\n            }\\n          }],\\n          // 完成任务\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"任务状态:\\\",\\n              style: {\\n                textAlign: \\\"right\\\",\\n                width: \\\"100px\\\"\\n              }\\n            }\\n          ]\\n        ];\\n        for(var i in list){\\n          ctrlGroups[1].push({\\n            id : list[i].id,\\n            type : \\\"button\\\",\\n            value : list[i].title,\\n            btnclass :list[i].btnclass,\\n            paramvalue:list[i].value,\\n\\n            // style: {\\n            //   width: \\\"100px\\\",\\n            //   textAlign: \\\"left\\\"\\n            // },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                elem.current.btnclass = \\\"btn btn-default\\\";\\n                var id = elem.current.id;\\n                var value = elem.current.paramvalue;\\n                timeObj.status = value;\\n                target.trigger(\\\"search_ticket\\\",timeObj)\\n\\n                for(var i in list){\\n                  if(list[i].id == id){\\n                    list[i].btnclass = \\\"btn btn-primary\\\";\\n                  } else {\\n                    list[i].btnclass = \\\"btn btn-default\\\";\\n                  }\\n\\n                }\\n                render()\\n              }\\n            }\\n          });\\n        }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"已处理任务\\\")\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        ticketNo :  \\\"任务编号\\\",\\n        customerName :  \\\"产线\\\",\\n        devName : \\\"设备信息\\\",\\n        appName : {\\n          name:\\\"报警来源\\\",\\n          type:\\\"alarmSource\\\",\\n          value : \\\"appName\\\"\\n        },\\n        alertTitle : \\\"报警信息\\\",\\n        severity :{\\n          name:\\\"报警级别\\\",\\n          type:\\\"priority\\\",\\n          value : \\\"severity\\\"\\n        },\\n        commitTime : \\\"报警处理时间\\\",\\n        handlerName : \\\"当前处理人\\\",\\n        tickeTaskStatus : \\\"任务状态\\\"\\n      };\\n\\n      function getTableData (time){\\n          var params = {\\n            tickeTaskStatus: time?time.status:\\\"\\\",\\n            commitBeginTime: time?time.firstTimeFrom:\\\"\\\",\\n            commitEndTime: time?time.firstTimeTo:\\\"\\\",\\n          };\\n          \\n          target.postService(\\\"ticketTaskService\\\", \\\"getDealTicketList\\\",params, function(tc){\\n           if(tc.data){\\n            var datas = [];\\n            tc.data.forEach(function(ele){\\n              var data = ele.values;\\n             if(data.tickeTaskStatus == \\\"checking\\\"){\\n               data.tickeTaskStatus  = \\\"待分析\\\";\\n             }else if(data.tickeTaskStatus == \\\"auditing\\\"){\\n               data.tickeTaskStatus = \\\"待审批 \\\";\\n             }else if(data.tickeTaskStatus == \\\"trusting\\\"){\\n               data.tickeTaskStatus = \\\"待委托\\\";\\n             }else if(data.tickeTaskStatus == \\\"end\\\"){\\n               data.tickeTaskStatus = \\\"已完成\\\";\\n             }else if(data.tickeTaskStatus == \\\"assessing\\\"){\\n               data.tickeTaskStatus = \\\"待评价\\\";\\n             }else if(data.tickeTaskStatus == \\\"explaining\\\"){\\n               data.tickeTaskStatus = \\\"待说明\\\";\\n             }else if(data.tickeTaskStatus == \\\"closing\\\"){\\n               data.tickeTaskStatus = \\\"待关闭\\\";\\n             }else if(data.tickeTaskStatus == \\\"accepting\\\"){\\n               data.tickeTaskStatus = \\\"待验收\\\";\\n             }else if(data.tickeTaskStatus == \\\"maintaining\\\"){\\n               data.tickeTaskStatus = \\\"待维修\\\";\\n             }\\n             data.ticket = ele;\\n             data.handlerName = ele.handlerName;\\n             data.commitTime = new Date(ele.commitTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n             datas.push(data);\\n           }) \\n            success(datas) \\n          }\\n        });  \\n        }\\n        getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){\\n       var render = function(advsearch){\\n        var format = [];\\n        for(var i in Dictionary){\\n          var item = target.explainDic(i, Dictionary[i]);\\n          format.push(item);\\n        }\\n        format.push({\\n          name : \\\"操作\\\",\\n          type: \\\"buttonGroup\\\",\\n          content :[{\\n            label : \\\"过程跟踪\\\",\\n            icon: \\\"null\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            on : {\\n              click : function(elem){\\n                  // 点检人员处理任务 2\\n                  //   elem.row.dealType = 2;\\n                //   target.navigateTo(\\\"index\\\", {\\n                //     main : [0,\\\"page11\\\"],\\n                //     ticketNo : elem.row.ticketNo,\\n                //   }, \\\"self\\\");\\n                   target.createSystemPopupByLocalPath(\\\"page4\\\", {\\n                           width : \\\"auto\\\",\\n                           title : \\\"过程跟踪\\\",\\n                   }, elem.row.ticketNo);\\n                }\\n              }\\n            }] ,\\n            render : function(){\\n              return \\\"\\\"\\n            }\\n          });\\n        target.render({\\n          data : datas,\\n          format : format\\n        });\\n      };\\n        // 点击日期按钮\\n        target.off(\\\"search_ticket\\\");\\n        target.on(\\\"search_ticket\\\", function(time){\\n          getTableData(time)\\n          render();\\n        });\\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"$$hashKey\":\"object:1335\"},{\"label\":\"委托详情\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n\\n      var ticketNo = target.getPopupData().ticketNo;\\n      // 定义工程项目名称，标准项目编号，质量层级，高危等级\\n      var standardProjectName, standardProjectNo = {}, highDangerPrograms, qualityScores, highDangerProgramsName;\\n      target.postService(\\\"deviceResumeUIService\\\", \\\"getDeviceCheckTrustByCondition\\\", {ticketNo}, function (tc) {\\n        if (tc.code == 0) {\\n          var createTrust = tc.data[0];\\n       \\n  \\n          var render = function () {\\n            var ctrlGroups = [\\n              [{\\n                type: \\\"label\\\",\\n                value: \\\"标准项目编号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                disabled:true,\\n                value: createTrust.standardProjectId,\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"项目分类\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                disabled:true,\\n                value: createTrust.projectType,\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"数量\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                disabled:true,\\n                value: createTrust.trustNum\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"需求日期\\\"   \\n              }, {\\n                type: \\\"input\\\",\\n                disabled:true,\\n                value: new Date(createTrust.propseDate).Format(\\\"yyyy-MM-dd hh:mm:ss\\\")\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"委托日期\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                disabled:true,\\n                value: new Date(createTrust.trustDate).Format(\\\"yyyy-MM-dd hh:mm:ss\\\")\\n               \\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"委托人岗号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                disabled:true,\\n                value: createTrust.propseUserJobId\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"请修原因\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                disabled:true,\\n                value: createTrust.propseReason\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"定年修主控/重点\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                disabled:true,\\n                value: createTrust.isSk\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"委托单号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.trustId,\\n                disabled:true\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"工程项目名称\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.standardProjectName,\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"施工类别\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.constructionType,\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"项目类别\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.projectCategory,\\n                disabled: true\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"质量层级\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.qualityLevel,\\n                disabled: true,\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"高危等级\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.highDangerLevel,\\n                disabled: true\\n              }, {\\n                colSpan: 2,\\n                type: \\\"input\\\",\\n                value: createTrust.highDangerFileName,\\n                style: {\\n                  width: \\\"400px\\\"\\n                },\\n                disabled: true\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"工作内容\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.workContent,\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"总人数\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.totalPerpsonNum,\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"总工时\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.totalUseTime,\\n                disabled: true\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"计划编号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.planId,\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"序号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.no,\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"异常联络单编码\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.abnNo,\\n                disabled: true\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"故障台编号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.combFailureLedgerId,\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"计划完工日期\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: new Date(createTrust.bstiRepairEndDate).Format(\\\"yyyy-MM-dd hh:mm:ss\\\"),\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"建议班组名称\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.suggesTeamCode,\\n                disabled: true\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"负责人\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.suggesTeamName,\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"备件代码\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.sparePartsCode,\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"备件名称\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.sparePartsName,\\n                disabled: true\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"预计施工日期\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: new Date(createTrust.estiRepairBeginDate).Format(\\\"yyyy-MM-dd hh:mm:ss\\\"),\\n                disabled: true\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"备件型号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: createTrust.sparePartType,\\n                disabled: true\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"\\\"\\n              }]\\n            ];\\n            event.target.render(ctrlGroups);\\n          }\\n\\n          render()\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1369\"},{\"label\":\"制定维修方案\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n\\n      var ticket = target.getPopupData();\\n      // 存图片的路径\\n      var configParam = {\\n        \\\"resourceId\\\": ticket.variables.deviceId,\\n      };\\n      var params = {\\n        deviceCode: ticket.variables.deviceCode,\\n        standardProjectNo: ticket.variables.standardProjectId\\n      }\\n      target.postService(\\\"deviceResumeUIService\\\", \\\"getMaintainStandardListByCondition\\\", [params], function (tc) {\\n\\n        if (tc.code == 0) {\\n          var createProject = tc.data;\\n          // 标准项目编号 历史维修方案\\n          var standardProject, historyProject = [];\\n          for (var i = 0; i < createProject.length; i++) {\\n            if (createProject[i].type == \\\"0\\\") {\\n              standardProject = createProject[i];\\n            } else if (createProject[i].type == \\\"1\\\"){\\n              historyProject.push(createProject[i])\\n            }\\n          }\\n          target.trigger(\\\"histroyLoaded\\\", historyProject);\\n\\n\\n          var render = function () {\\n            var ctrlGroups = [\\n              [{\\n                type: \\\"label\\\",\\n                value: \\\"标准项目编号\\\"\\n              }, {\\n                type: \\\"label\\\",\\n                value: standardProject.standardProjectNo\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"工程项目名称\\\"\\n              }, {\\n                type: \\\"label\\\",\\n                value: standardProject.standardName\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"定年修主控/重点\\\"\\n              }, {\\n                type: \\\"label\\\",\\n                value: standardProject.isSk == 0 ? \\\"否\\\" : \\\"是\\\"\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"高危等级\\\"\\n              }, {\\n                type: \\\"label\\\",\\n                value: standardProject.highDangerLevel == 0 ? \\\"无\\\" : standardProject.highDangerLevel + \\\"是\\\"\\n              }]\\n            ];\\n            // 1 维修作业标准\\n            // 2 质量层级表\\n            // 3 高危技术方案\\n            // 4 安全技术交底\\n            // 5 工时工序表\\n            // 6 施工方案\\n            var loopStandardProjectLst = function (file) {\\n              var item = [{\\n                type: \\\"label\\\",\\n                value: file.label\\n              }, {\\n                type: \\\"label\\\",\\n                value: file.fileName,\\n                linkage: file.filePath\\n              }, {\\n                type: \\\"uploadFile2\\\",\\n                icon: \\\"glyphicon glyphicon-file\\\",\\n                group: \\\"enterprisesImages\\\",\\n                url: \\\"api/rest/upload/resourceFileUIService/uploadResourceFile\\\",\\n                groupId: \\\"repairQuality\\\",\\n                fileFormat: \\\"txt|xlsx|docx|pdf|doc|png|jpg\\\",\\n                formData: configParam,\\n                text: \\\"上传\\\",\\n                on: {\\n                  submit: function (elem) {\\n                    // 修改文件的\\n                    file.fileName = elem.label;\\n                    file.filePath = elem.value.qualifiedName;\\n                    event.target.growl(\\\"上传文件成功\\\", \\\"success\\\");\\n                    render();\\n                  }\\n                }\\n              }];\\n              return item;\\n            }\\n            for (var i = 0; i < standardProject.fileList.length; i++) {\\n              ctrlGroups.push(loopStandardProjectLst(standardProject.fileList[i]));\\n            }\\n            // 按钮组\\n            var buttonGroup = [{\\n              type: \\\"label\\\",\\n              value: \\\"\\\"\\n            }, {\\n              type: \\\"button\\\",\\n              value: \\\"提交\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              on: {\\n                click: function (elem) {\\n                  \\n                  standardProject.ticketNo = target.getPopupData().ticketNo;\\n                  standardProject.deviceId = target.getPopupData().deviceId;\\n                  standardProject.createDate = new Date();\\n                  standardProject.type = 1;\\n                \\n                  event.target.postService(\\\"deviceResumeUIService\\\", \\\"addMaintainStandard\\\", standardProject,function (tc) {\\n                    if (tc.code == 0) {\\n                      event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n                      target.trigger(\\\"search_toDolist\\\");\\n                      target.cancel();\\n                    } else {\\n                      event.target.growl(tc.message, \\\"info\\\");\\n                    }\\n                  })\\n\\n\\n                }\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              value: \\\"取消\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              class: \\\"col-md-5\\\",\\n              on: {\\n                click: function (elem) {\\n                  target.cancel();\\n                }\\n              }\\n            }]\\n            ctrlGroups.push(buttonGroup)\\n            target.render(ctrlGroups);\\n          };\\n          render();\\n        }\\n        ;\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"历史维修方案\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n//   \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\": {\\n    \\\"init\\\": function (event) {\\n      var target = event.target;\\n      target.on(\\\"histroyLoaded\\\", function (data) {\\n          data = data.map(function(elem){\\n              var file = elem.fileList[0];\\n              elem.fileName = file.fileName;\\n              elem.filePath = file.filePath;\\n              elem.createDate = new Date(elem.createDate).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n              return elem;\\n          })\\n     \\n        //--------------------------自定义输入-----------------------------\\n        //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n        var Dictionary = {\\n          createDate: \\\"时间\\\",\\n          customerName: \\\"项目负责人\\\",\\n          standardName: \\\"工程项目名称\\\",\\n          filePath: {\\n              type : \\\"link\\\",\\n              value : \\\"fileName\\\",\\n              linkage : \\\"filePath\\\",\\n              name : \\\"维修方案\\\"\\n          },\\n        };\\n        //--------------------------自定义输入-----------------------------\\n        //注意，下面内容别动！！！\\n        function success(datas) {\\n          var render = function (advsearch) {\\n            var format = [];\\n            for (var i in Dictionary) {\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            target.render({\\n              data: datas,\\n              format: format,\\n              pagesize:\\\"5\\\"\\n            });\\n          };\\n          render();\\n        };\\n        success(data)\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:1402\"},{\"label\":\"录入检修实绩\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var repairObj = {\\n         repairAccessory : []\\n      };\\n      var urlName ;\\n      var url= window.location.protocol+\\\"//\\\"+window.location.host;\\n\\n      var configParam = {\\n          \\\"resourceId\\\": \\\"1\\\",\\n          \\\"label\\\": \\\"test\\\",\\n          \\\"description\\\": \\\"base\\\",\\n          \\\"type\\\":\\\"gatewayModel\\\"\\n        };    \\n     \\n      // 字典表查出对应的值\\n      var repairWorkTypeSelect = target.getRootScope(\\\"myDicts\\\")[\\\"taskCycle\\\"];\\n      \\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"处理方式\\\"\\n        },{\\n          type : \\\"input\\\",\\n          on : {\\n            change : function(elem){\\n               repairObj.repairProcessModel = elem.value; \\n            }\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"实际完工日期\\\"\\n        },{\\n          type : \\\"datePicker\\\",\\n          on : {\\n            change : function(elem){\\n                var date = target.dateHandler(elem.value);   \\n                repairObj.repairFinishDate = date.getDateString(\\\"yy-MM-ddThh:mm:ss.000Z\\\");\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"完工数量\\\"\\n        },{\\n          type : \\\"input\\\",\\n          on : {\\n            change : function(elem){\\n              repairObj.repairFinishCount = elem.value;\\n            }\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"工作内容补充\\\"\\n        },{\\n          type : \\\"input\\\",\\n          on : {\\n            change : function(elem){\\n              repairObj.repairContent = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"施工类别\\\"\\n        },{\\n          type : \\\"select\\\",\\n          options : repairWorkTypeSelect,\\n          on : {\\n            change : function(elem){\\n              repairObj.repairWorkType = elem.value.valueCode;\\n            }\\n          },\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n            \\\"valueCode\\\" : \\\"valueCode\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"工时数\\\"\\n        },{\\n          type : \\\"input\\\",\\n          on : {\\n            change : function(elem){\\n              repairObj.repairWorkPeriod = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"质量控制要点\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n        \\n        },{\\n          type : \\\"uploadFile2\\\",\\n          icon : \\\"glyphicon glyphicon-file\\\",\\n          group : \\\"enterprisesImages\\\",\\n          url:\\\"api/rest/upload/resourceFileUIService/uploadResourceFile\\\",\\n          groupId:\\\"repairQuality\\\",\\n          fileFormat:\\\"txt|xlsx|docx|pdf|doc|png|jpg\\\",\\n          formData:configParam,\\n          text:\\\"上传质量控制要点文件\\\",\\n          on : {\\n            submit : function(elem){ \\n                repairObj.repairQuality = [];\\n                var repairAccessoryItem = {\\n                    name: elem.label,\\n                    path: elem.value.qualifiedName  \\n                }\\n                repairObj.repairQuality.push(repairAccessoryItem)\\n               $(\\\"#repairQuality\\\").parent().parent().siblings().eq(1).find(\\\"span\\\")\\n               .html('<a target=\\\"_blank\\\" href = \\\"'+elem.value.qualifiedName+'\\\">'+elem.label+'</a> <br />')\\n                event.target.growl(\\\"上传文件成功\\\",\\\"success\\\");\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"附件\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n        \\n        },{\\n          type : \\\"uploadFile2\\\",\\n          icon : \\\"glyphicon glyphicon-file\\\",\\n          group : \\\"enterprisesImages\\\",\\n          url:\\\"api/rest/upload/resourceFileUIService/uploadResourceFile\\\",\\n          groupId:\\\"uploadImg\\\",\\n          fileFormat:\\\"txt|xlsx|docx|pdf|doc|png|jpg\\\",\\n          formData:configParam,\\n          on : {\\n            submit : function(elem){ \\n                var repairAccessoryItem = {\\n                    name: elem.label,\\n                    path: elem.value.qualifiedName  \\n                }\\n                repairObj.repairAccessory.push(repairAccessoryItem)\\n               $(\\\"#uploadImg\\\").parent().parent().siblings().eq(1).find(\\\"span\\\")\\n               .append('<a target=\\\"_blank\\\" href = \\\"'+elem.value.qualifiedName+'\\\">'+elem.label+'</a> <br />')\\n                event.target.growl(\\\"上传文件成功\\\",\\\"success\\\");\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"提交\\\",\\n          btnclass: \\\"btn btn-primary\\\",\\n          on : {\\n            click : function(elem){ \\n            console.log(repairObj);\\n            var params = target.getPopupData();\\n                params.taskStatus = 200;\\n                params.values = repairObj;\\n                delete(params.variables)\\n                event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params, function (tc) { \\n                  if (tc.code == 0) {\\n                    event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n                    target.trigger(\\\"search_toDolist\\\");\\n                    target.cancel();\\n                  } else {\\n                    event.target.growl(tc.message, \\\"info\\\");\\n                  }\\n                })\\n           \\n            }\\n          }\\n        }, {\\n            type: \\\"button\\\",\\n            value: \\\"取消\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            class: \\\"col-md-5\\\",\\n            on: {\\n              click: function (elem) {\\n                target.cancel();\\n              }\\n            }\\n          }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1435\"},{\"label\":\"过程追踪\",\"path\":\"page4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n       var target = event.target;\\n       target.cancel();\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n      width: \\\"100%\\\",\\n      on: {\\n        init: function(event) { debugger\\n          var target = event.target;\\n          var global = event.global;\\n          var ticketNo = target.getPopupData();\\n          var ctrlGroups = [{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>报警产生</a>\\\"\\n              }, {\\n                value: \\\"报警类型：振动报警\\\"\\n              }, {\\n                value: \\\"报警级别：警告\\\"\\n              }, {\\n                value: \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n              }]\\n            },{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user bg-aqua bg-orange\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\n              }]\\n            },{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\n              }]\\n            }\\n          ];\\n          var dateToString = function(now) {\\n            var year = now.getFullYear();\\n            var month = (now.getMonth() + 1).toString();\\n            var day = (now.getDate()).toString();\\n            var hour = (now.getHours()).toString();\\n            var minute = (now.getMinutes()).toString();\\n            var second = (now.getSeconds()).toString();\\n            if(month.length == 1) {\\n              month = \\\"0\\\" + month;\\n            }\\n            if(day.length == 1) {\\n              day = \\\"0\\\" + day;\\n            }\\n            if(hour.length == 1) {\\n              hour = \\\"0\\\" + hour;\\n            }\\n            if(minute.length == 1) {\\n              minute = \\\"0\\\" + minute;\\n            }\\n            if(second.length == 1) {\\n              second = \\\"0\\\" + second;\\n            }\\n            var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day + \\\" \\\" + hour + \\\":\\\" + minute + \\\":\\\" + second;\\n            return dateTime;\\n          };\\n          if(ticketNo) {\\n              event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\", [ticketNo], function(dt) {\\n                  if(dt.code == 0) {\\n                      var ticketHistoryList = dt.data;\\n                      var arr = [];\\n                      for(var i in ticketHistoryList) {\\n                      var cantentList = [];\\n                      var historyList = {\\n                        time: \\\"\\\",\\n                        icon: \\\"\\\",\\n                        disList: \\\"\\\"\\n                      };\\n                      if(ticketHistoryList[i].logType == \\\"startEvent\\\") {\\n                        historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": ticketHistoryList[i].message\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"endEvent\\\") {\\n                        historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": ticketHistoryList[i].message\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"cancelEvent\\\") {\\n                        historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"已撤销\\\"\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"userTask\\\") {\\n                        if(ticketHistoryList[i].ticketTask.taskStatus == 200) {\\n                          historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                        } else {\\n                          historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                        }\\n                        var taskRemark = \\\"\\\";\\n                        if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined) {\\n                          taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                        }\\n                        var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"<a>\\\" + ticketHistoryList[i].message + \\\"</a>\\\"\\n                        });\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理人:\\\" + handlerName + \\\"\\\"\\n                        });\\n                        var foramTime = \\\"\\\";\\n                        if(ticketHistoryList[i].ticketTask.finishedTime) {\\n                          foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                        }\\n                        console.log(\\\"处理时间==\\\" + ticketHistoryList[i].ticketTask.finishedTime);\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理时间:\\\" + foramTime + \\\"\\\"\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"serviceTask\\\") {\\n                        historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理人:系统\\\"\\n                        });\\n                      }\\n                      historyList.disList = cantentList;\\n                      arr.push(historyList);\\n                    }\\n                      event.target.render(arr);\\n                  } else {\\n                    console.log(\\\"接口异常\\\");\\n                  }\\n              });\\n          } else {\\n              event.target.render(ctrlGroups);\\n          }\\n        }\\n      }\\n    }\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:1376\"}],\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "特征趋势(工作台配置文件_baogang/analysis/fe",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var dItem,kpi;\\n      var subaccessConfigValues;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      var today = target.dateHandler();\\n      var threeDayBefore = today.clone().addDay(-3);\\n      var dateRangeTime = [threeDayBefore, today];\\n      var success = function () {\\n        var ci = [resource.id]; // 设备 526443915616079\\n        var modelId = [resource.modelId] // 获取modelId\\n        var accessConfigValues = resource.physicalConfig.accessConfigs;\\n        target.getAttrsByModelId(modelId, function (attrs) {\\n          var MeasurePointLocate = attrs.find(function (elem) {\\n              return elem.name == \\\"MeasurePointLocate\\\";\\n            }) || {};\\n          var triggerEvent = function () {\\n              debugger;\\n            target.trigger(\\\"drawDiagnoseFeatureEchart1\\\", {\\n              ins: dItem,\\n              kpi: kpi,\\n              dateRangeTime:dateRangeTime\\n            })\\n          }\\n          // 设备的属性表达式\\n           var sourceValue = eval(MeasurePointLocate.sourceValue)|| \\\"\\\";\\n           var sourceValueArr = [];\\n           for (var i in sourceValue) {\\n             for (var j in sourceValue[i]) {\\n               for(var k in sourceValue[i][j]){\\n                 sourceValueArr.push(sourceValue[i][j][k])\\n               }\\n             }\\n           };\\n          // 默认第一个选中\\n          dItem = dItem || sourceValueArr[0];\\n          subaccessConfigValues = accessConfigValues.filter(function(value){\\n            return value.instance == dItem.name;\\n          })\\n          kpi = subaccessConfigValues[0];\\n          triggerEvent();\\n          var render = function () {\\n            var ctrlGroups = [\\n              [{\\n                type: \\\"label\\\",\\n                value: \\\"测点\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"select\\\",\\n                value: dItem.name,\\n                class: \\\"col-md-2\\\",\\n                on: {\\n                  change: function (elem) {\\n                    dItem = elem.value;\\n                    subaccessConfigValues = accessConfigValues.filter(function(value){\\n                      return value.instance == dItem.name;\\n                    })\\n                    render();\\n                  }\\n                },\\n                options: sourceValueArr,\\n                format: {\\n                  \\\"id\\\": \\\"name\\\",\\n                  \\\"label\\\": \\\"label\\\"\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"参数\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"select\\\",\\n                value: kpi.kpiId,\\n                class: \\\"col-md-2\\\",\\n                on: {\\n                  change: function (elem) {\\n                     kpi = elem.value;\\n                     triggerEvent();\\n                  }\\n                },\\n                options: subaccessConfigValues,\\n                format: {\\n                  \\\"id\\\": \\\"kpiId\\\",\\n                  \\\"label\\\": \\\"kpiName\\\"\\n                },\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"起始时间\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"dateRangePicker\\\",\\n                value: dateRangeTime.map(function(t){\\n                    return t.getDate();\\n                }),\\n                class: \\\"col-md-3\\\",\\n                on: {\\n                  change: function (elem) {\\n                      var startTime = target.dateHandler(elem.value.startTime);\\n                      var endTime = target.dateHandler(elem.value.endTime);\\n                    dateRangeTime =  [startTime, endTime];\\n                    triggerEvent();\\n                  }\\n                },\\n              }, {\\n                type: \\\"button\\\",\\n                class: \\\"col-md-1\\\",\\n                btnclass: \\\"btn btn-primary\\\",\\n                value: \\\"设备信息\\\",\\n                btnStyle: {\\n                  width: \\\"100%\\\",\\n                },\\n                on: {\\n                  click: function (elem) {\\n                  }\\n                }\\n              }, {\\n                type: \\\"button\\\",\\n                class: \\\"col-md-1\\\",\\n                btnclass: \\\"btn btn-primary\\\",\\n                value: \\\"添加依据\\\",\\n                btnStyle: {\\n                  width: \\\"100%\\\",\\n                },\\n                on: {\\n                  click: function (elem) {\\n                  }\\n                }\\n              }]\\n            ];\\n            target.render(ctrlGroups);\\n          };\\n          render();\\n        })\\n      }\\n      if(resource){\\n        success();    \\n      };\\n      target.on(\\\"tree_resourceChange\\\", function (node) {\\n          debugger;\\n        success();\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      var time = 3 * 24 * 3600 * 1000;\\n      // 渲染echart图\\n      var renderEchart = function (ci, kpi, time,startTime,endTime) {\\n        // 扩展参数\\n        target.showLoading();\\n        target.hideNoData();\\n        var kpiNames =target.getValue(\\\"kpiName\\\")||[\\\"温度\\\"];\\n        var extension = {\\n          startTime:startTime,\\n          endTime:endTime\\n        };\\n        var xAxis = [];\\n        target.getKpiValueList(ci, kpi, time, function (returnData) {\\n          if(returnData.length > 0){\\n            target.hideLoading();\\n            var xAxisData = [];\\n            returnData.forEach(function (ele) {\\n              xAxisData.push(target.dateHandler(ele.arisingTime).getDateString(\\\"hh:mm:ss\\\"));\\n            });\\n            var seriesData = []\\n            if (returnData) {\\n              for (var i in kpi) {\\n                var item = {\\n                  name: kpiNames[i],\\n                  data: returnData.map(function (elem) {\\n                    return elem.value;\\n                  })\\n                }\\n                seriesData.push(item);\\n              }\\n            }\\n            var option = {\\n              title: {\\n                textStyle: {color: \\\"#fff\\\"}\\n              },\\n              tooltip : {\\n                    trigger: 'axis',\\n                    axisPointer: {\\n                        type: 'cross',\\n                        label: {\\n                            backgroundColor: '#6a7985'\\n                        }\\n                    }\\n                },\\n              legend: {\\n                data: seriesData.map(function (elem) {\\n                  return elem.name;\\n                })\\n              },\\n              xAxis: {\\n                boundaryGap: false,\\n                type: 'category',\\n                data: xAxisData\\n              },\\n              yAxis: {\\n                type: 'value'\\n              },\\n              dataZoom: [{\\n                show: true,\\n                realtime: true,\\n                start: 0,\\n                end: 10,\\n              }],\\n              series: seriesData.map(function (elem) {\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data;\\n                return elem;\\n              })\\n            };\\n            target.render(option);\\n          } else {\\n            target.showNoData();\\n          }\\n\\n        }, extension)\\n      }\\n      debugger;\\n      target.off(\\\"drawDiagnoseFeatureEchart1\\\");\\n      target.on(\\\"drawDiagnoseFeatureEchart1\\\", function (condition) {\\n        var startTime = condition.dateRangeTime[0].getUTCDateString();\\n        var endTime = condition.dateRangeTime[1].getUTCDateString();\\n        var ci = [resource.id];\\n        var kpi = [condition.kpi.dataItemId];\\n        renderEchart(ci, kpi, time, startTime, endTime);\\n      });\\n\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"macarons\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "我的首页(工作台配置文件_baogang/alert/home)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.getCurrentDomainCi(function(rootCi){\\n                var ci = [rootCi.id];\\n                var ciNames = [rootCi.label];\\n                var list = [{\\n                    label : \\\"待处理报警数\\\",\\n                    value : 0,\\n                    icon : \\\"proudsmart ps-gongdanguanli\\\",\\n                    kpi : 3003,\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#0c466d\\\",\\n                        \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n                    }\\n                },{\\n                    label : \\\"处理中报警数\\\",\\n                    value : 0,\\n                    kpi : 3051,\\n                    icon : \\\"glyphicon glyphicon-briefcase\\\",\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#484b2f\\\",\\n                        \\\"border\\\" : \\\"1px solid #e7b52b\\\"\\n                    }\\n                },{\\n                    label : \\\"已处理报警数（本月）\\\",\\n                    value : 0,\\n                    kpi : 3050,\\n                    icon : \\\"glyphicon glyphicon-duplicate\\\",\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#472d3c\\\",\\n                        \\\"border\\\" : \\\"1px solid #e55057\\\"\\n                    }\\n                },{\\n                    label : \\\"诊断及时率\\\",\\n                    value : 0,\\n                    kpi : 100002,\\n                    icon : \\\"proudsmart ps-innovate\\\",\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#0c466d\\\",\\n                        \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n                    }\\n                }];\\n                var kpis = list.map(function(elem){return elem.kpi});\\n                target.getKpiValueCi(ci, kpis, function(returnData){\\n                    for(var i in list){\\n                        var find = returnData.find(function(elem){\\n                            return elem.kpiCode == list[i].kpi;\\n                        }) || {\\n                            value : \\\"-\\\"\\n                        };\\n                        list[i].value = find.value;\\n                    }\\n                    target.render(list);\\n                });\\n            });\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var css = data.css;\\n            target.setCss(css);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n        \\n      var target = event.target;\\n      var global = event.global;\\n      var data = target.$repeatData;\\n      var ctrlGroups = [\\n           [{\\n          type : \\\"icon\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"60px\\\"\\n          },\\n          tdStyle : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          icon : data.icon\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : data.value,\\n          style : {\\n              \\\"font-size\\\" : \\\"30px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          class : \\\"col-md-12\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : data.label,\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"12px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3}],\"style\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"margin\":\"5px\",\"padding\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n      \\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日报警\\\",\\n              btnclass:currStatus==\\\"today\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               event.global.fire(\\\"getAlertByPage\\\",timeObj)\\n               currStatus = \\\"today\\\";\\n               render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周报警\\\",\\n              btnclass:currStatus==\\\"bz\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n               event.global.fire(\\\"getAlertByPage\\\",timeObj)\\n               currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月报警\\\",\\n              btnclass:currStatus==\\\"month\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               event.global.fire(\\\"getAlertByPage\\\",timeObj)\\n               currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    if(inpStatus){\\n                      event.global.fire(\\\"getAlertByPage\\\",timeObj);\\n                       currStatus = \\\"\\\";\\n                       inpStatus = false;\\n                    //   render();\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"报警通知\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var ticketCategorys = {};\\n      var deviceDic = {};\\n      var getDataByJquerySync = function(service,method,param){\\n        var ret;\\n        $.ajax({\\n          url : \\\"/api/rest/post/\\\" + service + \\\"/\\\" + method,\\n          type : \\\"post\\\",\\n          async : false,\\n          contentType : 'application/json',\\n          data : param ? JSON.stringify(param) : \\\"[]\\\",\\n          dataType : \\\"json\\\",\\n          success : function(data) {\\n            //console.log(\\\"函数回调\\\",data);\\n            if(data.code == '0'){\\n              ret = data.data;\\n            }\\n          }\\n        });\\n        return ret;\\n      };\\n      var render = function(alertData){\\n        var format = [{\\n          name : \\\"customerName\\\",\\n          label : \\\"产线\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"devName\\\",\\n          label : \\\"设备信息\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"appName\\\",\\n          label : \\\"报警来源\\\",\\n          type : \\\"alarmSource\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"message\\\",\\n          label : \\\"报警消息\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"severity\\\",\\n          label : \\\"报警级别\\\",\\n          type : \\\"priority\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"firstArisingTime\\\",\\n          label : \\\"报警时间\\\",\\n          type : \\\"date\\\",\\n          render : function(data, type, full){\\n\\n            return new Date(data.format(\\\"yyyy-MM-dd HH:mm:ss\\\"));\\n          }\\n        },{\\n          name : \\\"state\\\",\\n          label : \\\"报警状态\\\",\\n          type : \\\"status\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"handel\\\",\\n          label : \\\"操作\\\",\\n          type: \\\"buttonGroup\\\",\\n          content : [{\\n            label : \\\"确认\\\",\\n            icon: \\\"null\\\",\\n            name:\\\"confirm\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            on : {\\n              click : function(elem){\\n                if(elem.row.state == 0 || elem.row.state == 5){\\n                  var severity = elem.row.severity;\\n                  if(severity == 1 || severity == 2) {\\n                    severity = 0;\\n                  } else if(severity == 3) {\\n                    severity = 100;\\n                  } else if(severity == 5 || severity == 4) {\\n                    severity = 200;\\n                  }\\n                  event.target.postService(\\\"resourceUIService\\\", \\\"getKpisByKpiIds\\\", [[elem.row.kpiCode]], function(kpi){\\n                    if(kpi.code == 0){\\n                      var MaintainPerson = deviceDic[elem.row.nodeId].values.MaintainPerson;\\n                      var deviceCode = deviceDic[elem.row.nodeId].externalDevId;\\n                      var AuditPersonObj = eval(\\\"(\\\" +deviceDic[elem.row.nodeId].values.AuditPerson + \\\")\\\");\\n                      var ResponsiblePersonObj =eval(\\\"(\\\" + deviceDic[elem.row.nodeId].values.ResponsiblePerson + \\\")\\\");\\n                      var auditStr = \\\"\\\";\\n                      var personStr = \\\"\\\";\\n                      if(kpi.data.length > 0){\\n                        auditStr = AuditPersonObj[\\\"\\\"+kpi.data[0].specialtyProp+\\\"\\\"];\\n                        personStr = ResponsiblePersonObj[\\\"\\\"+kpi.data[0].specialtyProp+\\\"\\\"];\\n                      }else{\\n                        auditStr = AuditPersonObj.Z;\\n                        personStr = ResponsiblePersonObj.Z;\\n                      }\\n                      var valuesObj = {\\\"customerName\\\":elem.row.customerName,\\\"devName\\\":elem.row.devName,\\\"appName\\\":elem.row.appName,\\n                        \\\"alertTitle\\\":elem.row.message,\\\"severity\\\":elem.row.severity,\\\"AuditPerson\\\":auditStr,\\n                        \\\"CheckPerson\\\":deviceDic[elem.row.nodeId].values.CheckPerson,\\n                        \\\"ResponsiblePerson\\\":personStr,\\\"MaintainPerson\\\":MaintainPerson,\\n                         \\\"deviceCode\\\" :deviceCode\\n                      };\\n                      var alertInfo = {\\n                        \\\"actionType\\\": \\\"forward\\\",\\n                        \\\"alertIds\\\": [elem.row.alertId],\\n                        \\\"severity\\\": 0,\\n                        \\\"target\\\": \\\"EOMS://auttest/auttest\\\"\\n                      };\\n                      var ticket = {\\n                        \\\"title\\\": elem.row.message,\\n                        \\\"category\\\": ticketCategorys.category,\\n                        \\\"ticketCategoryId\\\": ticketCategorys.id,\\n                        \\\"priorityCode\\\": severity,\\n                        \\\"faultId\\\": \\\"\\\",\\n                        \\\"deviceId\\\": elem.row.nodeId,\\n                        \\\"message\\\": elem.row.message,\\n                        \\\"values\\\":valuesObj\\n                      };\\n\\n                      var claimObj ={\\\"actionType\\\":\\\"claim\\\",\\\"alertIds\\\":[elem.row.alertId]};\\n                      event.target.postService(\\\"alertManageFlexService\\\", \\\"sendForwardAction\\\", [alertInfo,ticket], function(tc){\\n                        if(tc.code == 0){\\n                          event.target.postService(\\\"alertManageFlexService\\\", \\\"sendClaimAction\\\", [claimObj], function(claimData){\\n                            if(claimData.code == 0){\\n                              event.target.growl(\\\"报警处理成功，已发送给相关负责人\\\",\\\"success\\\");\\n                              event.global.fire(\\\"getAlertByPage\\\",{});\\n\\n                            }\\n                          });\\n                        }else{\\n                          event.target.growl(tc.message,\\\"info\\\");\\n                        }\\n                      })\\n                    }\\n\\n                  })\\n\\n                }else{\\n                  event.target.growl(\\\"不能转工单\\\",\\\"warning\\\");\\n                }\\n\\n              }\\n            }\\n          },{\\n            label : \\\"忽略\\\",\\n            icon: \\\"null\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            name:\\\"ignore\\\",\\n            on : {\\n              click : function(elem){\\n                console.info(\\\"忽略===\\\",elem);\\n                var alertObj = {\\\"alertObj\\\":elem.row};\\n                target.createPopupBypath(\\\"popup\\\", {\\n                  title : \\\"处理\\\",\\n                  width : \\\"40%\\\",\\n                  theme : \\\"system\\\",\\n                  on : {\\n                    submit : function(data){\\n                      console.info(\\\"submitsubmit====\\\",data);\\n                      if(data.statuc == \\\"success\\\"){\\n                        event.global.fire(\\\"getAlertByPage\\\",{});\\n                      }\\n                    }\\n                  }\\n                }, alertObj);\\n              }\\n            }\\n          }],\\n          render : function(){\\n            return \\\"\\\"\\n          }\\n        }]\\n\\n        target.setValue(\\\"format\\\",format);\\n        target.render({\\n          data : alertData,\\n          format : format.map(function(elem){\\n            return {\\n              \\\"name\\\": elem.label,\\n              \\\"value\\\": elem.name,\\n              \\\"type\\\": elem.type || \\\"text\\\",\\n              \\\"content\\\": elem.content\\n            }\\n          })\\n        });\\n      }\\n      var customersList = getDataByJquerySync(\\\"customerUIService\\\",\\\"findCustomersByCondition\\\",[{}]);\\n      var customersDic = {};\\n      if(customersList){\\n        customersList.forEach(function(u){\\n          customersDic[u.id] = u;\\n        });\\n      }\\n\\n      var deviceList = getDataByJquerySync(\\\"resourceUIService\\\",\\\"getDevicesByCondition\\\",[{}]);\\n      if(deviceList){\\n        deviceList.forEach(function(u){\\n          deviceDic[u.id] = u;\\n        });\\n      }\\n      target.setValue(\\\"customersDic\\\",customersDic);\\n      target.setValue(\\\"deviceDic\\\",deviceDic);\\n      var queryItem = {\\\"severities\\\":\\\"1,2,3,4\\\",\\\"states\\\":\\\"0,5,10\\\"};\\n      var pageRequest = {\\\"start\\\":0,\\\"length\\\":500,\\\"statCount\\\":true};\\n      var alertList = getDataByJquerySync(\\\"alertQueryFlexService\\\",\\\"getAlertByPage\\\",[queryItem,pageRequest]);\\n      var alertArr = [];\\n      var alertDic = {};\\n      if(alertList.data.length > 0){\\n        for(var i in alertList.data){\\n          alertList.data[i][\\\"nodeName\\\"] = \\\"\\\";\\n          alertList.data[i][\\\"customerName\\\"] = \\\"\\\";\\n          if(alertList.data[i].nodeId &&  deviceDic[alertList.data[i].nodeId] != undefined){\\n            var customersId = deviceDic[alertList.data[i].nodeId].customerId;\\n            if(customersDic[customersId] != undefined){\\n              alertList.data[i].customerName = customersDic[customersId].customerName;\\n            }\\n          }\\n          alertDic[alertList.data[i].alertId] = alertList.data[i];\\n          alertArr.push(alertList.data[i]);\\n        }\\n      }\\n      event.global.fire(\\\"accept\\\",alertDic)\\n      target.setValue(\\\"alertArr\\\",alertArr);\\n      event.target.postService(\\\"ticketCategoryService\\\", \\\"getTicketCategorys\\\", [], function(tc){\\n        if(tc.code == 0){\\n          var ticketData = tc.data;\\n          var ticketSort = [];\\n          for(var t in ticketData){\\n            if(ticketData[t].category == 50){\\n              ticketSort.push(ticketData[t]);\\n            }\\n          }\\n          ticketSort.sort(function(a, b){\\n            return a.createTime < b.createTime ? 1 : -1;\\n          });\\n          ticketCategorys = ticketSort[0];\\n         \\n          setInterval(function(){\\n              var queryParam = event.global.alertParams == undefined ? {} : event.global.alertParams;\\n              event.global.fire(\\\"getAlertByPage\\\",queryParam);\\n          }, 1000*60);\\n          render(alertArr);\\n        }else{\\n          console.log(\\\"流程关联接口异常\\\");\\n        }\\n      })\\n    },\\n    refresh:function(event){\\n      var target = event.target;\\n    },\\n    getAlertByPage:function(event){\\n      var target = event.target;\\n      var customersDic = target.getValue(\\\"customersDic\\\");\\n      var deviceDic = target.getValue(\\\"deviceDic\\\");\\n      var format = target.getValue(\\\"format\\\");\\n      var  params=event.params;\\n      console.info(\\\"params====\\\",event.params);\\n      event.global.alertParams = event.params;\\n      var render = function(alertData){\\n        target.render({\\n          data : alertData,\\n          format : format.map(function(elem){\\n            return {\\n              \\\"name\\\": elem.label,\\n              \\\"value\\\": elem.name,\\n              \\\"type\\\": elem.type || \\\"text\\\",\\n              \\\"content\\\": elem.content\\n            }\\n          })\\n        });\\n      }\\n      var queryItem = {\\\"severities\\\":\\\"1,2,3,4\\\",\\\"states\\\":\\\"0,5,10\\\",\\\"firstTimeFrom\\\":params.firstTimeFrom,\\\"firstTimeTo\\\":params.firstTimeTo};\\n      var pageRequest = {\\\"start\\\":0,\\\"length\\\":500,\\\"statCount\\\":true};\\n      var jsonToString = JSON.stringify(queryItem) ;\\n      event.target.postService(\\\"alertQueryFlexService\\\", \\\"getAlertByPage\\\", [eval(\\\"(\\\" + jsonToString + \\\")\\\"),pageRequest], function(tc){\\n        if(tc.code == 0){\\n          var alertList = tc.data.data;\\n          var alertArr = [];\\n          var alertDic = {};\\n          if(alertList.length > 0){\\n            for(var i in alertList){\\n              alertList[i][\\\"nodeName\\\"] = \\\"\\\";\\n              alertList[i][\\\"customerName\\\"] = \\\"\\\";\\n              if(alertList[i].nodeId &&  deviceDic[alertList[i].nodeId] != undefined){\\n                var customersId = deviceDic[alertList[i].nodeId].customerId;\\n                if(customersDic[customersId] != undefined){\\n                  alertList[i].customerName = customersDic[customersId].customerName;\\n                }\\n              }\\n              alertDic[alertList[i].alertId] = alertList[i];\\n              alertArr.push(alertList[i]);\\n            }\\n          }\\n          render(alertArr);\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width: \\\"auto\\\",\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\": \\\"\\\", \\\"firstTimeTo\\\": \\\"\\\",\\\"status\\\": \\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期\\n      var list = [{\\n        id : 1,\\n        title : \\\"全部\\\",\\n        value : \\\"\\\",\\n        btnclass:\\\"btn btn-primary\\\",\\n        activeclass:\\\"\\\"\\n      },/*{\\n          id : 2,\\n          title : \\\"待分析\\\",\\n          value : \\\"checking\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },*/{\\n        id : 3,\\n        title : \\\"待审批\\\",\\n        value : \\\"auditing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 4,\\n        title : \\\"待委托\\\",\\n        value : \\\"trusting\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 5,\\n        title : \\\"待维修\\\",\\n        value : \\\"maintaining\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 6,\\n        title : \\\"待验收\\\",\\n        value : \\\"accepting\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 7,\\n        title : \\\"待评价\\\",\\n        value : \\\"assessing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 8,\\n        title : \\\"待说明\\\",\\n        value : \\\"explaining\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 9,\\n        title : \\\"待关闭\\\",\\n        value : \\\"closing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 10,\\n        title : \\\"已完成\\\",\\n        value : \\\"end\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      }];\\n      var render = function () {\\n        var ctrlGroups = [\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width: \\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            }, {\\n            type: \\\"button\\\",\\n            value: \\\"当日处理任务\\\",\\n            btnclass: currStatus == \\\"today\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n                timeObj.firstTimeFrom = today;\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj)\\n                currStatus = \\\"today\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"本周处理任务\\\",\\n            btnclass: currStatus == \\\"bz\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n\\n                //获得本周的开端日期\\n                function getWeekStartDate() {\\n                  var nowDayOfWeek = now.getDay(); //今天本周的第几天\\n                  var nowDay = now.getDate(); //当前日\\n                  var nowMonth = now.getMonth(); //当前月\\n                  var nowYear = now.getFullYear(); //当前年\\n                  var weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek);\\n                  return weekStartDate;\\n                }\\n\\n                timeObj.firstTimeFrom = getWeekStartDate();\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj)\\n                currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"当月处理任务\\\",\\n            btnclass: currStatus == \\\"month\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n\\n                //当前月的第一天\\n                function getCurrentMonthFirst() {\\n                  var date = new Date();\\n                  date.setDate(1);\\n                  return date;\\n                }\\n\\n                timeObj.firstTimeFrom = getCurrentMonthFirst();\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj);\\n                currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: \\\"\\\",\\n            class: \\\"col-md-5\\\",\\n            colSpan : 2,\\n            style: {\\n              width: \\\"200px\\\",\\n              textAlign: \\\"center\\\"\\n            },\\n            on: {\\n              change: function (elem) {\\n                timeObj.firstTimeFrom = elem.value.start;\\n                timeObj.firstTimeTo = elem.value.end;\\n                if (elem.value.start) {\\n                  inpStatus = true;\\n                }\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on: {\\n              click: function (elem) {\\n                if (inpStatus) {\\n                  target.trigger(\\\"search_ticket\\\", timeObj)\\n                  currStatus = \\\"\\\";\\n                  inpStatus = false;\\n                  //   render();\\n                } else {\\n                  event.target.growl(\\\"请选择时间\\\", \\\"warning\\\");\\n                }\\n              }\\n            }\\n          }],\\n          // 完成任务\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"任务状态:\\\",\\n              style: {\\n                textAlign: \\\"right\\\",\\n                width: \\\"100px\\\"\\n              }\\n            }\\n          ]\\n        ];\\n        for(var i in list){\\n          ctrlGroups[1].push({\\n            id : list[i].id,\\n            type : \\\"button\\\",\\n            value : list[i].title,\\n            btnclass :list[i].btnclass,\\n            paramvalue:list[i].value,\\n\\n            // style: {\\n            //   width: \\\"100px\\\",\\n            //   textAlign: \\\"left\\\"\\n            // },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                elem.current.btnclass = \\\"btn btn-default\\\";\\n                var id = elem.current.id;\\n                var value = elem.current.paramvalue;\\n                timeObj.status = value;\\n                target.trigger(\\\"search_ticket\\\",timeObj)\\n\\n                for(var i in list){\\n                  if(list[i].id == id){\\n                    list[i].btnclass = \\\"btn btn-primary\\\";\\n                  } else {\\n                    list[i].btnclass = \\\"btn btn-default\\\";\\n                  }\\n\\n                }\\n                render()\\n              }\\n            }\\n          });\\n        }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"报警跟踪\\\")\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        ticketNo :  \\\"任务编号\\\",\\n        customerName :  \\\"产线\\\",\\n        devName : \\\"设备信息\\\",\\n        appName : {\\n          name:\\\"报警来源\\\",\\n          type:\\\"alarmSource\\\",\\n          value : \\\"appName\\\"\\n        },\\n        alertTitle : \\\"报警信息\\\",\\n        severity :{\\n          name:\\\"报警级别\\\",\\n          type:\\\"priority\\\",\\n          value : \\\"severity\\\"\\n        },\\n        commitTime : \\\"报警处理时间\\\",\\n        handlerName : \\\"当前处理人\\\",\\n        tickeTaskStatus : \\\"任务状态\\\"\\n      };\\n\\n      function getTableData (time){\\n          var params = {\\n            tickeTaskStatus: time?time.status:\\\"\\\",\\n            commitBeginTime: time?time.firstTimeFrom:\\\"\\\",\\n            commitEndTime: time?time.firstTimeTo:\\\"\\\",\\n          };\\n          \\n          target.postService(\\\"ticketTaskService\\\", \\\"getDealTicketList\\\",params, function(tc){\\n           if(tc.data){\\n            var datas = [];\\n            tc.data.forEach(function(ele){\\n              var data = ele.values;\\n             if(data.tickeTaskStatus == \\\"checking\\\"){\\n               data.tickeTaskStatus  = \\\"待分析\\\";\\n             }else if(data.tickeTaskStatus == \\\"auditing\\\"){\\n               data.tickeTaskStatus = \\\"待审批 \\\";\\n             }else if(data.tickeTaskStatus == \\\"trusting\\\"){\\n               data.tickeTaskStatus = \\\"待委托\\\";\\n             }else if(data.tickeTaskStatus == \\\"end\\\"){\\n               data.tickeTaskStatus = \\\"已完成\\\";\\n             }else if(data.tickeTaskStatus == \\\"assessing\\\"){\\n               data.tickeTaskStatus = \\\"待评价\\\";\\n             }else if(data.tickeTaskStatus == \\\"explaining\\\"){\\n               data.tickeTaskStatus = \\\"待说明\\\";\\n             }else if(data.tickeTaskStatus == \\\"closing\\\"){\\n               data.tickeTaskStatus = \\\"待关闭\\\";\\n             }else if(data.tickeTaskStatus == \\\"accepting\\\"){\\n               data.tickeTaskStatus = \\\"待验收\\\";\\n             }else if(data.tickeTaskStatus == \\\"maintaining\\\"){\\n               data.tickeTaskStatus = \\\"待维修\\\";\\n             }\\n             data.ticket = ele;\\n             data.handlerName = ele.handlerName;\\n             data.commitTime = new Date(ele.commitTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n             datas.push(data);\\n           }) \\n            success(datas) \\n          }\\n        });  \\n        }\\n        getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){\\n       var render = function(advsearch){\\n        var format = [];\\n        for(var i in Dictionary){\\n          var item = target.explainDic(i, Dictionary[i]);\\n          format.push(item);\\n        }\\n        format.push({\\n          name : \\\"操作\\\",\\n          type: \\\"buttonGroup\\\",\\n          content :[{\\n            label : \\\"过程跟踪\\\",\\n            icon: \\\"null\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            on : {\\n              click : function(elem){\\n                  // 点检人员处理任务 2\\n                  //   elem.row.dealType = 2;\\n                //   target.navigateTo(\\\"index\\\", {\\n                //     main : [0,\\\"page11\\\"],\\n                //     ticketNo : elem.row.ticketNo,\\n                //   }, \\\"self\\\");\\n                   target.createSystemPopupByLocalPath(\\\"page2\\\", {\\n                           width : \\\"auto\\\",\\n                           title : \\\"过程跟踪\\\",\\n                   }, elem.row.ticketNo);\\n                }\\n              }\\n            }] ,\\n            render : function(){\\n              return \\\"\\\"\\n            }\\n          });\\n        target.render({\\n          data : datas,\\n          format : format\\n        });\\n      };\\n        // 点击日期按钮\\n        target.off(\\\"search_ticket\\\");\\n        target.on(\\\"search_ticket\\\", function(time){\\n          getTableData(time)\\n          render();\\n        });\\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12,\"alertObj\":{\"555461744916080\":{\"eventId\":555459328076132,\"alertId\":555461744916080,\"alertCode\":0,\"nodeId\":554895612296064,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586072\",\"nodeTypes\":\"/0/1/9/552571905976064/557350391316190/\",\"devName\":\"5#除磷泵\",\"appName\":\"1\",\"relatedNodeId\":0,\"kpiCode\":0,\"severity\":3,\"message\":\"速度峰值过高\",\"arisingTime\":\"2017-11-22T12:08:12.000+0000\",\"receiveTime\":\"2017-11-22T13:50:36.767+0000\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586072\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"552571905976064\",\"557350391316190\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-22T12:08:12.000+0000\",\"oldSeverity\":3,\"updateTime\":\"2017-11-22T13:50:36.790+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-25T10:24:01.833+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"555461744916079\":{\"eventId\":555459328076131,\"alertId\":555461744916079,\"alertCode\":0,\"nodeId\":554895612296064,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586072\",\"nodeTypes\":\"/0/1/9/552571905976064/557350391316190/\",\"devName\":\"5#除磷泵\",\"appName\":\"1\",\"relatedNodeId\":0,\"kpiCode\":0,\"severity\":3,\"message\":\"速度峰值过高\",\"arisingTime\":\"2017-11-22T12:08:12.000+0000\",\"receiveTime\":\"2017-11-22T13:50:31.767+0000\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586072\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"552571905976064\",\"557350391316190\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-22T12:08:12.000+0000\",\"oldSeverity\":3,\"updateTime\":\"2017-11-22T13:50:31.830+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-24T06:57:37.805+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"555461744916074\":{\"eventId\":555459328076130,\"alertId\":555461744916074,\"alertCode\":0,\"nodeId\":554895612296064,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586072\",\"nodeTypes\":\"/0/1/9/552571905976064/557350391316190/\",\"devName\":\"5#除磷泵\",\"appName\":\"1\",\"relatedNodeId\":0,\"kpiCode\":0,\"severity\":3,\"message\":\"速度峰值过高\",\"arisingTime\":\"2017-11-22T12:08:12.000+0000\",\"receiveTime\":\"2017-11-22T13:50:26.764+0000\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586072\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"552571905976064\",\"557350391316190\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-22T12:08:12.000+0000\",\"oldSeverity\":3,\"updateTime\":\"2017-11-22T13:50:26.820+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-25T08:05:35.177+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"555461744916072\":{\"eventId\":555459328076128,\"alertId\":555461744916072,\"alertCode\":0,\"nodeId\":554895612296064,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586072\",\"nodeTypes\":\"/0/1/9/552571905976064/557350391316190/\",\"devName\":\"5#除磷泵\",\"appName\":\"1\",\"relatedNodeId\":0,\"kpiCode\":0,\"severity\":3,\"message\":\"速度峰值过高\",\"arisingTime\":\"2017-11-22T12:08:12.000+0000\",\"receiveTime\":\"2017-11-22T13:50:16.762+0000\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586072\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"552571905976064\",\"557350391316190\"],\"count\":1,\"state\":0,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-22T12:08:12.000+0000\",\"oldSeverity\":3,\"updateTime\":\"2017-11-22T13:50:16.802+0000\",\"comments\":\"\",\"incidentId\":0,\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"555461744916071\":{\"eventId\":555459328076127,\"alertId\":555461744916071,\"alertCode\":0,\"nodeId\":554895612296064,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586072\",\"nodeTypes\":\"/0/1/9/552571905976064/557350391316190/\",\"devName\":\"5#除磷泵\",\"appName\":\"1\",\"relatedNodeId\":0,\"kpiCode\":0,\"severity\":3,\"message\":\"速度峰值过高\",\"arisingTime\":\"2017-11-22T12:08:12.000+0000\",\"receiveTime\":\"2017-11-22T13:50:11.762+0000\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586072\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"552571905976064\",\"557350391316190\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-22T12:08:12.000+0000\",\"oldSeverity\":3,\"updateTime\":\"2017-11-22T13:50:11.791+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-25T08:24:03.947+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"555461744916070\":{\"eventId\":555459328076126,\"alertId\":555461744916070,\"alertCode\":0,\"nodeId\":554895612296064,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586072\",\"nodeTypes\":\"/0/1/9/552571905976064/557350391316190/\",\"devName\":\"5#除磷泵\",\"appName\":\"1\",\"relatedNodeId\":0,\"kpiCode\":0,\"severity\":3,\"message\":\"速度峰值过高\",\"arisingTime\":\"2017-11-22T12:08:12.000+0000\",\"receiveTime\":\"2017-11-22T13:50:06.764+0000\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586072\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"552571905976064\",\"557350391316190\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-22T12:08:12.000+0000\",\"oldSeverity\":3,\"updateTime\":\"2017-11-22T13:50:06.835+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-23T01:55:17.353+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"555461744916065\":{\"eventId\":555459328076125,\"alertId\":555461744916065,\"alertCode\":0,\"nodeId\":554895612296064,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586072\",\"nodeTypes\":\"/0/1/9/552571905976064/557350391316190/\",\"devName\":\"5#除磷泵\",\"appName\":\"1\",\"relatedNodeId\":0,\"kpiCode\":0,\"severity\":3,\"message\":\"速度峰值过高\",\"arisingTime\":\"2017-11-22T12:08:12.000+0000\",\"receiveTime\":\"2017-11-22T13:50:01.760+0000\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586072\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"552571905976064\",\"557350391316190\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-22T12:08:12.000+0000\",\"oldSeverity\":3,\"updateTime\":\"2017-11-22T13:50:04.464+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-23T01:55:15.405+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"555461744916064\":{\"eventId\":555459328076124,\"alertId\":555461744916064,\"alertCode\":0,\"nodeId\":554895612296064,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586072\",\"nodeTypes\":\"/0/1/9/552571905976064/557350391316190/\",\"devName\":\"5#除磷泵\",\"appName\":\"1\",\"relatedNodeId\":0,\"kpiCode\":0,\"severity\":3,\"message\":\"速度峰值过高\",\"arisingTime\":\"2017-11-22T12:08:12.000+0000\",\"receiveTime\":\"2017-11-22T13:49:56.764+0000\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586072\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"552571905976064\",\"557350391316190\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-22T12:08:12.000+0000\",\"oldSeverity\":3,\"updateTime\":\"2017-11-22T13:50:04.457+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-23T02:58:50.909+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}},\"alertParams\":{}},\"$$hashKey\":\"object:1208\"},{\"label\":\"忽略_inner\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var params = target.getPopupData();\\n       console.info(\\\"alertObj===\\\",params);\\n       var objRemark={\\\"remark\\\":\\\"\\\"};\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"忽略原因1:\\\",\\n          type : \\\"textarea\\\",\\n           on : {\\n            change : function(elem){\\n                objRemark.remark = elem.value;\\n              console.log(\\\"备注====\\\"+elem.value)\\n              \\n            }\\n          }\\n        }\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        obj.on = item.on;\\n        return [labelObj, obj];\\n      }\\n      for(var i in Dic){\\n        ctrlGroups.push(loop(Dic[i]))\\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        style:{\\\"text-align\\\":\\\"right\\\"},\\n        on : {\\n          click : function(elem){\\n              var ary = [];\\n              ary.push(params.alertObj.alertId);\\n              var alertInfo = {\\\"actionType\\\":\\\"recover\\\",\\\"alertIds\\\":ary,\\\"recoverAll\\\":true,\\\"resolved\\\":false,\\\"clearOut\\\":true,\\\"comment\\\":objRemark.remark};\\n              event.target.postService(\\\"alertManageFlexService\\\", \\\"sendRecoverAction\\\", [alertInfo], function(dt){\\n                  if(dt.code == 0){\\n                      event.target.growl(\\\"报警处理处理成功\\\",\\\"success\\\");\\n                      target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                  }\\n              })\\n            console.log(\\\"提交\\\"+objRemark.remark);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-default\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.cancel()\\n          }\\n        }\\n      }])\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1242\"},{\"label\":\"报警跟踪弹出页\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n    //   target.trigger(\\\"lv1moveTo\\\", \\\"index\\\");\\n        // target.navigateTo(\\\"index\\\", {\\n        //   main : 0,\\n        // }, \\\"self\\\");\\n        target.cancel();\\n       \\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{},\"advance\":{\"expression\":\"expression = {\\n  width : \\\"100%\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = target.getPopupData();\\n\\n      var ctrlGroups = [\\n      {\\n        time:\\\"2017-11-12 12:30:10\\\",\\n        icon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n        disList:[{\\n          value : \\\"<a href='#'>报警产生</a>\\\"\\n        },{\\n          value : \\\"报警类型：振动报警\\\"\\n        },{\\n          value : \\\"报警级别：警告\\\"\\n        },{\\n          value : \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n        }\\n        ]},\\n        {\\n          time:\\\"2017-11-12 12:30:10\\\",\\n          icon:\\\"fa fa-user bg-aqua bg-orange\\\",\\n          disList:[\\n          {\\n            value : \\\"<a href='#'>检修反馈</a>\\\"\\n          }\\n          ]},\\n          {\\n            time:\\\"2017-11-12 12:30:10\\\",\\n            icon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n            disList:[\\n            {\\n              value : \\\"<a href='#'>检修反馈</a>\\\"\\n            }\\n            ]}\\n            ];   \\n            var dateToString = function(now){  \\n              var year = now.getFullYear();  \\n              var month =(now.getMonth() + 1).toString();  \\n              var day = (now.getDate()).toString();  \\n              var hour = (now.getHours()).toString();  \\n              var minute = (now.getMinutes()).toString();  \\n              var second = (now.getSeconds()).toString();  \\n              if (month.length == 1) {  \\n                month = \\\"0\\\" + month;  \\n              }  \\n              if (day.length == 1) {  \\n                day = \\\"0\\\" + day;  \\n              }  \\n              if (hour.length == 1) {  \\n                hour = \\\"0\\\" + hour;  \\n              }  \\n              if (minute.length == 1) {  \\n                minute = \\\"0\\\" + minute;  \\n              }  \\n              if (second.length == 1) {  \\n                second = \\\"0\\\" + second;  \\n              }  \\n              var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day +\\\" \\\"+ hour +\\\":\\\"+minute+\\\":\\\"+second;  \\n              return dateTime;  \\n            }  \\n            if(ticketNo){\\n\\n              event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\",[ticketNo], function(dt){\\n                if(dt.code == 0){\\n                  var ticketHistoryList = dt.data;\\n                  var arr = [];\\n                  console.info(\\\"ticketHistoryList===\\\",ticketHistoryList);\\n                  for(var i in ticketHistoryList){\\n                    var cantentList = [];\\n                    var historyList = {time:\\\"\\\",icon:\\\"\\\",disList:\\\"\\\"};\\n                    if(ticketHistoryList[i].logType == \\\"startEvent\\\"){\\n                     historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                     cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n                   }\\n                   if(ticketHistoryList[i].logType == \\\"endEvent\\\"){\\n                     historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                     cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n                   }\\n                   if(ticketHistoryList[i].logType == \\\"cancelEvent\\\"){\\n                     historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                     cantentList.push({\\\"value\\\":\\\"已撤销\\\"});\\n                   }\\n                   if(ticketHistoryList[i].logType == \\\"userTask\\\"){\\n                     if(ticketHistoryList[i].ticketTask.taskStatus == 200){\\n                       historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                     }else{\\n                      historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                    }\\n                    var taskRemark = \\\"\\\";\\n                    if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined){\\n                     taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                   }\\n                   var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                   cantentList.push({\\\"value\\\":\\\"<a>\\\"+ticketHistoryList[i].message+\\\"</a>\\\"});\\n                   cantentList.push({\\\"value\\\":\\\"处理人:\\\"+handlerName+\\\"\\\"});\\n                   var foramTime = \\\"\\\";\\n                   if(ticketHistoryList[i].ticketTask.finishedTime){\\n                     foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                   }\\n                   console.log(\\\"处理时间==\\\"+ticketHistoryList[i].ticketTask.finishedTime);\\n                   cantentList.push({\\\"value\\\":\\\"处理时间:\\\"+foramTime+\\\"\\\"});\\n                 }\\n                 if(ticketHistoryList[i].logType == \\\"serviceTask\\\"){\\n                   historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                   cantentList.push({\\\"value\\\":\\\"处理人:系统\\\"});\\n                 }\\n                 historyList.disList = cantentList;\\n                 arr.push(historyList);\\n               }\\n               console.info(\\\"处理====\\\",arr);\\n               event.target.render(arr);\\n             }else{\\n              console.log(\\\"接口异常\\\");\\n            }\\n          })\\n            }else{\\n              event.target.render(ctrlGroups);\\n            }\\n\\n          }\\n        }\\n      }\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:1812\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "我的首页(baogang/decider/home)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var render = function(data){\\n        var list = [{\\n          label : \\\"待处理任务数\\\",\\n          value : data,\\n          icon : \\\"proudsmart ps-gongdanguanli\\\",\\n          kpi : 3003,\\n          css : {\\n            \\\"background-color\\\" : \\\"#0c466d\\\",\\n            \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n          }\\n        },{\\n          label : \\\"故障停机时间（本周）\\\",\\n          value : \\\"0\\\",\\n          kpi : 3051,\\n          icon : \\\"glyphicon glyphicon-briefcase\\\",\\n          css : {\\n            \\\"background-color\\\" : \\\"#484b2f\\\",\\n            \\\"border\\\" : \\\"1px solid #e7b52b\\\"\\n          }\\n        },{\\n          label : \\\"故障停机次数（本周）\\\",\\n          value : \\\"0\\\",\\n          kpi : 3051,\\n          icon : \\\"glyphicon glyphicon-duplicate\\\",\\n          css : {\\n            \\\"background-color\\\" : \\\"#472d3c\\\",\\n            \\\"border\\\" : \\\"1px solid #e55057\\\"\\n          }\\n        }];\\n        target.render(list);\\n      };\\n      render(0);\\n      target.off(\\\"inspectionLoaded\\\");\\n      target.on(\\\"inspectionLoaded\\\", function (data) {\\n        render(data.length)\\n      });\\n    }\\n  }\\n}\"},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var css = data.css;\\n            target.setCss(css);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n        \\n      var target = event.target;\\n      var global = event.global;\\n      var data = target.$repeatData;\\n      var ctrlGroups = [\\n           [{\\n          type : \\\"icon\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"60px\\\"\\n          },\\n          tdStyle : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          icon : data.icon\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : data.value,\\n          style : {\\n              \\\"font-size\\\" : \\\"30px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          class : \\\"col-md-12\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : data.label,\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"12px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3}],\"style\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width:\\\"auto\\\",\\n  on: {\\n    init: function (event) {\\n      //----------------------------自定义内容----------------------------\\n      //要进行搜索的变量名，对应列表里相应的变量\\n      var attr = \\\"sendTime\\\";\\n      var timeObj = {};\\n      var date = new Date();\\n      var list = [{\\n        id: 0,\\n        title: \\\"当日计划\\\",\\n        value: 0\\n      }, {\\n        id: 1,\\n        title: \\\"周计划\\\",\\n        value: 0\\n      }, {\\n        id: 2,\\n        title: \\\"月计划\\\",\\n        value: 0\\n      }, {\\n        id: 3,\\n        title: \\\"起始时间\\\",\\n        type: \\\"dateRangePicker\\\"\\n      }, {\\n        id: 4,\\n        title: \\\"查询\\\",\\n        type: \\\"query\\\"\\n      }]\\n      //----------------------------自定义内容----------------------------\\n      //注意，下面内容别动！！！\\n      var target = event.target;\\n      var global = event.global;\\n      target.setScopeValue(\\\"search/sendTime\\\", {\\n        type: \\\"between\\\",\\n        value: [null, null]\\n      });\\n      var timeBetween = function (item) {\\n        if (item.id == -1) {\\n          return null;\\n        } else if (item.id == 0) {\\n          var today = new Date();\\n          today.setHours(0);\\n          today.setMinutes(0);\\n          today.setSeconds(0);\\n          today.setMilliseconds(0);\\n          timeObj.startTime = today;\\n          timeObj.endTime = date;\\n          return timeObj;\\n        } else if (item.id == 1) {\\n          function getWeekStartDate() {\\n            var nowDayOfWeek = new Date().getDay(); //今天本周的第几天\\n            var nowDay = new Date().getDate(); //当前日\\n            var nowMonth = new Date().getMonth(); //当前月\\n            var nowYear = new Date().getFullYear(); //当前年\\n            var weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek);\\n            return weekStartDate;\\n          }\\n          timeObj.startTime = getWeekStartDate();\\n          timeObj.endTime = date;\\n          return timeObj;\\n        } else if (item.id == 2) {\\n          function getCurrentMonthFirst() {\\n            var date = new Date();\\n            date.setDate(1);\\n            return date;\\n          }\\n          timeObj.startTime = getCurrentMonthFirst();\\n          timeObj.endTime = date;\\n          return timeObj;\\n        }\\n      }\\n      var render = function () {\\n        var ctrlGroups = [\\n          [{\\n            type: \\\"label\\\",\\n            value: \\\"时 间:\\\",\\n            style: {\\n              textAlign: \\\"center\\\",\\n              width: \\\"55px\\\"\\n            }\\n          }]\\n        ];\\n\\n        for (var i in list) {\\n          if (list[i].type == \\\"query\\\") {\\n            ctrlGroups[0].push({\\n              id: list[i].id,\\n              type: \\\"button\\\",\\n              value: list[i].title,\\n              btnclass: \\\"btn btn-primary\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                  target.trigger(\\\"search_toDolist\\\");\\n                  render()\\n                }\\n              }\\n            });\\n          } else if (list[i].type == \\\"label\\\") {\\n            ctrlGroups[0].push({\\n              id: list[i].id,\\n              type: \\\"label\\\",\\n              value: list[i].title,\\n            });\\n          } else if (list[i].type == \\\"dateRangePicker\\\") {\\n            ctrlGroups[0].push({\\n              type: \\\"label\\\",\\n              value: list[i].title,\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  var start = target.dateHandler(elem.value.start);\\n                  var end = target.dateHandler(elem.value.end);\\n                  var timeSpan = [start, end];\\n                  target.setScopeValue(\\\"advanceSearch/sendTime\\\", {\\n                    type: \\\"sendTime\\\",\\n                    value: timeSpan\\n                  });\\n                }\\n              },\\n            });\\n          } else {\\n            ctrlGroups[0].push({\\n              id: list[i].id,\\n              type: \\\"button\\\",\\n              value: list[i].title,\\n              btnclass: list[i].value == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n                border: \\\"#10a4fb solid 1px\\\"\\n              },\\n              on: {\\n                click: function (elem) {\\n                  elem.current.btnclass = \\\"btn btn-default\\\";\\n                  var id = elem.current.id;\\n                  var find;\\n                  for (var i in list) {\\n                    if (list[i].id == id) {\\n                      list[i].value = 1;\\n                      find = list[i];\\n                    } else {\\n                      list[i].value = 0;\\n                    }\\n                  }\\n\\n                  target.setScopeValue(\\\"advanceSearch/sendTime\\\", { \\n                    type: \\\"between\\\",\\n                    value: timeBetween(find)\\n                  });\\n                  target.trigger(\\\"search_toDolist\\\");\\n                  render()\\n                }\\n              }\\n            });\\n          }\\n        }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待处理任务\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        ticketNo :  \\\"任务编号\\\",\\n        customerName :  \\\"产线\\\",\\n        devName : \\\"设备信息\\\",\\n        alertTitle : \\\"任务信息\\\",\\n        appName : {\\n            name:\\\"来源\\\",\\n            type:\\\"alarmSource\\\",\\n            value : \\\"appName\\\"\\n        },\\n        sendTime : \\\"任务接收时间\\\",\\n        tickeTaskStatus : \\\"任务状态\\\"\\n      };\\n      function getTableData (time){\\n        var param = {\\n          //   \\\"variables\\\":{\\\"theTicketType\\\":\\\"normal\\\"},\\n          \\\"taskStatus\\\":10,\\n          \\\"sendBeginTime\\\": time?time.value.startTime:\\\"\\\",\\n          \\\"sendEndTime\\\": time?time.value.endTime:\\\"\\\",\\n        };\\n        var params = eval(\\\"(\\\" + JSON.stringify(param) + \\\")\\\");\\n        target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\",params, function(tc){\\n          if(tc.data){\\n            var datas = [];\\n            tc.data.forEach(function(ele){\\n              var data = ele.variables.ticket.values;\\n              if(ele.variables.ticket.values.tickeTaskStatus==\\\"accepting\\\"){\\n                data.tickeTaskStatus = \\\"待验收\\\";\\n                data.tickeTaskStatusName = \\\"accepting\\\"\\n              }else if(ele.variables.ticket.values.tickeTaskStatus==\\\"assessing\\\"&&ele.variables.dealType == 2){\\n                data.tickeTaskStatus = \\\"待评价\\\"\\n                data.tickeTaskStatusName = \\\"assessingSelf\\\"\\n              }else if(ele.variables.ticket.values.tickeTaskStatus==\\\"assessing\\\"){\\n                data.tickeTaskStatus = \\\"待评价\\\"\\n                data.tickeTaskStatusName = \\\"assessing\\\"\\n              }else{\\n                data.tickeTaskStatus = \\\"待委托\\\";\\n                data.tickeTaskStatusName = \\\"trusting\\\" \\n              }\\n              data.rowObj = ele;\\n              data.sendTime = new Date(ele.sendTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n              datas.push(data);\\n            })\\n            target.trigger(\\\"inspectionLoaded\\\",datas)\\n            success(datas)\\n          }\\n        });\\n      }\\n      getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){\\n        var render = function(advsearch){\\n          var format = [];\\n          for(var i in Dictionary){\\n            var item = target.explainDic(i, Dictionary[i]);\\n            format.push(item);\\n          }\\n          //方法2\\n        //   format.push(function(row){\\n        //       if(row.tickeTaskStatus == \\\"trusting\\\"){\\n        //           return {\\n                      \\n        //           }\\n        //       }\\n        //   })\\n          //方法\\n          format.push({\\n            name : \\\"操作\\\",\\n            type : \\\"valueBased\\\",\\n            value : \\\"tickeTaskStatusName\\\",\\n            options : {\\n              //  待委托出现的情况\\n              trusting : {\\n                name : \\\"操作\\\",\\n                type: \\\"buttonGroup\\\",\\n                content :[{\\n                  label : \\\"自行处理\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                      // 点检人员处理任务 2\\n                      //   elem.row.dealType = 2;\\n                      target.createSystemPopupByLocalPath(\\\"page1\\\", {\\n                        width : \\\"600px\\\",\\n                        title : \\\"自行处理说明\\\",\\n                      }, elem.row.rowObj);\\n                      //   target.setValue(\\\"global/resource\\\", elem.row.resource);\\n                    }\\n                  }\\n                },{\\n                  label : \\\"发起委托\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                      target.createSystemPopupByLocalPath(\\\"page3\\\", {\\n                        width : \\\"900px\\\",\\n                        title : \\\"检修委托\\\",\\n                      }, elem.row.rowObj);\\n                    }\\n                  }\\n                },{\\n                  label : \\\"暂不处理\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                      target.createSystemPopupByLocalPath(\\\"page2\\\", {\\n                        width : \\\"600px\\\",\\n                        title : \\\"自行处理说明\\\",\\n                      }, elem.row.rowObj);\\n                    }\\n                  }\\n                }] ,\\n                render : function(){\\n                  return \\\"\\\"\\n                }\\n              },\\n               //  待验收出现的情况\\n              accepting : {\\n                name : \\\"操作\\\",\\n                type: \\\"buttonGroup\\\",\\n                content :[{\\n                  label : \\\"检验验收\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                      // 点检人员处理任务 2\\n                      //   elem.row.dealType = 2;\\n                      target.createSystemPopupByLocalPath(\\\"page5\\\", {\\n                        width : \\\"600px\\\",\\n                        title : \\\"检修验收\\\",\\n                      }, elem.row.rowObj);\\n                    \\n                    }\\n                  }\\n                }] ,\\n                render : function(){\\n                  return \\\"\\\"\\n                }\\n              },\\n               //  待评价出现的情况\\n              assessing : {\\n                name : \\\"操作\\\",\\n                type: \\\"buttonGroup\\\",\\n                content :[{\\n                  label : \\\"检修实绩\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                      target.createSystemPopupByLocalPath(\\\"page8\\\", {\\n                        width : \\\"600px\\\",\\n                        title : \\\"自行处理说明\\\",\\n                      }, elem.row.rowObj);\\n                    }\\n                  }\\n                },{\\n                  label : \\\"诊断评价\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                      target.createSystemPopupByLocalPath(\\\"page6\\\", {\\n                        width : \\\"600px\\\",\\n                        title : \\\"诊断评价\\\",\\n                      }, elem.row.rowObj);\\n                    }\\n                  }\\n                }] ,\\n                render : function(){\\n                  return \\\"\\\"\\n                }\\n              },\\n              assessingSelf:{\\n                name : \\\"操作\\\",\\n                type: \\\"buttonGroup\\\",\\n                content :[{\\n                  label : \\\"诊断评价\\\",\\n                  icon: \\\"null\\\",\\n                  class: \\\"btn btn-default btn-sm\\\",\\n                  on : {\\n                    click : function(elem){\\n                      target.createSystemPopupByLocalPath(\\\"page6\\\", {\\n                        width : \\\"600px\\\",\\n                        title : \\\"诊断评价\\\",\\n                      }, elem.row.rowObj);\\n                    }\\n                  }\\n                }] ,\\n                render : function(){\\n                  return \\\"\\\"\\n                }\\n              }\\n            }\\n          });\\n          target.render({\\n            data : datas,\\n            on : {\\n              rowClick : function(event){\\n                // target.createPopupBypath('analysis', {\\n                //   title: \\\"诊断分析\\\",\\n                //   theme : \\\"system\\\",\\n                //   width: \\\"80%\\\"\\n                // }, {\\n                //   message: \\\"诊断分析\\\"\\n                // })\\n              }\\n            },\\n            format : format\\n          });\\n        };\\n        // 点击查询按钮\\n\\n        target.off(\\\"search_toDolist\\\");\\n        target.on(\\\"search_toDolist\\\", function(e){\\n          getTableData(target.getScopeValue(\\\"advanceSearch/sendTime\\\"))\\n          render();\\n        });\\n\\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width: \\\"auto\\\",\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\": \\\"\\\", \\\"firstTimeTo\\\": \\\"\\\",\\\"status\\\": \\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期\\n      var list = [{\\n        id : 1,\\n        title : \\\"全部\\\",\\n        value : \\\"\\\",\\n        btnclass:\\\"btn btn-primary\\\",\\n        activeclass:\\\"\\\"\\n      },/*{\\n          id : 2,\\n          title : \\\"待分析\\\",\\n          value : \\\"checking\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },*/{\\n        id : 3,\\n        title : \\\"待审批\\\",\\n        value : \\\"auditing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 4,\\n        title : \\\"待委托\\\",\\n        value : \\\"trusting\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 5,\\n        title : \\\"待维修\\\",\\n        value : \\\"maintaining\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 6,\\n        title : \\\"待验收\\\",\\n        value : \\\"accepting\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 7,\\n        title : \\\"待评价\\\",\\n        value : \\\"assessing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 8,\\n        title : \\\"待说明\\\",\\n        value : \\\"explaining\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 9,\\n        title : \\\"待关闭\\\",\\n        value : \\\"closing\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      },{\\n        id : 10,\\n        title : \\\"已完成\\\",\\n        value : \\\"end\\\",\\n        btnclass:\\\"btn btn-default\\\",\\n        activeclass:\\\"\\\"\\n      }];\\n      var render = function () {\\n        var ctrlGroups = [\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width: \\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            }, {\\n            type: \\\"button\\\",\\n            value: \\\"当日处理任务\\\",\\n            btnclass: currStatus == \\\"today\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n                timeObj.firstTimeFrom = today;\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj)\\n                currStatus = \\\"today\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"本周处理任务\\\",\\n            btnclass: currStatus == \\\"bz\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n\\n                //获得本周的开端日期\\n                function getWeekStartDate() {\\n                  var nowDayOfWeek = now.getDay(); //今天本周的第几天\\n                  var nowDay = now.getDate(); //当前日\\n                  var nowMonth = now.getMonth(); //当前月\\n                  var nowYear = now.getFullYear(); //当前年\\n                  var weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek);\\n                  return weekStartDate;\\n                }\\n\\n                timeObj.firstTimeFrom = getWeekStartDate();\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj)\\n                currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"当月处理任务\\\",\\n            btnclass: currStatus == \\\"month\\\" ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n            btnStyle: {\\n              \\\"width\\\": \\\"100px\\\",\\n              \\\"border\\\": \\\"#10a4fb solid 1px\\\"\\n            },\\n            on: {\\n              click: function (elem) {\\n\\n                //当前月的第一天\\n                function getCurrentMonthFirst() {\\n                  var date = new Date();\\n                  date.setDate(1);\\n                  return date;\\n                }\\n\\n                timeObj.firstTimeFrom = getCurrentMonthFirst();\\n                timeObj.firstTimeTo = now;\\n                target.trigger(\\\"search_ticket\\\", timeObj);\\n                currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: \\\"\\\",\\n            class: \\\"col-md-5\\\",\\n            colSpan : 2,\\n            style: {\\n              width: \\\"200px\\\",\\n              textAlign: \\\"center\\\"\\n            },\\n            on: {\\n              change: function (elem) {\\n                timeObj.firstTimeFrom = elem.value.start;\\n                timeObj.firstTimeTo = elem.value.end;\\n                if (elem.value.start) {\\n                  inpStatus = true;\\n                }\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on: {\\n              click: function (elem) {\\n                if (inpStatus) {\\n                  target.trigger(\\\"search_ticket\\\", timeObj)\\n                  currStatus = \\\"\\\";\\n                  inpStatus = false;\\n                  //   render();\\n                } else {\\n                  event.target.growl(\\\"请选择时间\\\", \\\"warning\\\");\\n                }\\n              }\\n            }\\n          }],\\n          // 完成任务\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"任务状态:\\\",\\n              style: {\\n                textAlign: \\\"right\\\",\\n                width: \\\"100px\\\"\\n              }\\n            }\\n          ]\\n        ];\\n        for(var i in list){\\n          ctrlGroups[1].push({\\n            id : list[i].id,\\n            type : \\\"button\\\",\\n            value : list[i].title,\\n            btnclass :list[i].btnclass,\\n            paramvalue:list[i].value,\\n\\n            // style: {\\n            //   width: \\\"100px\\\",\\n            //   textAlign: \\\"left\\\"\\n            // },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                elem.current.btnclass = \\\"btn btn-default\\\";\\n                var id = elem.current.id;\\n                var value = elem.current.paramvalue;\\n                timeObj.status = value;\\n                target.trigger(\\\"search_ticket\\\",timeObj)\\n\\n                for(var i in list){\\n                  if(list[i].id == id){\\n                    list[i].btnclass = \\\"btn btn-primary\\\";\\n                  } else {\\n                    list[i].btnclass = \\\"btn btn-default\\\";\\n                  }\\n\\n                }\\n                render()\\n              }\\n            }\\n          });\\n        }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"已处理任务\\\")\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        ticketNo :  \\\"任务编号\\\",\\n        customerName :  \\\"产线\\\",\\n        devName : \\\"设备信息\\\",\\n        appName : {\\n          name:\\\"报警来源\\\",\\n          type:\\\"alarmSource\\\",\\n          value : \\\"appName\\\"\\n        },\\n        alertTitle : \\\"报警信息\\\",\\n        severity :{\\n          name:\\\"报警级别\\\",\\n          type:\\\"priority\\\",\\n          value : \\\"severity\\\"\\n        },\\n        commitTime : \\\"报警处理时间\\\",\\n        handlerName : \\\"当前处理人\\\",\\n        tickeTaskStatus : \\\"任务状态\\\"\\n      };\\n\\n      function getTableData (time){\\n          var params = {\\n            tickeTaskStatus: time?time.status:\\\"\\\",\\n            commitBeginTime: time?time.firstTimeFrom:\\\"\\\",\\n            commitEndTime: time?time.firstTimeTo:\\\"\\\",\\n          };\\n          \\n          target.postService(\\\"ticketTaskService\\\", \\\"getDealTicketList\\\",params, function(tc){\\n           if(tc.data){\\n            var datas = [];\\n            tc.data.forEach(function(ele){\\n              var data = ele.values;\\n             if(data.tickeTaskStatus == \\\"checking\\\"){\\n               data.tickeTaskStatus  = \\\"待分析\\\";\\n             }else if(data.tickeTaskStatus == \\\"auditing\\\"){\\n               data.tickeTaskStatus = \\\"待审批 \\\";\\n             }else if(data.tickeTaskStatus == \\\"trusting\\\"){\\n               data.tickeTaskStatus = \\\"待委托\\\";\\n             }else if(data.tickeTaskStatus == \\\"end\\\"){\\n               data.tickeTaskStatus = \\\"已完成\\\";\\n             }else if(data.tickeTaskStatus == \\\"assessing\\\"){\\n               data.tickeTaskStatus = \\\"待评价\\\";\\n             }else if(data.tickeTaskStatus == \\\"explaining\\\"){\\n               data.tickeTaskStatus = \\\"待说明\\\";\\n             }else if(data.tickeTaskStatus == \\\"closing\\\"){\\n               data.tickeTaskStatus = \\\"待关闭\\\";\\n             }else if(data.tickeTaskStatus == \\\"accepting\\\"){\\n               data.tickeTaskStatus = \\\"待验收\\\";\\n             }else if(data.tickeTaskStatus == \\\"maintaining\\\"){\\n               data.tickeTaskStatus = \\\"待维修\\\";\\n             }\\n             data.ticket = ele;\\n             data.handlerName = ele.handlerName;\\n             data.commitTime = new Date(ele.commitTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n             datas.push(data);\\n           }) \\n            success(datas) \\n          }\\n        });  \\n        }\\n        getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){\\n       var render = function(advsearch){\\n        var format = [];\\n        for(var i in Dictionary){\\n          var item = target.explainDic(i, Dictionary[i]);\\n          format.push(item);\\n        }\\n        format.push({\\n          name : \\\"操作\\\",\\n          type: \\\"buttonGroup\\\",\\n          content :[{\\n            label : \\\"过程跟踪\\\",\\n            icon: \\\"null\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            on : {\\n              click : function(elem){\\n                  // 点检人员处理任务 2\\n                  //   elem.row.dealType = 2;\\n                //   target.navigateTo(\\\"index\\\", {\\n                //     main : [0,\\\"page11\\\"],\\n                //     ticketNo : elem.row.ticketNo,\\n                //   }, \\\"self\\\");\\n                   target.createSystemPopupByLocalPath(\\\"progress\\\", {\\n                           width : \\\"auto\\\",\\n                           title : \\\"过程跟踪\\\",\\n                   }, elem.row.ticketNo);\\n                }\\n              }\\n            }] ,\\n            render : function(){\\n              return \\\"\\\"\\n            }\\n          });\\n        target.render({\\n          data : datas,\\n          format : format\\n        });\\n      };\\n        // 点击日期按钮\\n        target.off(\\\"search_ticket\\\");\\n        target.on(\\\"search_ticket\\\", function(time){\\n          getTableData(time)\\n          render();\\n        });\\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"$$hashKey\":\"object:2121\"},{\"label\":\"自行处理弹出框\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){ \\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        major : {\\n          label : \\\"原因说明\\\",\\n          type : \\\"textarea\\\",\\n          on: {\\n              change: function (elem) {\\n                target.setValue(\\\"tallyReason\\\",elem.value);\\n              }\\n          }\\n        },\\n        conclusion : {\\n          label : \\\"处理过程说明\\\",\\n          type : \\\"textarea\\\",\\n          on: {\\n              change: function (elem) {\\n                target.setValue(\\\"tallyCourseReason\\\", elem.value);\\n              }\\n          }\\n        },\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        obj.on = item.on;\\n      return [labelObj, obj]; \\n\\n    }\\n    for(var i in Dic){\\n      ctrlGroups.push(loop(Dic[i])); \\n    }\\n    ctrlGroups.push([{\\n      type : \\\"label\\\",\\n      value : \\\"\\\"\\n    },{\\n      type : \\\"button\\\",\\n      value : \\\"提交\\\",\\n      btnclass : \\\"btn btn-primary\\\",\\n      class : \\\"col-md-1\\\",\\n      on : {\\n        click : function(elem){ \\n   \\n          var params = target.getPopupData();\\n          params.taskStatus = 200;\\n          params.values = {\\n            dealType:2,  \\n            tallyReason: target.getValue(\\\"tallyReason\\\"),\\n            tallyCourseReason: target.getValue(\\\"tallyCourseReason\\\")\\n          }\\n          delete(params.variables)\\n\\n          event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params , function (tc) {\\n            if (tc.code == 0) {\\n              event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n              target.trigger(\\\"search_toDolist\\\");\\n              target.cancel();\\n            } else {\\n              event.target.growl(tc.message, \\\"info\\\");\\n            }\\n          })\\n        }\\n      }\\n    },{\\n      type : \\\"button\\\",\\n      value : \\\"取消\\\",\\n      btnclass : \\\"btn btn-primary\\\",\\n      class : \\\"col-md-1\\\",\\n      on : {\\n        click : function(elem){\\n          target.cancel();\\n        }\\n      }\\n    }])\\n    target.render(ctrlGroups);\\n  }\\n}\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2128\"},{\"label\":\"暂不处理弹出框\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var options = [{\\n        id: 0,\\n        label: \\\"没有停机时间\\\"\\n      }, {\\n        id: 1,\\n        label: \\\"缺少备件\\\"\\n      }, {\\n        id: 2,\\n        label: \\\"技术不具备\\\"\\n      }, {\\n        id: 3,\\n        label: \\\"其他\\\"\\n      }]\\n      var val = [options[0]];\\n      var render = function () {\\n        var selectInfo = val.map(function (elem) {\\n          return elem.label;\\n        });\\n        if (selectInfo.length > 0) {\\n            target.setValue(\\\"tallyCheckboxlist\\\", selectInfo.toString() );  \\n          //   selectInfo = \\\"[\\\" + selectInfo.toString() + \\\"],被选中了\\\";\\n        } else {\\n          //   selectInfo = \\\"没有选项被选中\\\";\\n        }\\n        var ctrlGroups = [\\n          [{\\n            type: \\\"label\\\",\\n            value: \\\"处理原因\\\",\\n            class: \\\"col-md-2\\\"\\n          }, {\\n            type: \\\"checkboxlist\\\",\\n            icon: \\\"glyphicon glyphicon-search\\\",\\n            column: 4,\\n            value: val.map(function (elem) {\\n              return elem.id;\\n            }),\\n            on: {\\n              change: function (elem) {\\n                  //---------------\\n                  val = elem.value;\\n                  //---------------\\n                target.setValue(\\\"tallyCheckboxlist\\\", elem.value);  \\n                render();\\n              }\\n            },\\n            colSpan : 2,\\n            class: \\\"col-md-10\\\",\\n            options: options\\n          }],\\n          [{\\n            type: \\\"label\\\",\\n            value: \\\"处理说明\\\",\\n            class: \\\"col-md-2\\\"\\n          }, {\\n            label: \\\"处理说明\\\",\\n            type: \\\"textarea\\\",\\n            class: \\\"col-md-10\\\",\\n            colSpan : 2,\\n            on: {\\n              change: function (elem) {\\n                target.setValue(\\\"tallyDealExplain\\\", elem.value);\\n                render();\\n              }\\n            },\\n          }],\\n          [{\\n            type: \\\"label\\\",\\n            value: \\\"\\\"\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"提交\\\",\\n            icon: \\\"glyphicon glyphicon-ok\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            class: \\\"col-md-1\\\",\\n            on: {\\n              click: function (elem) { debugger\\n                var params = target.getPopupData();\\n                params.taskStatus = 200;\\n                params.values = {\\n                  dealType: 1,\\n                  tallyCheckboxlist: target.getValue(\\\"tallyCheckboxlist\\\"),\\n                  tallyDealExplain: target.getValue(\\\"tallyDealExplain\\\")\\n                }\\n                delete(params.variables)\\n                event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params, function (tc) {\\n                  if (tc.code == 0) {\\n                    event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n                    target.trigger(\\\"search_toDolist\\\");\\n                    target.cancel();\\n                  } else {\\n                    event.target.growl(tc.message, \\\"info\\\");\\n                  }\\n                })\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"取消\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            class: \\\"col-md-1\\\",\\n            on: {\\n              click: function (elem) {\\n                target.cancel();\\n              }\\n            }\\n          }]\\n        ];\\n\\n        target.render(ctrlGroups);\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:1363\"},{\"label\":\"发起委托\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      // 获取字典表的内容 项目类别|项目分类|施工类别\\n      var baowuProjectCategory = target.getRootScope(\\\"myDicts\\\")[\\\"baowuProjectCategory\\\"];\\n      var baowuProjectType = target.getRootScope(\\\"myDicts\\\")[\\\"baowuProjectType\\\"];\\n      var constructionType = target.getRootScope(\\\"myDicts\\\")[\\\"constructionType\\\"];\\n      // 定义工程项目名称，标准项目编号，质量层级，高危等级,定年修主控/重点\\n      var standardProjectName, standardProjectNo = {}, highDangerPrograms, qualityScores,\\n      highDangerProgramsName,highDangerLevel,isSkValue;\\n      target.postService(\\\"deviceResumeUIService\\\", \\\"getMaintainStandardList\\\", [], function (tc) {\\n          \\n        if (tc.code == 0) {\\n          var standardProject = tc.data;\\n          var createTrust = {\\n            psiotDeviceId: target.getPopupData().deviceId||\\\"\\\",\\n            ticketNo:target.getPopupData().ticketNo\\n          };\\n          var render = function () {\\n            var ctrlGroups = [\\n              [{\\n                type: \\\"label\\\",\\n                value: \\\"标准项目编号\\\"\\n              }, {\\n                type: \\\"select\\\",\\n                options: standardProject,\\n                value: standardProjectNo.id,\\n                on: {\\n                  change: function (elem) {  \\n                    standardProjectNo = elem.value;\\n                   \\n                    // 定年修主控/重点\\n                    if(elem.value.isSk == 0){\\n                       isSkValue = \\\"否\\\"\\n                    }else{\\n                       isSkValue = \\\"是\\\" \\n                    }\\n                    // 工程项目名称\\n                    standardProjectName = elem.value.standardName;\\n                    // 取出质量层级\\n                    qualityScores = elem.value.qualityLevel;\\n                    // 取出高危等级\\n                    if(elem.value.highDangerLevel == \\\"0\\\"){\\n                        highDangerLevel = \\\"无\\\"\\n                    }else{\\n                        highDangerLevel = elem.value.highDangerLevel+\\\"级\\\";\\n                    };\\n                    for (var i in elem.value.fileList) { \\n                        if(elem.value.fileList[i].type== \\\"3\\\"){\\n                             highDangerProgramsName = elem.value.fileList[i].fileName;\\n                        }\\n                    }\\n                    createTrust.qualityLevel = qualityScores;\\n                    createTrust.standardProjectId = elem.value.standardProjectNo;\\n                    createTrust.highDangerLevel = highDangerLevel;\\n                    createTrust.isSk = isSkValue;\\n                    createTrust.highDangerFileName = highDangerProgramsName;\\n                    render();\\n                  }\\n                },\\n                format: {\\n                  \\\"id\\\": \\\"id\\\",\\n                  \\\"label\\\": \\\"standardProjectNo\\\"\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"项目分类\\\"\\n              }, {\\n                type: \\\"select\\\",\\n                options: baowuProjectType,\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.projectType = elem.value.label;\\n                  }\\n                },\\n                format: {\\n                  \\\"id\\\": \\\"id\\\",\\n                  \\\"label\\\": \\\"label\\\",\\n                  \\\"valueCode\\\":\\\"valueCode\\\"\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"数量\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.trustNum = elem.value;\\n                  }\\n                }\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"需求日期\\\"\\n              }, {\\n                type: \\\"datePicker\\\",\\n                on: {\\n                  change: function (elem) {\\n         \\n                    var date = target.getDateHandler(elem.value);\\n                    createTrust.propseDate = date.getDateString(\\\"yy-MM-ddThh:mm:ss.000Z\\\");\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"委托日期\\\"\\n              }, {\\n                type: \\\"datePicker\\\",\\n                on: {\\n                  change: function (elem) {\\n                    var date = target.getDateHandler(elem.value);\\n                    createTrust.trustDate = date.getDateString(\\\"yy-MM-ddThh:mm:ss.000Z\\\");\\n\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"委托人岗号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.propseUserJobId = elem.value;\\n                  }\\n                }\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"请修原因\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.propseReason = elem.value;\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"定年修主控/重点\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: isSkValue,\\n                disabled: true,\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"委托单号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.trustId = elem.value;\\n                  }\\n                }\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"工程项目名称\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: standardProjectName,\\n                disabled: true,\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"施工类别\\\"\\n              }, {\\n                type: \\\"select\\\",\\n                options: constructionType,\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.constructionType = elem.value.label;\\n                  }\\n                },\\n                format: {\\n                  \\\"id\\\": \\\"id\\\",\\n                  \\\"label\\\": \\\"label\\\",\\n                  \\\"valueCode\\\": \\\"valueCode\\\"\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"项目类别\\\"\\n              }, {\\n                type: \\\"select\\\",\\n                options: baowuProjectCategory,\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.projectCategory = elem.value.label;\\n                  }\\n                },\\n                format: {\\n                  \\\"id\\\": \\\"id\\\",\\n                  \\\"label\\\": \\\"label\\\",\\n                  \\\"valueCode\\\": \\\"valueCode\\\"\\n                }\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"质量层级\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: qualityScores,\\n                disabled: true,\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"高危等级\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                value: highDangerLevel,\\n                disabled: true\\n              }, {\\n                colSpan: 2,\\n                type: \\\"input\\\",\\n                value: highDangerProgramsName,\\n                style: {\\n                  width: \\\"400px\\\"\\n                },\\n                disabled: true\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"工作内容\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.workContent = elem.value;\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"总人数\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.totalPerpsonNum = elem.value;\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"总工时\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.totalUseTime = elem.value;\\n                  }\\n                }\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"计划编号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.planId = elem.value;\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"序号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.no = elem.value;\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"异常联络单编码\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.abnNo = elem.value;\\n                  }\\n                }\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"故障台编号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.combFailureLedgerId = elem.value;\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"计划完工日期\\\"\\n              }, {\\n                type: \\\"datePicker\\\",\\n                on: {\\n                  change: function (elem) {\\n                    var date = target.getDateHandler(elem.value);\\n                    createTrust.bstiRepairEndDate = date.getDateString(\\\"yy-MM-ddThh:mm:ss.000Z\\\");\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"建议班组名称\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.suggesTeamCode = elem.value;\\n                  }\\n                }\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"负责人\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.suggesTeamName = elem.value;\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"备件代码\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.sparePartsCode = elem.value;\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"备件名称\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.sparePartsName = elem.value;\\n                  }\\n                }\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"预计施工日期\\\"\\n              }, {\\n                type: \\\"datePicker\\\",\\n                on: {\\n                  change: function (elem) {\\n                    var date = target.getDateHandler(elem.value);\\n                    createTrust.estiRepairBeginDate = date.getDateString(\\\"yy-MM-ddThh:mm:ss.000Z\\\");\\n                  }\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"备件型号\\\"\\n              }, {\\n                type: \\\"input\\\",\\n                on: {\\n                  change: function (elem) {\\n                    createTrust.sparePartType = elem.value;\\n                  }\\n                }\\n              }], [{\\n                type: \\\"label\\\",\\n                value: \\\"\\\"\\n              }, {\\n                type: \\\"button\\\",\\n                value: \\\"提交\\\",\\n                btnclass: \\\"btn btn-primary\\\",\\n                on: {\\n                  click: function (elem) {\\n                     \\n                    var promise = new Promise(function (resolve, reject) {\\n                      // 发起委托请求接口\\n                      target.postService(\\\"deviceResumeUIService\\\", \\\"addDeviceCheckTrust\\\", createTrust, function (tc) {\\n                         if (tc.code == 0) {\\n                            resolve(createTrust);\\n                        } else {\\n                          event.target.growl(tc.message, \\\"info\\\");\\n                        }\\n                      });\\n                    \\n                    });\\n                    promise.then(function (e) {\\n                      var params = target.getPopupData();\\n                      params.taskStatus = 200;\\n                      params.values = {\\n                        dealType: 3,\\n                        standardProjectId : createTrust.standardProjectId,\\n                      };\\n                      delete(params.variables)\\n                      event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params, function (tc) {\\n                        if (tc.code == 0) {\\n                          event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n                          target.trigger(\\\"search_toDolist\\\");\\n                          target.cancel();\\n                        } else {\\n                          event.target.growl(tc.message, \\\"info\\\");\\n                        }\\n                      })\\n                    });\\n                  }\\n                }\\n              }, {\\n                type: \\\"button\\\",\\n                value: \\\"取消\\\",\\n                btnclass: \\\"btn btn-primary\\\",\\n                class: \\\"col-md-5\\\",\\n                on: {\\n                  click: function (elem) {\\n                    target.cancel();\\n                  }\\n                }\\n              }]\\n            ];\\n            event.target.render(ctrlGroups);\\n          }\\n\\n          render()\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:2013\"},{\"label\":\"过程跟踪\",\"path\":\"progress\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n       target.cancel();\\n        // target.navigateTo(\\\"index\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{},\"advance\":{\"expression\":\"expression = {\\n      width: \\\"100%\\\",\\n      on: {\\n        init: function(event) {\\n          var target = event.target;\\n          var global = event.global;\\n          var ticketNo = target.getPopupData();\\n          var ctrlGroups = [{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>报警产生</a>\\\"\\n              }, {\\n                value: \\\"报警类型：振动报警\\\"\\n              }, {\\n                value: \\\"报警级别：警告\\\"\\n              }, {\\n                value: \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n              }]\\n            },{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user bg-aqua bg-orange\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\n              }]\\n            },{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\n              }]\\n            }\\n          ];\\n          var dateToString = function(now) {\\n            var year = now.getFullYear();\\n            var month = (now.getMonth() + 1).toString();\\n            var day = (now.getDate()).toString();\\n            var hour = (now.getHours()).toString();\\n            var minute = (now.getMinutes()).toString();\\n            var second = (now.getSeconds()).toString();\\n            if(month.length == 1) {\\n              month = \\\"0\\\" + month;\\n            }\\n            if(day.length == 1) {\\n              day = \\\"0\\\" + day;\\n            }\\n            if(hour.length == 1) {\\n              hour = \\\"0\\\" + hour;\\n            }\\n            if(minute.length == 1) {\\n              minute = \\\"0\\\" + minute;\\n            }\\n            if(second.length == 1) {\\n              second = \\\"0\\\" + second;\\n            }\\n            var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day + \\\" \\\" + hour + \\\":\\\" + minute + \\\":\\\" + second;\\n            return dateTime;\\n          };\\n          if(ticketNo) {\\n              event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\", [ticketNo], function(dt) {\\n                  if(dt.code == 0) {\\n                      var ticketHistoryList = dt.data;\\n                      var arr = [];\\n                      for(var i in ticketHistoryList) {\\n                      var cantentList = [];\\n                      var historyList = {\\n                        time: \\\"\\\",\\n                        icon: \\\"\\\",\\n                        disList: \\\"\\\"\\n                      };\\n                      if(ticketHistoryList[i].logType == \\\"startEvent\\\") {\\n                        historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": ticketHistoryList[i].message\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"endEvent\\\") {\\n                        historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": ticketHistoryList[i].message\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"cancelEvent\\\") {\\n                        historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"已撤销\\\"\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"userTask\\\") {\\n                        if(ticketHistoryList[i].ticketTask.taskStatus == 200) {\\n                          historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                        } else {\\n                          historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                        }\\n                        var taskRemark = \\\"\\\";\\n                        if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined) {\\n                          taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                        }\\n                        var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"<a>\\\" + ticketHistoryList[i].message + \\\"</a>\\\"\\n                        });\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理人:\\\" + handlerName + \\\"\\\"\\n                        });\\n                        var foramTime = \\\"\\\";\\n                        if(ticketHistoryList[i].ticketTask.finishedTime) {\\n                          foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                        }\\n                        console.log(\\\"处理时间==\\\" + ticketHistoryList[i].ticketTask.finishedTime);\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理时间:\\\" + foramTime + \\\"\\\"\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"serviceTask\\\") {\\n                        historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理人:系统\\\"\\n                        });\\n                      }\\n                      historyList.disList = cantentList;\\n                      arr.push(historyList);\\n                    }\\n                      event.target.render(arr);\\n                  } else {\\n                    console.log(\\\"接口异常\\\");\\n                  }\\n              });\\n          } else {\\n              event.target.render(ctrlGroups);\\n          }\\n        }\\n      }\\n    }\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:1295\"},{\"label\":\"检修验收弹出框\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"检修实绩\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      \\n      var repair = target.getPopupData().variables;\\n      console.log(repair)\\n      var repairAccessory=\\\"\\\";\\n      for(var i in repair.repairAccessory){\\n         repairAccessory += '<a target=\\\"_blank\\\" href=\\\"'+repair.repairAccessory[i].path+'\\\">'+repair.repairAccessory[i].name+'</a><br />'\\n      }\\n      repairQuality = \\\"\\\";\\n      for(var i in repair.repairQuality){\\n         repairQuality += '<a target=\\\"_blank\\\" href=\\\"'+repair.repairQuality[i].path+'\\\">'+repair.repairQuality[i].name+'</a><br />'\\n      }\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"处理方式\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:repair.repairProcessModel,\\n          disabled:true,\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"日期选择器\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value: new Date(repair.repairFinishDate).Format(\\\"yyyy-MM-dd hh:mm:ss\\\"),\\n          disabled:true\\n        }], [{\\n          type : \\\"label\\\",\\n          value : \\\"完工数量\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:repair.repairFinishCount,\\n          disabled:true\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"工作内容补充\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:repair.repairContent,\\n          disabled:true\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"施工类别\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:repair.repairWorkType,\\n          disabled:true\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"工时数\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:repair.repairWorkPeriod,\\n          disabled:true\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"质量控制要点\\\"\\n        },{\\n          type : \\\"customHtml\\\",\\n          value: repairQuality,\\n\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"附件\\\"\\n        },{\\n          type : \\\"customHtml\\\",\\n          value : repairAccessory\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"检修验收\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){ \\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        major : {\\n          label : \\\"验收说明\\\",\\n          type : \\\"textarea\\\",\\n          on: {\\n              change: function (elem) {\\n                target.setValue(\\\"tallyCheck\\\",elem.value);\\n              }\\n          }\\n        },\\n        conclusion : {\\n          label : \\\"备注\\\",\\n          type : \\\"textarea\\\",\\n          on: {\\n              change: function (elem) {\\n                target.setValue(\\\"tallyRemark\\\", elem.value);\\n              }\\n          }\\n        },\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        obj.on = item.on;\\n      return [labelObj, obj]; \\n\\n    }\\n    for(var i in Dic){\\n      ctrlGroups.push(loop(Dic[i])); \\n    }\\n    ctrlGroups.push([{\\n      type : \\\"label\\\",\\n      value : \\\"\\\"\\n    },{\\n      type : \\\"button\\\",\\n      value : \\\"提交\\\",\\n      btnclass : \\\"btn btn-primary\\\",\\n      class : \\\"col-md-1\\\",\\n      on : {\\n        click : function(elem){ debugger\\n          var params = target.getPopupData();\\n          params.taskStatus = 200;\\n          params.values = {\\n            tallyCheck: target.getValue(\\\"tallyCheck\\\"),\\n            tallyRemark: target.getValue(\\\"tallyRemark\\\")\\n          }\\n          delete(params.variables)\\n          event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params , function (tc) {\\n            if (tc.code == 0) {\\n              event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n              target.trigger(\\\"search_toDolist\\\");\\n              target.cancel();\\n            } else {\\n              event.target.growl(tc.message, \\\"info\\\");\\n            }\\n          })\\n        }\\n      }\\n    },{\\n      type : \\\"button\\\",\\n      value : \\\"取消\\\",\\n      btnclass : \\\"btn btn-primary\\\",\\n      class : \\\"col-md-1\\\",\\n      on : {\\n        click : function(elem){\\n          target.cancel();\\n        }\\n      }\\n    }])\\n    target.render(ctrlGroups);\\n  }\\n}\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:1419\"},{\"label\":\"诊断评价弹出框\",\"path\":\"page6\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var options = [{\\n        id: 0,\\n        label: \\\"正确\\\"\\n      }, {\\n        id: 1,\\n        label: \\\"基本正确\\\"\\n      }, {\\n        id: 2,\\n        label: \\\"不正确\\\"\\n      }]\\n      var val = [options[0]];\\n      \\n      var render = function () {\\n        var selectInfo = val.map(function (elem) {\\n          return elem.id;\\n        });\\n        if (selectInfo.length > 0) {\\n            target.setValue(\\\"tallyCheckboxlist\\\", selectInfo[0]);  \\n        } else {\\n          //   selectInfo = \\\"没有选项被选中\\\";\\n        }\\n        var ctrlGroups = [\\n          [{\\n            type: \\\"label\\\",\\n            value: \\\"评价等级\\\",\\n            class: \\\"col-md-2\\\"\\n          }, {\\n            type: \\\"checkboxlist\\\",\\n            multiselect :  false,\\n            icon: \\\"glyphicon glyphicon-search\\\",\\n            column: 3,\\n            value: val.map(function (elem) {\\n              return elem.id;\\n            }),\\n            on: {\\n              change: function (elem) {  \\n                val =  elem.value\\n                render();\\n              }\\n            },\\n            colSpan : 2,\\n            class: \\\"col-md-10\\\",\\n            options: options\\n          }],\\n          [{\\n            type: \\\"label\\\",\\n            value: \\\"评价说明\\\",\\n            class: \\\"col-md-2\\\"\\n          }, {\\n            type: \\\"textarea\\\",\\n            colSpan : 2,\\n            class: \\\"col-md-10\\\",\\n            on: {\\n              change: function (elem) {\\n                target.setValue(\\\"tallyDealExplain\\\", elem.value);\\n              }\\n            },\\n          }],\\n          [{\\n            type: \\\"label\\\",\\n            value: \\\"\\\"\\n          },{\\n            type: \\\"button\\\",\\n            value: \\\"提交\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            class: \\\"col-md-6\\\",\\n            on: {\\n              click: function (elem) { \\n                var params = target.getPopupData();\\n                params.taskStatus = 200;\\n                params.values = {\\n                  tallyEvaluatUserName : target.getCurrentUser().userName,    \\n                  tallyEvaluateCheckboxlist: target.getValue(\\\"tallyCheckboxlist\\\"),\\n                  tallyEvaluateDealExplain: target.getValue(\\\"tallyDealExplain\\\")\\n                }\\n\\n                delete(params.variables)\\n                event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params, function (tc) {\\n                  if (tc.code == 0) {\\n                    event.target.growl(\\\"处理成功\\\", \\\"success\\\");\\n                    target.trigger(\\\"search_toDolist\\\");\\n                    target.cancel();\\n                  } else {\\n                    event.target.growl(tc.message, \\\"info\\\");\\n                  }\\n                })\\n              }\\n            }\\n          }, {\\n            type: \\\"button\\\",\\n            value: \\\"取消\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            class: \\\"col-md-6\\\",\\n            on: {\\n              click: function (elem) {\\n                target.cancel();\\n              }\\n            }\\n          }]\\n        ];\\n\\n        target.render(ctrlGroups);\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:2081\"},{\"label\":\"过程跟踪\",\"path\":\"page7\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n    //   target.trigger(\\\"lv1moveTo\\\", \\\"index\\\");\\n        target.navigateTo(\\\"index\\\", {\\n          main : 0,\\n        }, \\\"self\\\");\\n       \\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n      width: \\\"100%\\\",\\n      on: {\\n        init: function(event) { debugger\\n          var target = event.target;\\n          var global = event.global;\\n          var ticketNo = event.target.getParameter(\\\"ticketNo\\\");\\n          var ctrlGroups = [{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>报警产生</a>\\\"\\n              }, {\\n                value: \\\"报警类型：振动报警\\\"\\n              }, {\\n                value: \\\"报警级别：警告\\\"\\n              }, {\\n                value: \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n              }]\\n            },{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user bg-aqua bg-orange\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\n              }]\\n            },{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\n              }]\\n            }\\n          ];\\n          var dateToString = function(now) {\\n            var year = now.getFullYear();\\n            var month = (now.getMonth() + 1).toString();\\n            var day = (now.getDate()).toString();\\n            var hour = (now.getHours()).toString();\\n            var minute = (now.getMinutes()).toString();\\n            var second = (now.getSeconds()).toString();\\n            if(month.length == 1) {\\n              month = \\\"0\\\" + month;\\n            }\\n            if(day.length == 1) {\\n              day = \\\"0\\\" + day;\\n            }\\n            if(hour.length == 1) {\\n              hour = \\\"0\\\" + hour;\\n            }\\n            if(minute.length == 1) {\\n              minute = \\\"0\\\" + minute;\\n            }\\n            if(second.length == 1) {\\n              second = \\\"0\\\" + second;\\n            }\\n            var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day + \\\" \\\" + hour + \\\":\\\" + minute + \\\":\\\" + second;\\n            return dateTime;\\n          };\\n          if(ticketNo) {\\n              event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\", [ticketNo], function(dt) {\\n                  if(dt.code == 0) {\\n                      var ticketHistoryList = dt.data;\\n                      var arr = [];\\n                      for(var i in ticketHistoryList) {\\n                      var cantentList = [];\\n                      var historyList = {\\n                        time: \\\"\\\",\\n                        icon: \\\"\\\",\\n                        disList: \\\"\\\"\\n                      };\\n                      if(ticketHistoryList[i].logType == \\\"startEvent\\\") {\\n                        historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": ticketHistoryList[i].message\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"endEvent\\\") {\\n                        historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": ticketHistoryList[i].message\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"cancelEvent\\\") {\\n                        historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"已撤销\\\"\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"userTask\\\") {\\n                        if(ticketHistoryList[i].ticketTask.taskStatus == 200) {\\n                          historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                        } else {\\n                          historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                        }\\n                        var taskRemark = \\\"\\\";\\n                        if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined) {\\n                          taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                        }\\n                        var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"<a>\\\" + ticketHistoryList[i].message + \\\"</a>\\\"\\n                        });\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理人:\\\" + handlerName + \\\"\\\"\\n                        });\\n                        var foramTime = \\\"\\\";\\n                        if(ticketHistoryList[i].ticketTask.finishedTime) {\\n                          foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                        }\\n                        console.log(\\\"处理时间==\\\" + ticketHistoryList[i].ticketTask.finishedTime);\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理时间:\\\" + foramTime + \\\"\\\"\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"serviceTask\\\") {\\n                        historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理人:系统\\\"\\n                        });\\n                      }\\n                      historyList.disList = cantentList;\\n                      arr.push(historyList);\\n                    }\\n                      event.target.render(arr);\\n                  } else {\\n                    console.log(\\\"接口异常\\\");\\n                  }\\n              });\\n          } else {\\n              event.target.render(ctrlGroups);\\n          }\\n        }\\n      }\\n    }\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"7\",\"$$hashKey\":\"object:2688\"},{\"label\":\"评价验收弹出框\",\"path\":\"page8\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"检修实绩\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      \\n      var repair = target.getPopupData().variables;\\n      console.log(repair)\\n      var repairAccessory=\\\"\\\";\\n      for(var i in repair.repairAccessory){\\n         repairAccessory += '<a target=\\\"_blank\\\" href=\\\"'+repair.repairAccessory[i].path+'\\\">'+repair.repairAccessory[i].name+'</a><br />'\\n      }\\n      repairQuality = \\\"\\\";\\n      for(var i in repair.repairQuality){\\n         repairQuality += '<a target=\\\"_blank\\\" href=\\\"'+repair.repairQuality[i].path+'\\\">'+repair.repairQuality[i].name+'</a><br />'\\n      }\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"处理方式\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:repair.repairProcessModel,\\n          disabled:true,\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"日期选择器\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:new Date(repair.repairFinishDate).Format(\\\"yyyy-MM-dd hh:mm:ss\\\"),\\n          disabled:true\\n        }], [{\\n          type : \\\"label\\\",\\n          value : \\\"完工数量\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:repair.repairFinishCount,\\n          disabled:true\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"工作内容补充\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:repair.repairContent,\\n          disabled:true\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"施工类别\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:repair.repairWorkType,\\n          disabled:true\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"工时数\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value:repair.repairWorkPeriod,\\n          disabled:true\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"质量控制要点\\\"\\n        },{\\n          type : \\\"customHtml\\\",\\n          value: repairQuality,\\n\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"附件\\\"\\n        },{\\n          type : \\\"customHtml\\\",\\n          value : repairAccessory\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"检修验收\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){ \\n      var target = event.target;\\n      var global = event.global;\\n\\n      var evaluate = target.getPopupData().variables;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"验收说明\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value: evaluate.tallyCheck,\\n     \\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"备注\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value: evaluate.tallyRemark,\\n        }]\\n     ]\\n    target.render(ctrlGroups);\\n  }\\n }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"8\",\"$$hashKey\":\"object:2490\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"none\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢诊断分析一级框架_诊断管理员",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      // 5 \\\"点检管理工作台\\\"\\n      var ROLE = 1;\\n      if(ROLE == 0){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/alert/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/alert/area\\\"\\n          }];\\n      } else if(ROLE == 1){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 2,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 3,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 4,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 2){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/corporation/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          }];\\n      }  else if(ROLE == 3){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"审核\\\",\\n            default : \\\"baogang/critisize\\\"\\n          },{\\n            id : 2,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 3,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 4,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 5,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 4){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"关键指标跟踪\\\",\\n            default : \\\"baogang/decider/kpitracker\\\"\\n          },{\\n            id : 2,\\n            label : \\\"关键指标对比\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          }];\\n      }else if(ROLE == 5){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/checker/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准维护\\\",\\n            default : \\\"baogang/checker/biaozhunweihu\\\"\\n          },{\\n            id : 2,\\n            label : \\\"点检计划\\\",\\n            default : \\\"baogang/checker/dianjianjihua\\\"\\n          },{\\n            id : 3,\\n            label : \\\"故障管理\\\",\\n            default : \\\"baogang/checker/guzhangguanli\\\"\\n          },{\\n            id : 4,\\n            label : \\\"检修委托\\\",\\n            default : \\\"baogang/checker/jianxiuweituo\\\"\\n          },{\\n            id : 5,\\n            label : \\\"备修委托\\\",\\n            default : \\\"baogang/checker/beixiuweituo\\\"\\n          },{\\n            id : 6,\\n            label : \\\"统计分析\\\",\\n            default : \\\"baogang/checker/tongjifenxi\\\"\\n          }];\\n      }else if(ROLE == 6){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/recondition/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准维护\\\",\\n            default : \\\"baogang/recondition/biaozhunweihu\\\"\\n          },{\\n            id : 2,\\n            label : \\\"维修方案\\\",\\n            default : \\\"baogang/recondition/weixiufangan\\\"\\n          },{\\n            id : 3,\\n            label : \\\"统计分析\\\",\\n            default : \\\"baogang/recondition/tongjifenxi\\\"\\n          }];\\n      };\\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n          CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\";\\n      // ------------------- 初始化内容在这里设置\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var param = target.getParameter(\\\"main\\\");\\n      var main, path;\\n      if(param instanceof Array){\\n          main = param[0];\\n          path = param[1];\\n      } else {\\n          main = param\\n      }\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        console.log(obj);\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item, path){\\n        var viewId = item.viewId;\\n        target.trigger(CHANGENAVEEVENT, {\\n            item : item,\\n            path : path\\n        });\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n              var viewTitle = item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n              target.getAllMyViews(function(views){\\n                 var find = views.find(function(view){\\n                     viewTitle == view.viewTitle;\\n                 });\\n                 if(find){\\n                     item.viewId = find.viewId;\\n                     callback(find);\\n                 } else {\\n                    target.addView({\\n                      viewTitle : item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                      viewType : \\\"dashboard\\\",\\n                      content : json ? json : null,\\n                    }, function(data){\\n                      item.viewId = data.data.viewId;\\n                      callback(data);\\n                    }) \\n                 }\\n              });\\n            \\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                //console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : elem.id\\n                    }, \\\"self\\\");\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == main;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1;\\n            };\\n            select(concat[target.tabInx], path);\\n            //selece(contact[])\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -2,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-transfer\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"viewpare\\\", {\\n                      title : \\\"配置区域，产线，设备对应的组太视图\\\",\\n                      theme : \\\"system\\\",\\n                      width : 700,\\n                      on : {\\n                        submit : function(data){\\n                          \\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n                class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.off(\\\"tree_resourceChange\\\");\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          /**\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            \\n            target.render(json);\\n          });*/\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(data){\\n            var view = data.item;\\n            var path = data.path;\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}],\"url\":\"images/map/map1.png\"}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\",\"alertObj\":{\"542059861046087\":{\"eventId\":544241138966070,\"alertId\":542059861046087,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [1] 异常\",\"arisingTime\":\"2017-11-13T05:09:27.126+0000\",\"receiveTime\":\"2017-11-13T05:09:27.126+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-13T05:09:27.126+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-13T13:05:57.024+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-14T10:52:37.800+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"537783494437643\":{\"eventId\":539009142136470,\"alertId\":537783494437643,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [2] 异常\",\"arisingTime\":\"2017-11-11T07:16:16.725+0000\",\"receiveTime\":\"2017-11-11T07:16:16.725+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-11T07:15:16.731+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-11T15:12:46.633+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-13T02:03:00.641+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536687391997414\":{\"eventId\":538746819166095,\"alertId\":536687391997414,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"6\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:5.0 [2] 异常\",\"arisingTime\":\"2017-11-10T07:47:16.841+0000\",\"receiveTime\":\"2017-11-10T07:47:16.841+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T07:46:16.845+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T15:43:46.743+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T07:47:47.994+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536859189296064\":{\"eventId\":538540371966064,\"alertId\":536859189296064,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"4\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:6.0 [13] 异常\",\"arisingTime\":\"2017-11-10T01:41:57.515+0000\",\"receiveTime\":\"2017-11-10T01:41:57.515+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":7,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:35:58.068+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:38:27.436+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T04:42:00.762+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"540911188148124\":{\"eventId\":538517251976594,\"alertId\":540911188148124,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"2\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:9.0 [6] 异常\",\"arisingTime\":\"2017-11-10T01:07:03.606+0000\",\"receiveTime\":\"2017-11-10T01:07:03.606+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":6,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:02:03.603+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:03:33.483+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T06:26:53.346+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}}},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"导航页\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"导航页\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"},{\"label\":\"诊断申请弹出框\",\"path\":\"popup1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"设备信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        abnormal : {\\n          label : \\\"报警信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        major : {\\n          label : \\\"会诊专业\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        position : {\\n          label : \\\"会诊人员\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        notice : {\\n          label : \\\"完成时限\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"10 h\\\"\\n          }]\\n        }\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        return [labelObj, obj, {\\n          type : \\\"button\\\",\\n          value : \\\"\\\",\\n          icon : \\\"glyphicon glyphicon-plus\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-1\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }];\\n      }\\n      for(var i in Dic){\\n        ctrlGroups.push(loop(Dic[i]))\\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        icon : \\\"glyphicon glyphicon-ok\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.console(elem);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n              target.cancel();\\n          }\\n        }\\n      }])\\n      console.log()\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:795\"},{\"label\":\"临时设备视频诊断申请\",\"path\":\"popup4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"设备名称\\\",\\n          type : \\\"input\\\"\\n        },\\n        abnormal : {\\n          label : \\\"设备类别\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        position : {\\n          label : \\\"制造商\\\",\\n          type : \\\"input\\\",\\n         \\n        },\\n        notice : {\\n          label : \\\"规格型号\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"10 h\\\"\\n          }]\\n        },\\n        major : {\\n          label : \\\"额定转速\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        conclusion : {\\n          label : \\\"设备模板\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n         measurenum : {\\n          label : \\\"测点数量\\\",\\n          type : \\\"input\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n         measureninfo : {\\n          label : \\\"报警信息\\\",\\n          type : \\\"input\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n          persion: {\\n          label : \\\"会诊人员\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n          time: {\\n          label : \\\"会诊时间\\\",\\n          type : \\\"datePicker\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n         time: {\\n          label : \\\"备注\\\",\\n          type : \\\"textarea\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        }\\n      \\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n          \\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        console.log(item)\\n        if(item.type == \\\"position\\\"){\\n         return [labelObj, obj, {\\n          type : \\\"button\\\",\\n          value : \\\"\\\",\\n          icon : \\\"glyphicon glyphicon-plus\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-1\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n          }]; \\n        }\\n         return [labelObj, obj]; \\n     \\n      }\\n      for(var i in Dic){\\n          ctrlGroups.push(loop(Dic[i])); \\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        icon : \\\"glyphicon glyphicon-ok\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.console(elem);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.cancel();\\n          }\\n        }\\n      }])\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:1148\"},{\"label\":\"在线设备视频诊断申请\",\"path\":\"popup3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"设备信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        abnormal : {\\n          label : \\\"报警信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        position : {\\n          label : \\\"会诊人员\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        notice : {\\n          label : \\\"会诊时间\\\",\\n          type : \\\"datePicker\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"10 h\\\"\\n          }]\\n        },\\n        conclusion : {\\n          label : \\\"备注\\\",\\n          type : \\\"textarea\\\",\\n         \\n        },\\n      \\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n          \\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        console.log(item)\\n        if(item.type == \\\"position\\\"){\\n         return [labelObj, obj, {\\n          type : \\\"button\\\",\\n          value : \\\"\\\",\\n          icon : \\\"glyphicon glyphicon-plus\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-1\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n          }]; \\n        }\\n         return [labelObj, obj]; \\n     \\n      }\\n      for(var i in Dic){\\n          ctrlGroups.push(loop(Dic[i])); \\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        icon : \\\"glyphicon glyphicon-ok\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.console(elem);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n             target.cancel();\\n          }\\n        }\\n      }])\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:1262\"},{\"label\":\"报告编制\",\"path\":\"page8\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"page0\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var workObj = target.getValue(\\\"taskList\\\").ticket;\\n      console.info(\\\"workObj===\\\",workObj);\\n      var dName = \\\"设备名称:\\\";\\n      var numberD = \\\"设备编号:\\\";\\n      if(workObj.variables.devName != undefined){\\n         dName = \\\"设备名称:\\\"+workObj.variables.devName+\\\"\\\";\\n      }\\n      if(workObj.variables.deviceId != undefined){\\n        numberD = \\\"设备编号:\\\"+workObj.variables.deviceId+\\\"\\\";\\n      }\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : dName,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : numberD,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n     \\n      var taskId =  target.getValue(\\\"taskList\\\").ticket.id;\\n      var taskList = target.getValue(\\\"taskList\\\");\\n      var protocol = window.location.protocol;\\n      var host = window.location.host;\\n      var lc= protocol+\\\"//\\\"+host;\\n      var myDicts = {};\\n      console.info(\\\"pathname====\\\",target.getValue(\\\"taskList\\\"));\\n      var imagesList = [];\\n      var fileList = [];\\n      \\n       var ctrlGroupsObj = {};\\n      ctrlGroupsObj[\\\"alertTitle\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\",\\n        class:\\\"col-md-2\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.alertTitle != undefined){\\n                event.global.detailTask.values.alertTitle = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"abnPhenomenon\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.abnPhenomenon != undefined){\\n                event.global.detailTask.values.abnPhenomenon = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];;\\n      ctrlGroupsObj[\\\"technicsStatus\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.technicsStatus != undefined){\\n                event.global.detailTask.values.technicsStatus = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"position\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.position != undefined){\\n                event.global.detailTask.values.position = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"attention\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.attention != undefined){\\n                event.global.detailTask.values.attention = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"standard\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.standard != undefined){\\n                event.global.detailTask.values.standard = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"basis\\\"] =  [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.basis != undefined){\\n                event.global.detailTask.values.basis = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"basisImage\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n          type : \\\"uploadFile2\\\",\\n          icon : \\\"glyphicon glyphicon-file\\\",\\n          class : \\\"col-md-6\\\",\\n          group : \\\"enterprisesImages\\\",\\n          groupId:\\\"uploadImg\\\",\\n          on : {\\n            submit : function(elem){\\n                event.target.growl(\\\"上传文件成功\\\",\\\"success\\\");\\n                \\n              var imagesObj = {\\\"label\\\":\\\"\\\",\\\"value\\\":\\\"\\\"};\\n              //这里返回上传文件的全局变量，属性里面有服务器地址\\n              console.log(\\\"上传文件成功\\\", elem);\\n              $(\\\"#uploadImg\\\").before(\\\"<img src='\\\"+lc+\\\"\\\"+elem.value+\\\"' style='width: 200px;height: 200px;' />\\\");\\n              imagesObj.label = elem.label;\\n              imagesObj.value = elem.value;\\n              if(event.global.detailTask.values && event.global.detailTask.values.basisImage != undefined){\\n                imagesList.push(imagesObj);\\n                event.global.detailTask.values.basisImage = imagesList;\\n             }\\n            }\\n          }\\n        }];\\n      ctrlGroupsObj[\\\"statusGrade\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       options :[],\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.statusGrade != undefined){\\n                event.global.detailTask.values.statusGrade = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"abnPosition\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.abnPosition != undefined){\\n                event.global.detailTask.values.abnPosition = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"failureRepairReson\\\"] =   [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.failureRepairReson != undefined){\\n                event.global.detailTask.values.failureRepairReson = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"multipleConclusion\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [],\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.multipleConclusion != undefined){\\n                event.global.detailTask.values.multipleConclusion = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"cessingScheme\\\"] =[{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       options : [],\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.cessingScheme != undefined){\\n                event.global.detailTask.values.cessingScheme = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"auditor\\\"] =[{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"选择人\\\",\\n       options : [],\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.auditor != undefined){\\n                event.global.detailTask.values.auditor = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"attUpload\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n          type : \\\"uploadFile2\\\",\\n          icon : \\\"glyphicon glyphicon-file\\\",\\n          class : \\\"col-md-6\\\",\\n          group : \\\"enterprisesImages\\\",\\n          fileFormat:\\\"|xls|xlsx|txt|docx|doc|\\\",\\n          groupId:\\\"uploadFileDis\\\",\\n          on : {\\n            submit : function(elem){\\n                event.target.growl(\\\"上传文件成功\\\",\\\"success\\\");\\n              //这里返回上传文件的全局变量，属性里面有服务器地址\\n              console.log(\\\"上传文件成功\\\", elem);\\n              var fileObj = {\\\"label\\\":\\\"\\\",\\\"value\\\":\\\"\\\"};\\n              $(\\\"#uploadFileDis\\\").before(\\\"<a href='\\\"+lc+\\\"\\\"+elem.value+\\\"'>\\\"+elem.label+\\\"</a>\\\");\\n              fileObj.label = elem.label;\\n              fileObj.value = elem.value;\\n              if(event.global.detailTask.values && event.global.detailTask.values.basisImage != undefined){\\n                fileList.push(fileObj);\\n                event.global.detailTask.values.attUpload = fileList;\\n             }\\n            }\\n          }\\n        }];\\n      var ctrlGroups = [];\\n      \\n         event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n             if(returnObj.code == 0){\\n                  var dic = {};\\n                    for(var i in returnObj.data) {\\n                      var obj = returnObj.data[i];\\n                      if(dic[obj.dictCode]) {\\n                        dic[obj.dictCode].push(obj);\\n                      } else {\\n                        dic[obj.dictCode] = [];\\n                        dic[obj.dictCode].push(obj);\\n                      }\\n                    }\\n                    for(var items in dic) {\\n                      myDicts[items] = dic[items];\\n                    }\\n                   event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n                    if(tc.code == 0){\\n                     console.info(\\\"getTicketTaskById====\\\",tc.data);\\n                     if(tc.data.attributeDefinitions.length > 0){\\n                         var attrAry = tc.data.attributeDefinitions;\\n                         for(var i in attrAry){\\n                             ctrlGroupsObj[attrAry[i].label][0].value= attrAry[i].name;\\n                             if(myDicts[attrAry[i].label]){\\n                               ctrlGroupsObj[attrAry[i].label][1].options = myDicts[attrAry[i].label];\\n                               if(tc.data.variables[attrAry[i].label]){\\n                                ctrlGroupsObj[attrAry[i].label][1].value = tc.data.variables[attrAry[i].label];\\n                               }\\n                             }\\n                             ctrlGroups.push(ctrlGroupsObj[attrAry[i].label]);\\n                             if(tc.data.values){\\n                                if(tc.data.variables[attrAry[i].label]){\\n                                 tc.data.values[attrAry[i].label] = tc.data.variables[attrAry[i].label];\\n                                }else{\\n                                 tc.data.values[attrAry[i].label] = \\\"\\\";\\n                                }\\n                             }else{\\n                                tc.data.values = {};\\n                                if(tc.data.variables[attrAry[i].label]){\\n                                 tc.data.values[attrAry[i].label] = tc.data.variables[attrAry[i].label];\\n                                }else{\\n                                 tc.data.values[attrAry[i].label] = \\\"\\\";\\n                                }\\n                             }\\n                         }\\n                     }\\n                     event.global.fire(\\\"savetask\\\",tc.data)\\n                     if(tc.data && tc.data.variables != undefined){\\n                        if(tc.data.variables.auditOpinion){\\n                          var auditObj =  [{\\n                                            type : \\\"label\\\",\\n                                            value : \\\"审核意见\\\"\\n                                          },{\\n                                            type : \\\"textarea\\\",\\n                                            disabled:true,\\n                                            value : tc.data.variables.auditOpinion\\n                                          }];\\n                        ctrlGroups.push(auditObj);\\n                        }\\n                     }\\n                     \\n                    console.info(\\\"ctrlGroups======\\\",ctrlGroups);\\n                     event.target.render(ctrlGroups);\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                  })\\n             }\\n         });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"提   交\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var checkStatus = true;\\n                console.info(\\\"提交======\\\",event.global.detailTask);\\n               if(event.global.detailTask.values && event.global.detailTask.values.alertTitle !=undefined){\\n                 if(!event.global.detailTask.values.alertTitle){\\n                     event.target.growl(\\\"请选择设备告警信息\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n                if(event.global.detailTask.values && event.global.detailTask.values.abnPhenomenon !=undefined){\\n                 if(!event.global.detailTask.values.abnPhenomenon){\\n                     event.target.growl(\\\"请选择异常现象\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.technicsStatus !=undefined){\\n                 if(!event.global.detailTask.values.technicsStatus){\\n                     event.target.growl(\\\"请选择工艺状况\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.position !=undefined){\\n                 if(!event.global.detailTask.values.position){\\n                     event.target.growl(\\\"请选择检测部位\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.attention !=undefined){\\n                 if(!event.global.detailTask.values.attention){\\n                     event.target.growl(\\\"请选择注意事项\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.standard !=undefined){\\n                 if(!event.global.detailTask.values.standard){\\n                     event.target.growl(\\\"请选择判断标准\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.basis !=undefined){\\n                 if(!event.global.detailTask.values.basis){\\n                     event.target.growl(\\\"请选择判断依据\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.statusGrade !=undefined){\\n                 if(!event.global.detailTask.values.statusGrade){\\n                     event.target.growl(\\\"请选择综合状态等级\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.failureRepairReson !=undefined){\\n                 if(!event.global.detailTask.values.failureRepairReson){\\n                     event.target.growl(\\\"请选择故障产生原因\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.multipleConclusion !=undefined){\\n                 if(!event.global.detailTask.values.multipleConclusion){\\n                     event.target.growl(\\\"请选择综合判断结论\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.cessingScheme !=undefined){\\n                 if(!event.global.detailTask.values.cessingScheme){\\n                     event.target.growl(\\\"请选择处理方案建议\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n                if(checkStatus){\\n                    event.global.detailTask.taskStatus = 200;\\n                    event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", event.global.detailTask, function(tc){\\n                        if(tc.code == 0){\\n                          event.target.growl(\\\"报诊断报告提交成功，等待审核\\\",\\\"success\\\");\\n                          target.navigateTo(\\\"page0\\\");\\n                        }else{\\n                \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                        }\\n                    })\\n                }\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"取   消\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                target.navigateTo(\\\"page0\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"7\",\"$$hashKey\":\"object:1361\"},{\"label\":\"过程历史\",\"path\":\"page9\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"page0\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n  width : \\\"100%\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = event.target.getParameter(\\\"ticketNo\\\");\\n      console.log(\\\"ticketNo===\\\"+ticketNo);\\n    var ctrlGroups = [\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[{\\nvalue : \\\"<a href='#'>报警产生</a>\\\"\\n},{\\nvalue : \\\"报警类型：振动报警\\\"\\n},{\\nvalue : \\\"报警级别：警告\\\"\\n},{\\nvalue : \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user bg-aqua bg-orange\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]}\\n];   \\nvar dateToString = function(now){  \\n    var year = now.getFullYear();  \\n    var month =(now.getMonth() + 1).toString();  \\n    var day = (now.getDate()).toString();  \\n    var hour = (now.getHours()).toString();  \\n    var minute = (now.getMinutes()).toString();  \\n    var second = (now.getSeconds()).toString();  \\n    if (month.length == 1) {  \\n        month = \\\"0\\\" + month;  \\n    }  \\n    if (day.length == 1) {  \\n        day = \\\"0\\\" + day;  \\n    }  \\n    if (hour.length == 1) {  \\n        hour = \\\"0\\\" + hour;  \\n    }  \\n    if (minute.length == 1) {  \\n        minute = \\\"0\\\" + minute;  \\n    }  \\n    if (second.length == 1) {  \\n        second = \\\"0\\\" + second;  \\n    }  \\n     var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day +\\\" \\\"+ hour +\\\":\\\"+minute+\\\":\\\"+second;  \\n     return dateTime;  \\n  }  \\n if(ticketNo){\\n\\n        event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\",[ticketNo], function(dt){\\n          if(dt.code == 0){\\n            var ticketHistoryList = dt.data;\\n            var arr = [];\\n            console.info(\\\"ticketHistoryList===\\\",ticketHistoryList);\\n            for(var i in ticketHistoryList){\\n            var cantentList = [];\\n            var historyList = {time:\\\"\\\",icon:\\\"\\\",disList:\\\"\\\"};\\n             if(ticketHistoryList[i].logType == \\\"startEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n             }\\n             if(ticketHistoryList[i].logType == \\\"endEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"cancelEvent\\\"){\\n                 historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                 cantentList.push({\\\"value\\\":\\\"已撤销\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"userTask\\\"){\\n                 if(ticketHistoryList[i].ticketTask.taskStatus == 200){\\n                     historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                 }else{\\n                      historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                 }\\n                 var taskRemark = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined){\\n                     taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                 }\\n                 var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                 cantentList.push({\\\"value\\\":\\\"<a>\\\"+ticketHistoryList[i].message+\\\"</a>\\\"});\\n                 cantentList.push({\\\"value\\\":\\\"处理人:\\\"+handlerName+\\\"\\\"});\\n                 var foramTime = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.finishedTime){\\n                   foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                 }\\n                 console.log(\\\"处理时间==\\\"+ticketHistoryList[i].ticketTask.finishedTime);\\n                cantentList.push({\\\"value\\\":\\\"处理时间:\\\"+foramTime+\\\"\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"serviceTask\\\"){\\n                 historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                 cantentList.push({\\\"value\\\":\\\"处理人:系统\\\"});\\n             }\\n             historyList.disList = cantentList;\\n             arr.push(historyList);\\n            }\\n            console.info(\\\"处理====\\\",arr);\\n            event.target.render(arr);\\n          }else{\\n            console.log(\\\"接口异常\\\");\\n          }\\n        })\\n      }else{\\n          event.target.render(ctrlGroups);\\n      }\\n\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"8\",\"$$hashKey\":\"object:1414\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢诊断分析一级框架_审核管理员",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      // 5 \\\"点检管理工作台\\\"\\n      var ROLE = 3;\\n      if(ROLE == 0){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/alert/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/alert/area\\\"\\n          }];\\n      } else if(ROLE == 1){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 2,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 3,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 4,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 2){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/corporation/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          }];\\n      }  else if(ROLE == 3){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 2,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 3,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 4,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 5,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 4){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"关键指标跟踪\\\",\\n            default : \\\"baogang/decider/kpitracker\\\"\\n          },{\\n            id : 2,\\n            label : \\\"关键指标对比\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          }];\\n      }else if(ROLE == 5){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准维护\\\",\\n            default : \\\"baogang/decider/biaozhunweihu\\\"\\n          },{\\n            id : 2,\\n            label : \\\"点检计划\\\",\\n            default : \\\"baogang/decider/dianjianjihua\\\"\\n          },{\\n            id : 3,\\n            label : \\\"故障管理\\\",\\n            default : \\\"baogang/decider/guzhangguanli\\\"\\n          },{\\n            id : 4,\\n            label : \\\"检修委托\\\",\\n            default : \\\"baogang/decider/jianxiuweituo\\\"\\n          },{\\n            id : 5,\\n            label : \\\"备修委托\\\",\\n            default : \\\"baogang/decider/beixiuweituo\\\"\\n          },{\\n            id : 6,\\n            label : \\\"统计分析\\\",\\n            default : \\\"baogang/decider/tongjifenxi\\\"\\n          }];\\n      };\\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n          CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\";\\n      // ------------------- 初始化内容在这里设置\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var main = target.getParameter(\\\"main\\\");\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        console.log(obj);\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n              var viewTitle = item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n              target.getAllMyViews(function(views){\\n                 var find = views.find(function(view){\\n                     viewTitle == view.viewTitle;\\n                 });\\n                 if(find){\\n                     item.viewId = find.viewId;\\n                     callback(find);\\n                 } else {\\n                    target.addView({\\n                      viewTitle : item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                      viewType : \\\"dashboard\\\",\\n                      content : json ? json : null,\\n                    }, function(data){\\n                      item.viewId = data.data.viewId;\\n                      callback(data);\\n                    }) \\n                 }\\n              });\\n            \\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                //console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : elem.id\\n                    }, \\\"self\\\")\\n                  //target.tabInx = tabFilter.indexOf(elem);\\n                  //render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == main;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1;\\n            };\\n            select(concat[target.tabInx]);\\n            //selece(contact[])\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n                class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"0px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            var find = json.groups.find(function(elem){\\n              return elem.path == path;\\n            });\\n            console.log(find, json)\\n            json.layout = find.layout;\\n            target.render(json);\\n          });\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(view){\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\",\"alertObj\":{\"542059861046087\":{\"eventId\":544241138966070,\"alertId\":542059861046087,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [1] 异常\",\"arisingTime\":\"2017-11-13T05:09:27.126+0000\",\"receiveTime\":\"2017-11-13T05:09:27.126+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-13T05:09:27.126+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-13T13:05:57.024+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-14T10:52:37.800+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"537783494437643\":{\"eventId\":539009142136470,\"alertId\":537783494437643,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [2] 异常\",\"arisingTime\":\"2017-11-11T07:16:16.725+0000\",\"receiveTime\":\"2017-11-11T07:16:16.725+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-11T07:15:16.731+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-11T15:12:46.633+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-13T02:03:00.641+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536687391997414\":{\"eventId\":538746819166095,\"alertId\":536687391997414,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"6\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:5.0 [2] 异常\",\"arisingTime\":\"2017-11-10T07:47:16.841+0000\",\"receiveTime\":\"2017-11-10T07:47:16.841+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T07:46:16.845+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T15:43:46.743+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T07:47:47.994+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536859189296064\":{\"eventId\":538540371966064,\"alertId\":536859189296064,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"4\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:6.0 [13] 异常\",\"arisingTime\":\"2017-11-10T01:41:57.515+0000\",\"receiveTime\":\"2017-11-10T01:41:57.515+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":7,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:35:58.068+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:38:27.436+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T04:42:00.762+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"540911188148124\":{\"eventId\":538517251976594,\"alertId\":540911188148124,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"2\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:9.0 [6] 异常\",\"arisingTime\":\"2017-11-10T01:07:03.606+0000\",\"receiveTime\":\"2017-11-10T01:07:03.606+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":6,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:02:03.603+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:03:33.483+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T06:26:53.346+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}}},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"导航页\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"导航页\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"},{\"label\":\"诊断申请弹出框\",\"path\":\"popup1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var params = target.getPopupData().detailTask;\\n       console.info(\\\"alertObj===\\\",params);\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"审核意见:\\\",\\n          type : \\\"textarea\\\",\\n           on : {\\n            change : function(elem){\\n                params.values.auditOpinion = elem.value;\\n              console.info(\\\"备注====\\\",params)\\n              \\n            }\\n          }\\n        }\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        obj.on = item.on;\\n        return [labelObj, obj];\\n      }\\n      for(var i in Dic){\\n        ctrlGroups.push(loop(Dic[i]))\\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        style:{\\\"text-align\\\":\\\"right\\\"},\\n        on : {\\n          click : function(elem){\\n              if(params.values.auditOpinion){\\n                event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params, function(tc){\\n                    if(tc.code == 0){\\n                      event.target.growl(\\\"审核意见提交成功\\\",\\\"success\\\");\\n                        target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n            \\t\\t   target.submit({\\\"statuc\\\":\\\"error\\\"});\\n                    }\\n                }) \\n              }else{\\n                 event.target.growl(\\\"请填写审核意见\\\",\\\"warning\\\");  \\n              }\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-default\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n              target.submit({\\\"statuc\\\":\\\"error\\\"});\\n          }\\n        }\\n      }])\\n      console.log()\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:795\"},{\"label\":\"报告编制\",\"path\":\"page8\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"page0\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n    //   var workObj = target.getValue(\\\"taskList\\\");\\n    //   console.info(\\\"workObj===\\\",workObj);\\n    //   var dName = \\\"设备名称:\\\";\\n    //   var numberD = \\\"设备编号:\\\";\\n    //   if(workObj.values.devName != undefined){\\n    //      dName = \\\"设备名称:\\\"+workObj.values.devName+\\\"\\\";\\n    //   }\\n    //   if(workObj.values.deviceId != undefined){\\n    //     numberD = \\\"设备编号:\\\"+workObj.values.deviceId+\\\"\\\";\\n    //   }\\n    //   var ctrlGroups = [\\n    //   [{\\n    //       type : \\\"label\\\",\\n    //       value : dName,\\n    //       class : \\\"col-md-6\\\",\\n    //       style:{\\n    //           textAlign:\\\"center\\\"\\n    //       }\\n    //     },{\\n    //       type : \\\"label\\\",\\n    //       value : numberD,\\n    //       class : \\\"col-md-6\\\",\\n    //       style:{\\n    //           textAlign:\\\"center\\\"\\n    //       }\\n    //     }]\\n    //   ];\\n    //   event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n  \\n      var taskId = event.target.getParameter(\\\"taskId\\\");\\n\\n      var protocol = window.location.protocol;\\n      var host = window.location.host;\\n      var lc= protocol+\\\"//\\\"+host;\\n      var myDicts = {};\\n      console.info(\\\"pathname====\\\",window.location.protocol);\\n       var ctrlGroupsObj = {};\\n     \\n      var ctrlGroups = [];\\n      \\n         event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n             if(returnObj.code == 0){\\n                  var dic = {};\\n                    for(var i in returnObj.data) {\\n                      var obj = returnObj.data[i];\\n                      if(dic[obj.dictCode]) {\\n                        dic[obj.dictCode].push(obj);\\n                      } else {\\n                        dic[obj.dictCode] = [];\\n                        dic[obj.dictCode].push(obj);\\n                      }\\n                    }\\n                    for(var items in dic) {\\n                      myDicts[items] = dic[items];\\n                    }\\n                   event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n                    if(tc.code == 0){\\n                         ctrlGroupsObj = tc.data.variables;\\n                    if(ctrlGroupsObj.alertTitle !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"设备告警信息\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.alertTitle\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.abnPhenomenon !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"异常现象\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.abnPhenomenon\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.technicsStatus !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"工艺状况\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.technicsStatus\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.position !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"检测部位\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.position\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.attention !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"注意事项\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.attention\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.standard !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断标准\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.standard\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.basis !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断依据\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.basis\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.basisImage !=undefined){\\n                        var str = \\\"\\\";\\n                        if(ctrlGroupsObj.basisImage.length >0){\\n                           var arr = ctrlGroupsObj.basisImage;\\n                           for(var j in arr){\\n                               str +=\\\"<img src='\\\"+lc+\\\"\\\"+arr[j].value+\\\"' style='width: 200px;height: 200px;margin-right: 10px;' />\\\";\\n                           }\\n                        }\\n                        console.info(\\\"customHtml\\\",str);\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断依据图片\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"customHtml\\\",\\n                                disabled:true,\\n                                value : str\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.statusGrade !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"综合状态等级\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.statusGrade\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.abnPosition !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"异常部位\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.abnPosition\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.failureRepairReson !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"故障产生原因\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.failureRepairReson\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.multipleConclusion !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"综合判断结论\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.multipleConclusion\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.cessingScheme !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"处理方案建议\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.cessingScheme\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.attUpload !=undefined){\\n                         var str = \\\"\\\";\\n                        if(ctrlGroupsObj.attUpload.length >0){\\n                           var arr = ctrlGroupsObj.attUpload;\\n                           for(var j in arr){\\n                               str +=\\\"<a href='\\\"+lc+\\\"\\\"+arr[j].value+\\\"' target='_blank' style='margin-right:10px;'>\\\"+arr[j].label+\\\"</a>\\\";\\n                           }\\n                        }\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"附件\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"customHtml\\\",\\n                                disabled:true,\\n                                value : str\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                     event.global.fire(\\\"savetask\\\",tc.data)\\n                     event.target.render(ctrlGroups);\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                  })\\n             }\\n         });\\n   \\n   \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"通   过\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                \\n                var obj = {\\\"isAudit\\\":1,\\\"auditOpinion\\\":\\\"\\\"};\\n                event.global.detailTask.taskStatus = 200;\\n               event.global.detailTask.values = obj;\\n                console.info(\\\"通   过======\\\",event.global.detailTask);\\n                  var taskObj = {\\\"detailTask\\\":event.global.detailTask};\\n                  target.createPopupBypath(\\\"popup1\\\", {\\n                        title : \\\"审核\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        on : {\\n                          submit : function(data){\\n                           console.info(\\\"submitsubmit====\\\",data);\\n                           if(data.statuc == \\\"success\\\"){\\n                            target.navigateTo(\\\"page0\\\");\\n                           }\\n                          }\\n                        }\\n                      }, taskObj);\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"驳   回\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                  var obj = {\\\"isAudit\\\":0,\\\"auditOpinion\\\":\\\"\\\"};\\n                   event.global.detailTask.taskStatus = 200;\\n                   event.global.detailTask.values = obj;\\n                 console.info(\\\"驳   回======\\\",event.global.detailTask);\\n                 var taskObj = {\\\"detailTask\\\":event.global.detailTask};\\n                  target.createPopupBypath(\\\"popup1\\\", {\\n                        title : \\\"审核\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        on : {\\n                          submit : function(data){\\n                           if(data.statuc == \\\"success\\\"){\\n                            target.navigateTo(\\\"page0\\\");\\n                           }\\n                          }\\n                        }\\n                      }, taskObj);\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"8\",\"$$hashKey\":\"object:1361\"},{\"label\":\"过程历史\",\"path\":\"page9\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"page0\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n  width : \\\"100%\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = event.target.getParameter(\\\"ticketNo\\\");\\n      console.log(\\\"ticketNo===\\\"+ticketNo);\\n    var ctrlGroups = [\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[{\\nvalue : \\\"<a href='#'>报警产生</a>\\\"\\n},{\\nvalue : \\\"报警类型：振动报警\\\"\\n},{\\nvalue : \\\"报警级别：警告\\\"\\n},{\\nvalue : \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user bg-aqua bg-orange\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]}\\n];   \\nvar dateToString = function(now){  \\n    var year = now.getFullYear();  \\n    var month =(now.getMonth() + 1).toString();  \\n    var day = (now.getDate()).toString();  \\n    var hour = (now.getHours()).toString();  \\n    var minute = (now.getMinutes()).toString();  \\n    var second = (now.getSeconds()).toString();  \\n    if (month.length == 1) {  \\n        month = \\\"0\\\" + month;  \\n    }  \\n    if (day.length == 1) {  \\n        day = \\\"0\\\" + day;  \\n    }  \\n    if (hour.length == 1) {  \\n        hour = \\\"0\\\" + hour;  \\n    }  \\n    if (minute.length == 1) {  \\n        minute = \\\"0\\\" + minute;  \\n    }  \\n    if (second.length == 1) {  \\n        second = \\\"0\\\" + second;  \\n    }  \\n     var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day +\\\" \\\"+ hour +\\\":\\\"+minute+\\\":\\\"+second;  \\n     return dateTime;  \\n  }  \\n if(ticketNo){\\n\\n        event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\",[ticketNo], function(dt){\\n          if(dt.code == 0){\\n            var ticketHistoryList = dt.data;\\n            var arr = [];\\n            console.info(\\\"ticketHistoryList===\\\",ticketHistoryList);\\n            for(var i in ticketHistoryList){\\n            var cantentList = [];\\n            var historyList = {time:\\\"\\\",icon:\\\"\\\",disList:\\\"\\\"};\\n             if(ticketHistoryList[i].logType == \\\"startEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n             }\\n             if(ticketHistoryList[i].logType == \\\"endEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"cancelEvent\\\"){\\n                 historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                 cantentList.push({\\\"value\\\":\\\"已撤销\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"userTask\\\"){\\n                 if(ticketHistoryList[i].ticketTask.taskStatus == 200){\\n                     historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                 }else{\\n                      historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                 }\\n                 var taskRemark = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined){\\n                     taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                 }\\n                 var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                 cantentList.push({\\\"value\\\":\\\"<a>\\\"+ticketHistoryList[i].message+\\\"</a>\\\"});\\n                 cantentList.push({\\\"value\\\":\\\"处理人:\\\"+handlerName+\\\"\\\"});\\n                 var foramTime = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.finishedTime){\\n                   foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                 }\\n                 console.log(\\\"处理时间==\\\"+ticketHistoryList[i].ticketTask.finishedTime);\\n                cantentList.push({\\\"value\\\":\\\"处理时间:\\\"+foramTime+\\\"\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"serviceTask\\\"){\\n                 historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                 cantentList.push({\\\"value\\\":\\\"处理人:系统\\\"});\\n             }\\n             historyList.disList = cantentList;\\n             arr.push(historyList);\\n            }\\n            console.info(\\\"处理====\\\",arr);\\n            event.target.render(arr);\\n          }else{\\n            console.log(\\\"接口异常\\\");\\n          }\\n        })\\n      }else{\\n          event.target.render(ctrlGroups);\\n      }\\n\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"9\",\"$$hashKey\":\"object:1414\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "综合趋势",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var startDate = target.dateHandler(new Date());\\n      var endDate = startDate.clone();\\n      endDate.addDay(-3);\\n      var dates = [startDate, endDate];\\n      var ctrlGroups = [\\n        [{\\n          type: \\\"label\\\",\\n          value: \\\"起始时间\\\",\\n          style: {\\n            textAlign: \\\"center\\\"\\n          }\\n        }, {\\n          type: \\\"dateRangePicker\\\",\\n          style : {\\n              width : \\\"400px\\\"\\n          },\\n          value: dates.map(function(date){\\n             return date.getDate(); \\n          }),\\n          on: {\\n            change: function (elem) {\\n              event.target.trigger(\\\"dateRangeTime\\\",elem.value)\\n            }\\n          },\\n        }, {\\n          type: \\\"button\\\",\\n          btnclass: \\\"btn btn-primary\\\",\\n          value: \\\"设备信息\\\",\\n          btnStyle: {\\n            width: \\\"100px\\\",\\n          }\\n        }\\n          /*{\\n           type: \\\"button\\\",\\n           class: \\\"col-md-1 col-md-offset-1\\\",\\n           btnclass: \\\"btn btn-primary\\\",\\n           value: \\\"求助\\\",\\n           btnStyle: {\\n           width: \\\"100px\\\",\\n           }\\n           }*/\\n        ]\\n      ];\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      var time = 3 * 24 * 3600 * 1000;\\n      var kpiDes = target.getValue(\\\"global/kpi\\\");\\n      // 渲染echart图\\n      var renderEchart = function (startTime, endTime) {\\n          target.showLoading();\\n           target.hideNoData();\\n           console.log(\\\"kpiDes\\\", kpiDes);\\n        var ci = [resource.id];\\n        var extension = {\\n            hasSingnal : true\\n        };\\n        if(startTime){\\n          extension['startTime'] = startTime;\\n        }\\n        if(endTime){\\n          extension['endTime'] = endTime;\\n        }\\n        var xAxis = [];\\n        var kpi = kpiDes.map(function(elem){\\n          return elem.dataItemId;\\n        });\\n        target.getKpiValueList(ci, kpi, time, function (returnData) {\\n          target.hideLoading();\\n          if(returnData.length > 0){\\n            var reconstruct = target.reStructSeries(returnData);\\n            var series = kpiDes.map(function(elem){\\n                var attr = elem.dataItemId + \\\"_\\\" + elem.instance;\\n                var se = reconstruct.series[attr] || [];\\n                var rs = {\\n                    name : elem.kpiName,\\n                    type : \\\"line\\\",\\n                    data : se\\n                }\\n                return rs;\\n            });\\n            var xAxis = reconstruct.xAxis.map(function(elem){\\n                return elem.getDateString(\\\"hh:mm:ss\\\");\\n            })\\n            var option = {\\n              title: {\\n                textStyle: {color: \\\"#fff\\\"}\\n              },\\n              tooltip : {\\n                    trigger: 'axis',\\n                    axisPointer: {\\n                        type: 'cross',\\n                        label: {\\n                            backgroundColor: '#6a7985'\\n                        }\\n                    }\\n                },\\n              legend: {\\n                data: series.map(function (elem) {\\n                  return elem.name;\\n                })\\n              },\\n              xAxis: {\\n                boundaryGap: false,\\n                type: 'category',\\n                data: xAxis,\\n                triggerEvent : \\\"axis\\\"\\n              },\\n              yAxis: {\\n                type: 'value'\\n              },\\n              /*\\n              dataZoom: [{\\n                show: true,\\n                realtime: true,\\n                start: 0,\\n                end: 10,\\n              }],*/\\n              series: series\\n            };\\n            target.render(option);\\n          } else {\\n              target.showNoData();\\n          }\\n        }, extension)\\n      }\\n      target.off(\\\"multiSelectValues\\\");\\n      target.on(\\\"multiSelectValues\\\", function(dataItems){\\n        kpiDes = dataItems;\\n        if(resource && kpiDes){\\n          renderEchart();\\n        }\\n\\n      })\\n      target.off(\\\"tree_resourceChange.generalChart\\\");\\n      target.on(\\\"tree_resourceChange.generalChart\\\", function(res){\\n          debugger;\\n          //target.showLoading();\\n        resource = res.resource;\\n        if(resource && kpiDes){\\n          renderEchart();\\n        }\\n      });\\n      if(resource && kpiDes){\\n        renderEchart();\\n      }\\n      target.off(\\\"drawDiagnoseFeatureEchart\\\");\\n      target.on(\\\"drawDiagnoseFeatureEchart\\\", function (condition) {\\n          debugger;\\n          //target.showLoading();\\n        if (condition.dateRangeTime) {\\n          var startTime = JSON.stringify(condition.dateRangeTime.start);\\n          var endTime = JSON.stringify(condition.dateRangeTime.end);\\n          if (startTime || endTime) {\\n            startTime = startTime.substring(1, startTime.length - 1)\\n            endTime = endTime.substring(1, endTime.length - 1)\\n          }\\n        }\\n        kpi = [condition.kpi];     //测点（指标）\\n        if (startTime && endTime) {\\n          time = 0;\\n          randerEchart(startTime, endTime)\\n        } else {\\n          randerEchart()\\n        }\\n      });\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":9},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var dItem, kpi;\\n      var duration = null;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      var multiSelectValues = [];\\n      var success = function (resource) {\\n         multiSelectValues = [];\\n        var ci = [resource.id]; // 设备 526443915616079\\n        var modelId = [resource.modelId] // 获取modelId\\n        var accessConfigValues = resource.physicalConfig.accessConfigs;\\n        target.getAttrsByModelId(modelId, function (attrs) {\\n          var MeasurePointLocate = attrs.find(function (elem) {\\n              return elem.name == \\\"MeasurePointLocate\\\";\\n            }) || {};\\n          var sourceValue = eval(MeasurePointLocate.sourceValue)|| \\\"\\\";\\n          var sourceValueArr = [];\\n          for (var i in sourceValue) {\\n            for (var j in sourceValue[i]) {\\n              for(var k in sourceValue[i][j]){\\n                  var ins = sourceValue[i][j][k];\\n                  ins.configValues = accessConfigValues.find(function(accessConfigValue){\\n                      return ins.name == accessConfigValue.instance;\\n                  })\\n                sourceValueArr.push(ins);\\n                multiSelectValues.push(ins);\\n              }\\n            }\\n          };\\n          var render = function () {\\n              var getConfigValues = function(elem){\\n                  return elem.configValues;\\n              }\\n             var kpiDes = multiSelectValues\\n            .filter(getConfigValues)\\n            .map(getConfigValues)\\n            debugger;\\n            target.setValue(\\\"global/kpi\\\",kpiDes);\\n            target.trigger(\\\"multiSelectValues\\\",kpiDes);\\n            var ctrlGroups = [\\n              [{\\n                type: \\\"checkboxlist\\\",\\n                value: multiSelectValues.map(function(source){\\n                    return source.name;\\n                }),\\n                on: {\\n                  change: function (elem) {\\n                    var elemValues = elem.value;\\n                    multiSelectValues = elem.value;\\n                    render();\\n                  }\\n                },\\n                options: sourceValueArr,\\n                format: {\\n                  \\\"id\\\": \\\"name\\\",\\n                  \\\"label\\\": \\\"label\\\"\\n                }\\n              }]\\n            ];\\n            event.target.render(ctrlGroups);\\n          };\\n          render();\\n        })\\n      };\\n      if(resource){\\n        success(resource);\\n      }\\n      target.off(\\\"tree_resourceChange.multiSelect\\\");\\n      target.on(\\\"tree_resourceChange.multiSelect\\\", function (node) {\\n        success(node.resource);\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}]}],\"col\":3}]}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "区域态势(工作台_baogang/decider/home)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"服务中心\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var lngs = [70, 139];\\n      var lats = [12, 56];\\n      var rootScope = target.getRootScope();\\n      target.render();\\n      target.on(\\\"$loadCiKpiComplete\\\", function(cells){\\n        target.getDomainAreaLineTree(function(domaintree){\\n          var domains = domaintree.children.sort(function(a,b){\\n            var y1 = a.$attr(\\\"values/latitude\\\");\\n            var y2 = b.$attr(\\\"values/latitude\\\");\\n            return y2 - y1;\\n          });\\n          var WIDTH = 1200, HEIGHT = 700;\\n          var ci = domains.map(function(elem){\\n            return elem.id;\\n          });\\n          var kpi = [999999, 3017];\\n          target.getKpiValueCi(ci, kpi, function(valuelist){\\n            var create3Dbar = function(domain){\\n              var name = domain.label;\\n              var lng = domain.values.longitude;\\n              var lat = domain.values.latitude;\\n              target.create3Dbar(name, function(ins){\\n                  debugger;\\n                  var find = valuelist.find(function(value){\\n                      return value.nodeId == domain.id && value.kpiCode == 999999;\\n                  }) || {};\\n                  var persentage = valuelist.find(function(value){\\n                      return value.nodeId == domain.id && value.kpiCode == 3017;\\n                  }) || {};\\n                ins.setAlarmStatus(find.value);\\n                ins.setValue(persentage.value || 0);\\n                var x = (lng - lngs[0]) / (lngs[1] - lngs[0]) * 1200;\\n                var y = (lats[1] - lat) / (lats[1] - lats[0]) * 700;\\n                ins.setPos({\\n                  x : x,\\n                  y : y\\n                })\\n                console.log(x, y);\\n                ins.on(\\\"click\\\", function(event){\\n                  target.navigateTo(\\\"index\\\", {\\n                    main : [0, \\\"navigate\\\"],\\n                    id : domain.id\\n                  }, \\\"self\\\");\\n                })\\n              });\\n            }\\n            for(var i in domains){\\n              create3Dbar(domains[i])\\n            }\\n          });\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"height\":\"565px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":546900339506066,\"parameters\":{}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"18px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"状态总览 \\\");\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var random = function(){\\n        return parseInt(Math.random() * 50);\\n      }\\n      target.getDomainAreaLineTree(function(domaintree){\\n        domaintree.children.sort(function(a,b){\\n          var y1 = a.$attr(\\\"values/latitude\\\");\\n          var y2 = b.$attr(\\\"values/latitude\\\");\\n          return y2 - y1;\\n        });\\n        var domains = domaintree.children.slice(0,4);\\n        var kpiNames = [\\\"警告告警数\\\",\\\"次要告警数\\\",\\\"重要告警数\\\"];\\n        var kpi = [2004,2005,2006];\\n        var kpiObj = {};\\n        for(var i in kpi){\\n          kpiObj[kpi[i]] = kpiNames[i];\\n        }\\n        var ci = domains.map(function(elem){\\n          return elem.id;\\n        })\\n        target.getKpiValueCi(ci, kpi, function(valuelist){\\n          var list = domains.map(function(domain){\\n              debugger;\\n            var rs = {};\\n            rs.province = domain.label;\\n            rs.data = kpi.map(function(kp){\\n              var r = {};\\n              r.name = kpiObj[kp].slice(0,2);\\n              var find = valuelist.find(function(el){\\n                  return el.kpiCode == kp && el.nodeId == domain.id;\\n                }) || {};\\n              r.value = find.value || 1 + Math.floor(Math.random() * 9);\\n              return r;\\n            })\\n            return rs;\\n          });\\n          target.render(list);\\n        });\\n      });\\n\\n    }\\n  }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":3,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var sum = 0;\\n            for(var i in data.data){\\n                sum += data.data[i].value;\\n            }\\n            target.setText(data.province + \\\" \\\" + sum);\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n       var colors = [ \\\"#0ca4fe\\\", \\\"#e8b609\\\", \\\"#e74e54\\\" ];\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [];\\n      var createTr = function(index, element){\\n        return [{\\n          type : \\\"jquery\\\",\\n          render : function(){\\n              var wrap = $(\\\"<div></div>\\\");\\n              var title = $(\\\"<div></div>\\\");\\n              var bar = $(\\\"<div></div>\\\");\\n              wrap.css(\\\"height\\\", \\\"30px\\\");\\n              wrap.css(\\\"width\\\", \\\"40px\\\");\\n              wrap.css(\\\"margin\\\", \\\"auto\\\");\\n              bar.css(\\\"width\\\", \\\"10px\\\");\\n              bar.css(\\\"height\\\", \\\"30px\\\");\\n              bar.css(\\\"background-color\\\", colors[index]);\\n              bar.css(\\\"position\\\", \\\"absolute\\\");\\n              wrap.css(\\\"position\\\", \\\"relative\\\");\\n              bar.css(\\\"left\\\", \\\"25px\\\");\\n              wrap.append(bar);\\n              title.css(\\\"text-align\\\", \\\"right\\\");\\n              title.css(\\\"color\\\", \\\"#a0a0a0\\\");\\n              title.css(\\\"margin-right\\\", \\\"15px\\\");\\n              title.css(\\\"position\\\", \\\"absolute\\\");\\n              title.css(\\\"font-size\\\", \\\"12px\\\");\\n              title.text(element.name);\\n              var value = $(\\\"<div></div>\\\");\\n              value.css(\\\"color\\\", \\\"#fff\\\");\\n              value.css(\\\"position\\\", \\\"absolute\\\");\\n              value.css(\\\"font-size\\\", \\\"14px\\\");\\n              value.css(\\\"text-align\\\", \\\"right\\\");\\n              value.css(\\\"font-weight\\\", \\\"bold\\\");\\n              value.text(element.value);\\n              value.css(\\\"top\\\", \\\"14px\\\");\\n              wrap.append(title);\\n              wrap.append(value);\\n              return wrap;\\n          }\\n        }]\\n      }\\n      for(var i = target.$repeatData.data.length - 1; i >= 0; i--){\\n         ctrlGroups.push(createTr(i, target.$repeatData.data[i]));\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":6},{\"type\":\"column\",\"children\":[{\"label\":\"SVG视图\",\"type\":\"svgchart\",\"source\":\"SVGCHART\",\"advance\":{\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n        var  target = event.target;\\n        var repeatData = target.$repeatData;\\n        var barOption = {\\n          title: {\\n            text: 'svgChart入门示例'\\n          },\\n          grid : {\\n              top : \\\"0%\\\",\\n              left : \\\"10%\\\"\\n          },\\n          legend: {\\n            data: ['销量']\\n          },\\n          xAxis: {\\n            show : false,\\n            data: [\\\"衬衫\\\", \\\"羊毛衫\\\", \\\"雪纺衫\\\", \\\"裤子\\\", \\\"高跟鞋\\\", \\\"袜子\\\"]\\n          },\\n          yAxis: {\\n              show : false\\n          },\\n          series: [{\\n            stack : \\\"总量\\\",\\n            name: '销量1',\\n            type: '3dbar',\\n            data: [repeatData.data[0].value]\\n          },{\\n              stack : \\\"总量\\\",\\n            name: '销量2',\\n            type: '3dbar',\\n            data: [repeatData.data[1].value]\\n          },{\\n              stack : \\\"总量\\\",\\n            name: '销量3',\\n            type: '3dbar',\\n            data: [repeatData.data[2].value]\\n          }]\\n        };\\n        target.render(barOption);\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"0px\",\"font-size\":\"12px\",\"height\":\"130px\"},\"parameters\":{}}],\"col\":6}]}]}],\"style\":{}}]}],\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin-top\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"诊断绩效统计（当月内）\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    bootstrap : true,\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var column = ['区域','综合诊断准确率','智能诊断准确率','大数据预警准确率'];\\n      var inx = 0;\\n      var ctrlGroups = [\\n        column.map(function(elem){\\n          var a = {\\n            type : \\\"label\\\",\\n            value : elem,\\n            class : inx ? (inx == 3 ?\\\"col-md-4\\\" : \\\"col-md-3\\\") : \\\"col-md-2\\\",\\n            style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n          }\\n          inx++;\\n          return a;\\n        })\\n      ];\\n      var row = ['宝山','东山','青山','梅山']\\n      for(var i in row){\\n        var arr = [{\\n          type : \\\"label\\\",\\n          value : row[i],\\n          class : \\\"col-md-2\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n        }];\\n        for(var i in column.slice(1,4)){\\n            var rnd = Math.floor(Math.random() * 100);\\n          Array.prototype.push.apply(arr, [{\\n            type : \\\"label\\\",\\n            value : rnd + \\\"%\\\",\\n            class : \\\"col-md-1\\\",\\n            style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n          },{\\n            type : \\\"progressbar\\\",\\n            value : rnd,\\n            class : i == 2 ? \\\"col-md-3\\\" : \\\"col-md-2\\\"\\n          }])\\n        }\\n        ctrlGroups.push(arr);\\n      };\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin-top\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"检修实绩统计（当月内）\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"url\":\"images/map/map1.png\"},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    tooltip : {\\n        trigger: 'axis',\\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\\n            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\\n        }\\n    },\\n    legend: {\\n        data: ['状态维修项目数', '离线维修项目数'],\\n        y: '20px'\\n    },\\n    grid: {\\n        left: '3%',\\n        right: '4%',\\n        bottom: '3%',\\n        containLabel: true\\n    },\\n    xAxis:  {\\n        type: 'value'\\n    },\\n    yAxis: {\\n        type: 'category',\\n        data: ['松山','天山','梅山','青山','东山','宝山']\\n    },\\n    series: [\\n        {\\n            name: '状态维修项目数',\\n            type: 'bar',\\n            stack: '总量',\\n            label: {\\n                normal: {\\n                    show: true,\\n                    position: 'insideRight',\\n                    textBorderColor:'0'\\n                }\\n            },\\n             itemStyle: {\\n                normal: {\\n                    color:target.linearGradient(\\n                        0, 0, 1, 0,\\n                        [\\n                            {offset: 0, color: '#ffc'},\\n                            {offset: 0.5, color: '#ff0'},\\n                            {offset: 1, color: '#f90'}\\n                        ]\\n                    )\\n                },\\n               \\n            },\\n            data: [120, 82, 144, 110, 145, 90]\\n        },\\n        {\\n            name: '离线维修项目数',\\n            type: 'bar',\\n            stack: '总量',\\n            label: {\\n                normal: {\\n                    show: true,\\n                    position: 'insideRight',\\n                     textBorderColor:'0'\\n                }\\n            },\\n             itemStyle: {\\n                normal: {\\n                    color: target.linearGradient(\\n                        0, 0, 1, 0,\\n                        [\\n                            {offset: 0, color: '#3ff'},\\n                            {offset: 0.5, color: '#39c'},\\n                            {offset: 1, color: '#30c'}\\n                        ]\\n                    )\\n                },\\n               \\n            },\\n            data: [137, 110, 156, 112, 128, 131]\\n        }\\n       \\n    ]\\n};\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"width\":\"100%\",\"height\":\"177px\",\"margin-top\":\"-10px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}],\"col\":12},\"$$hashKey\":\"object:1834\"},{\"label\":\"产线\",\"path\":\"production\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"8px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"数结构导航\",\"type\":\"navitree\",\"source\":\"NAVITREE\",\"advance\":{\"expression\":\"\"},\"style\":{}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"clock\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          value : function(time){\\n              return \\\"当前时间 ： \\\" + time\\n          },\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"float\\\" : \\\"right\\\",\\n              \\\"font-weight\\\" : \\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"3px\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"8px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"热轧生产线\\\")\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var id = target.getParameter(\\\"id\\\");\\n      target.getDomainAreaLineTree(function(domaintree){\\n        var find = domaintree.find(function(node){\\n          return node.id == id;\\n        });\\n        if(find){\\n          var children = find.getChildren();\\n          var viewId = find.$attr(\\\"view/viewId\\\");\\n          target.getViewById(viewId, function(view){\\n            var content = view.content;\\n            var json = JSON.parse(content);\\n            target.render(json);\\n            target.on(\\\"$loadCiKpiComplete\\\", function(cells){\\n              for(var i in cells){\\n                cells[i].attr(\\\"circle/opacity\\\", 0);\\n                cells[i].attr(\\\"text/opacity\\\", 0);\\n                cells[i].attr(\\\"rect/opacity\\\", 0);\\n              }\\n              var createAlarm = function(index, node){\\n                var cell = cells[index] || {};\\n                var position;\\n                if(cell){\\n                  position = cell.position();\\n                } else {\\n                  position = {\\n                    x : Math.floor(100 + Math.random() * 300),\\n                    y : Math.floor(100 + Math.random() * 200)\\n                  }\\n                }\\n                target.createAlarm(node.label, function(ins){\\n                  ins.setPos(position);\\n                  ins.on(\\\"click\\\", function(event){\\n                      console.log(position)\\n                       target.createSystemPopupByLocalPath(\\\"page8\\\", {\\n                         width : \\\"220px\\\",\\n                         title:\\\"设备总览\\\",\\n                        },node.id);\\n                        $(\\\"#free-board\\\").css(\\\"background-color\\\",\\\"rgba(0,0,0,0)\\\");\\n                        // $(\\\".modal-content\\\") $(\\\".modal-dialog\\\")\\n                        $(\\\".modal-dialog\\\").css(\\\"position\\\",\\\"absolute\\\");\\n                        $(\\\".modal-dialog\\\").css(\\\"left\\\",200 +  position.x);\\n                        $(\\\".modal-dialog\\\").css(\\\"top\\\", 200 + position.y);\\n                        \\n                        \\n                    // target.navigateTo(\\\"index\\\", {\\n                    //   main : [0, \\\"device\\\"],\\n                    //   id : node.id\\n                    // })\\n                  })\\n                });\\n              };\\n              for(var i in children){\\n                createAlarm(i, children[i])\\n              }\\n            });\\n          });\\n        }\\n\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"312px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826064,\"parameters\":{}},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"height\":\"350px\",\"margin\":\"5px\",\"padding\":\"5px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"18px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"状态总览 \\\");\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            var global = event.global;\\n            var random = function(){\\n                return parseInt(Math.random() * 50);\\n            }\\n            var list = [''].map(function(province){\\n                return {\\n                    province : province,\\n                    data : [{\\n                        name : \\\"警告\\\",\\n                        value : random(),\\n                    },{\\n                        name : \\\"预警\\\",\\n                        value : random(),\\n                    },{\\n                        name : \\\"正常\\\",\\n                        value : random(),\\n                    }]\\n                }\\n            });\\n            target.render(list);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":3,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var sum = 0;\\n            for(var i in data.data){\\n                sum += data.data[i].value;\\n            }\\n            target.setText(data.province + \\\" \\\" + sum);\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n       var colors = [ \\\"#0ca4fe\\\", \\\"#e8b609\\\", \\\"#e74e54\\\" ];\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [];\\n      var createTr = function(index, element){\\n        return [{\\n          type : \\\"jquery\\\",\\n          render : function(){\\n              var wrap = $(\\\"<div></div>\\\");\\n              var title = $(\\\"<div></div>\\\");\\n              var bar = $(\\\"<div></div>\\\");\\n              wrap.css(\\\"height\\\", \\\"30px\\\");\\n              wrap.css(\\\"width\\\", \\\"40px\\\");\\n              wrap.css(\\\"margin\\\", \\\"auto\\\");\\n              bar.css(\\\"width\\\", \\\"10px\\\");\\n              bar.css(\\\"height\\\", \\\"30px\\\");\\n              bar.css(\\\"background-color\\\", colors[index]);\\n              bar.css(\\\"position\\\", \\\"absolute\\\");\\n              wrap.css(\\\"position\\\", \\\"relative\\\");\\n              bar.css(\\\"left\\\", \\\"25px\\\");\\n              wrap.append(bar);\\n              title.css(\\\"text-align\\\", \\\"right\\\");\\n              title.css(\\\"color\\\", \\\"#a0a0a0\\\");\\n              title.css(\\\"margin-right\\\", \\\"15px\\\");\\n              title.css(\\\"position\\\", \\\"absolute\\\");\\n              title.css(\\\"font-size\\\", \\\"12px\\\");\\n              title.text(element.name);\\n              var value = $(\\\"<div></div>\\\");\\n              value.css(\\\"color\\\", \\\"#fff\\\");\\n              value.css(\\\"position\\\", \\\"absolute\\\");\\n              value.css(\\\"font-size\\\", \\\"14px\\\");\\n              value.css(\\\"text-align\\\", \\\"right\\\");\\n              value.css(\\\"font-weight\\\", \\\"bold\\\");\\n              value.text(element.value);\\n              value.css(\\\"top\\\", \\\"14px\\\");\\n              wrap.append(title);\\n              wrap.append(value);\\n              return wrap;\\n          }\\n        }]\\n      }\\n      for(var i = target.$repeatData.data.length - 1; i >= 0; i--){\\n         ctrlGroups.push(createTr(i, target.$repeatData.data[i]));\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":6},{\"type\":\"column\",\"children\":[{\"label\":\"SVG视图\",\"type\":\"svgchart\",\"source\":\"SVGCHART\",\"advance\":{\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n        var  target = event.target;\\n        var repeatData = target.$repeatData;\\n        var barOption = {\\n          title: {\\n            text: 'svgChart入门示例'\\n          },\\n          grid : {\\n              top : \\\"0%\\\",\\n              left : \\\"10%\\\"\\n          },\\n          legend: {\\n            data: ['销量']\\n          },\\n          xAxis: {\\n            show : false,\\n            data: [\\\"衬衫\\\", \\\"羊毛衫\\\", \\\"雪纺衫\\\", \\\"裤子\\\", \\\"高跟鞋\\\", \\\"袜子\\\"]\\n          },\\n          yAxis: {\\n              show : false\\n          },\\n          series: [{\\n            stack : \\\"总量\\\",\\n            name: '销量1',\\n            type: '3dbar',\\n            data: [repeatData.data[0].value]\\n          },{\\n              stack : \\\"总量\\\",\\n            name: '销量2',\\n            type: '3dbar',\\n            data: [repeatData.data[1].value]\\n          },{\\n              stack : \\\"总量\\\",\\n            name: '销量3',\\n            type: '3dbar',\\n            data: [repeatData.data[2].value]\\n          }]\\n        };\\n        target.render(barOption);\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"0px\",\"font-size\":\"12px\",\"height\":\"130px\"},\"parameters\":{}}],\"col\":6}]}]}],\"style\":{}}]}],\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"height\":\"350px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"TAB标签\",\"type\":\"tab\",\"source\":\"TAB\",\"style\":{},\"children\":[{\"tabName\":\"诊断绩效统计（当月内）\",\"tabId\":\"0\",\"default\":true,\"display\":\"block\",\"type\":\"tabItem\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    bootstrap : true,\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      \\n      \\n    //   target.on(\\\"showEchart\\\",function(e){\\n    //       console.log(e)\\n    //       target.hide();\\n    //   })\\n      \\n      var column = ['区域','综合诊断准确率','智能诊断准确率','大数据模型预警准确率'];\\n      var inx = 0;\\n      var ctrlGroups = [\\n        column.map(function(elem){\\n          var a = {\\n            type : \\\"label\\\",\\n            value : elem,\\n            class : inx ? (inx == 3 ?\\\"col-md-4\\\" : \\\"col-md-3\\\") : \\\"col-md-2\\\",\\n            style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n          }\\n          inx++;\\n          return a;\\n        })\\n      ];\\n      var row = ['宝山','东山','青山','梅山','天山','松山']\\n      for(var i in row){\\n        var arr = [{\\n          type : \\\"label\\\",\\n          value : row[i],\\n          class : \\\"col-md-2\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n        }];\\n        for(var i in column.slice(1,4)){\\n            var rnd = Math.floor(Math.random() * 100);\\n          Array.prototype.push.apply(arr, [{\\n            type : \\\"label\\\",\\n            value : rnd + \\\"%\\\",\\n            class : \\\"col-md-1\\\",\\n            style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n          },{\\n            type : \\\"progressbar\\\",\\n            value : rnd,\\n            class : i == 2 ? \\\"col-md-3\\\" : \\\"col-md-2\\\"\\n          }])\\n        }\\n        ctrlGroups.push(arr);\\n      };\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]},{\"tabName\":\"故障实绩（当月内）\",\"tabId\":\"1\",\"type\":\"tabItem\",\"display\":\"none\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n\\nvar option = {\\n    tooltip: {\\n        trigger: 'axis'\\n    },\\n  \\n    legend: {\\n        data:['蒸发量','降水量','平均温度','平均温度']\\n    },\\n    xAxis: [\\n        {\\n            type: 'category',\\n            data: ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月'],\\n\\n        }\\n    ],\\n    yAxis: [\\n        {\\n            type: 'value',\\n            name: '水量',\\n            min: 0,\\n            max: 280,\\n            interval: 50\\n        },\\n        {\\n            type: 'value',\\n            name: '温度',\\n            min: 0,\\n            max: 29,\\n            interval: 5,\\n            axisLabel: {\\n                formatter: '{value} °C'\\n            }\\n        }\\n    ],\\n    series: [\\n        {\\n            name:'蒸发量',\\n            type:'bar',\\n            data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3]\\n        },\\n        {\\n            name:'降水量',\\n            type:'bar',\\n            data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3]\\n        },\\n        {\\n            name:'平均温度',\\n            type:'line',\\n            yAxisIndex: 1,\\n            data:[2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2]\\n        },\\n         {\\n            name:'平均温度',\\n            type:'line',\\n            yAxisIndex: 1,\\n            data:[2., 2, 3, 5, 3, 10, 2, 23, 27.0, 16.5, 12.0, 5.2]\\n        }\\n    ]\\n};\\n\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"width\":\"100%\",\"height\":\"280px\"},\"url\":\"images/map/map1.png\"}],\"default\":false}],\"url\":\"images/map/map1.png\",\"advance\":{}}]}]}],\"col\":4},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"height\":\"350px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\",\"margin-left\":\"5px\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"设备状态纵览\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    tooltip : {\\n        trigger: 'item',\\n        formatter: \\\"{a} <br/>{b} : {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        orient : 'horizontal',\\n        y : 'bottom',\\n        data:['直达','营销广告','搜索引擎','邮件营销','联盟广告','视频广告','百度','谷歌','必应','其他']\\n    },\\n    series : [\\n        {\\n            name:'访问来源',\\n            type:'pie',\\n            selectedMode: 'single',\\n            radius : [0, 30],\\n            \\n            // for funnel\\n            x: '20%',\\n            width: '40%',\\n            funnelAlign: 'right',\\n            max: 1548,\\n            \\n            itemStyle : {\\n                normal : {\\n                    label : {\\n                        position : 'inner'\\n                    },\\n                    labelLine : {\\n                        show : false\\n                    }\\n                }\\n            },\\n            data:[\\n                {value:335, name:'直达'},\\n                {value:679, name:'营销广告'},\\n                {value:1548, name:'搜索引擎'}\\n            ]\\n        },\\n        {\\n            name:'访问来源',\\n            type:'pie',\\n            radius : [50, 80],\\n            \\n            // for funnel\\n            x: '60%',\\n            width: '35%',\\n            funnelAlign: 'left',\\n            max: 1048,\\n            \\n            data:[\\n                {value:335, name:'直达'},\\n                {value:310, name:'邮件营销'},\\n                {value:234, name:'联盟广告'},\\n                {value:135, name:'视频广告'},\\n                {value:1048, name:'百度'},\\n                {value:251, name:'谷歌'},\\n                {value:147, name:'必应'},\\n                {value:102, name:'其他'}\\n            ]\\n        }\\n    ]\\n};\\n\\n                    \\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"380px\",\"margin-top\":\"-80px\"}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"height\":\"350px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    tooltip: {\\n        trigger: 'item',\\n        formatter: \\\"{a} <br/>{b}: {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        orient: 'vertical',\\n        x: 'left',\\n        data:['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']\\n    },\\n    series: [\\n        {\\n            name:'访问来源',\\n            type:'pie',\\n            radius: ['50%', '70%'],\\n            avoidLabelOverlap: false,\\n            label: {\\n                normal: {\\n                    show: false,\\n                    position: 'center'\\n                },\\n                emphasis: {\\n                    show: true,\\n                    formatter:\\\" {d}%\\\",\\n                    textStyle: {\\n                        fontSize: '30',\\n                        fontWeight: 'bold'\\n                    }\\n                }\\n            },\\n            labelLine: {\\n                normal: {\\n                    show: false\\n                }\\n            },\\n            data:[\\n                {value:335, name:'直接访问'},\\n                {value:310, name:'邮件营销'},\\n                {value:234, name:'联盟广告'},\\n                {value:135, name:'视频广告'},\\n                {value:1548, name:'搜索引擎'}\\n            ]\\n        }\\n    ]\\n};\\n\\n                    \\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":3}]}]}],\"parameters\":{}}]}],\"advance\":{\"expression\":\"{}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1852\"},{\"label\":\"厂区\",\"path\":\"navigate\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"8px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"数结构导航\",\"type\":\"navitree\",\"source\":\"NAVITREE\",\"advance\":{\"expression\":\"\"}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"clock\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          value : function(time){\\n              return \\\"当前时间 ： \\\" + time\\n          },\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"float\\\" : \\\"right\\\",\\n              \\\"font-weight\\\" : \\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":4}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var id = target.getParameter(\\\"id\\\");\\n      target.getDomainAreaLineTree(function(domaintree){\\n        var find = domaintree.find(function(node){\\n          return node.id == id;\\n        });\\n        if(find){\\n           \\n          var children = find.getChildren();\\n          var viewId = find.$attr(\\\"view/viewId\\\");\\n          target.getViewById(viewId, function(view){\\n            var content = view.content;\\n            var json = JSON.parse(content);\\n            target.render(json);\\n            target.on(\\\"$loadCiKpiComplete\\\", function(cells){\\n              for(var i in cells){\\n                cells[i].attr(\\\"circle/opacity\\\", 0);\\n                cells[i].attr(\\\"text/opacity\\\", 0);\\n              }\\n              var createMarker = function(index, node){\\n                var position;\\n                var cell = cells[index] || {}\\n                if(cell){\\n                  position = cell.position();\\n                } else {\\n                  position = {\\n                    x : Math.floor(100 + Math.random() * 300),\\n                    y : Math.floor(100 + Math.random() * 200)\\n                  \\n                  }\\n                }\\n                debugger;\\n                target.createMarker(node.label, function(ins){\\n                  ins.setPos(position);\\n                  ins.on(\\\"click\\\", function(event){\\n                    target.navigateTo(\\\"index\\\", {\\n                      main : [0, \\\"factory\\\"],\\n                      id : node.id\\n                    })\\n                  })\\n                });\\n              };\\n              for(var i in children){\\n                createMarker(i, children[i])\\n              }\\n            });\\n          });\\n        }\\n\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\",\"height\":\"670px\"},\"viewId\":469973748826065,\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":7},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"height\":\"190px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"18px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"状态总览 \\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            var global = event.global;\\n            var random = function(){\\n                return parseInt(Math.random() * 50);\\n            }\\n            var list = [\\\"炼钢厂\\\",\\\"炼铁厂\\\",\\\"热轧厂\\\",\\\"冷轧山\\\"].map(function(province){\\n                return {\\n                    province : province,\\n                    data : [{\\n                        name : \\\"警告\\\",\\n                        value : random(),\\n                    },{\\n                        name : \\\"预警\\\",\\n                        value : random(),\\n                    },{\\n                        name : \\\"正常\\\",\\n                        value : random(),\\n                    }]\\n                }\\n            });\\n            target.render(list);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":3,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var sum = 0;\\n            for(var i in data.data){\\n                sum += data.data[i].value;\\n            }\\n            target.setText(data.province + \\\" \\\" + sum);\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n       var colors = [ \\\"#0ca4fe\\\", \\\"#e8b609\\\", \\\"#e74e54\\\" ];\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [];\\n      var createTr = function(index, element){\\n        return [{\\n          type : \\\"jquery\\\",\\n          render : function(){\\n              var wrap = $(\\\"<div></div>\\\");\\n              var title = $(\\\"<div></div>\\\");\\n              var bar = $(\\\"<div></div>\\\");\\n              wrap.css(\\\"height\\\", \\\"30px\\\");\\n              wrap.css(\\\"width\\\", \\\"40px\\\");\\n              wrap.css(\\\"margin\\\", \\\"auto\\\");\\n              bar.css(\\\"width\\\", \\\"10px\\\");\\n              bar.css(\\\"height\\\", \\\"30px\\\");\\n              bar.css(\\\"background-color\\\", colors[index]);\\n              bar.css(\\\"position\\\", \\\"absolute\\\");\\n              wrap.css(\\\"position\\\", \\\"relative\\\");\\n              bar.css(\\\"left\\\", \\\"25px\\\");\\n              wrap.append(bar);\\n              title.css(\\\"text-align\\\", \\\"right\\\");\\n              title.css(\\\"color\\\", \\\"#a0a0a0\\\");\\n              title.css(\\\"margin-right\\\", \\\"15px\\\");\\n              title.css(\\\"position\\\", \\\"absolute\\\");\\n              title.css(\\\"font-size\\\", \\\"12px\\\");\\n              title.text(element.name);\\n              var value = $(\\\"<div></div>\\\");\\n              value.css(\\\"color\\\", \\\"#fff\\\");\\n              value.css(\\\"position\\\", \\\"absolute\\\");\\n              value.css(\\\"font-size\\\", \\\"14px\\\");\\n              value.css(\\\"text-align\\\", \\\"right\\\");\\n              value.css(\\\"font-weight\\\", \\\"bold\\\");\\n              value.text(element.value);\\n              value.css(\\\"top\\\", \\\"14px\\\");\\n              wrap.append(title);\\n              wrap.append(value);\\n              return wrap;\\n          }\\n        }]\\n      }\\n      for(var i = target.$repeatData.data.length - 1; i >= 0; i--){\\n         ctrlGroups.push(createTr(i, target.$repeatData.data[i]));\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":6},{\"type\":\"column\",\"children\":[{\"label\":\"SVG视图\",\"type\":\"svgchart\",\"source\":\"SVGCHART\",\"advance\":{\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n        var  target = event.target;\\n        var repeatData = target.$repeatData;\\n        var barOption = {\\n          title: {\\n            text: 'svgChart入门示例'\\n          },\\n          grid : {\\n              top : \\\"0%\\\",\\n              left : \\\"10%\\\"\\n          },\\n          legend: {\\n            data: ['销量']\\n          },\\n          xAxis: {\\n            show : false,\\n            data: [\\\"衬衫\\\", \\\"羊毛衫\\\", \\\"雪纺衫\\\", \\\"裤子\\\", \\\"高跟鞋\\\", \\\"袜子\\\"]\\n          },\\n          yAxis: {\\n              show : false\\n          },\\n          series: [{\\n            stack : \\\"总量\\\",\\n            name: '销量1',\\n            type: '3dbar',\\n            data: [repeatData.data[0].value]\\n          },{\\n              stack : \\\"总量\\\",\\n            name: '销量2',\\n            type: '3dbar',\\n            data: [repeatData.data[1].value]\\n          },{\\n              stack : \\\"总量\\\",\\n            name: '销量3',\\n            type: '3dbar',\\n            data: [repeatData.data[2].value]\\n          }]\\n        };\\n        target.render(barOption);\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"0px\",\"font-size\":\"12px\",\"height\":\"130px\"},\"parameters\":{}}],\"col\":6}]}]}],\"style\":{},\"url\":\"images/map/map1.png\"}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"诊断绩效统计（当月内）\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    bootstrap : true,\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var column = ['区域','综合诊断准确率','智能诊断准确率','大数据模型预警准确率'];\\n      var inx = 0;\\n      var ctrlGroups = [\\n        column.map(function(elem){\\n          var a = {\\n            type : \\\"label\\\",\\n            value : elem,\\n            class : inx ? (inx == 3 ?\\\"col-md-4\\\" : \\\"col-md-3\\\") : \\\"col-md-2\\\",\\n            style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n          }\\n          inx++;\\n          return a;\\n        })\\n      ];\\n      var row = ['炼钢厂','炼铁厂','热轧厂','冷轧厂']\\n      for(var i in row){\\n        var arr = [{\\n          type : \\\"label\\\",\\n          value : row[i],\\n          class : \\\"col-md-2\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n        }];\\n        for(var i in column.slice(1,4)){\\n            var rnd = Math.floor(Math.random() * 100);\\n          Array.prototype.push.apply(arr, [{\\n            type : \\\"label\\\",\\n            value : rnd + \\\"%\\\",\\n            class : \\\"col-md-1\\\",\\n            style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n          },{\\n            type : \\\"progressbar\\\",\\n            value : rnd,\\n            class : i == 2 ? \\\"col-md-3\\\" : \\\"col-md-2\\\"\\n          }])\\n        }\\n        ctrlGroups.push(arr);\\n      };\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"height\":\"300px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"font-size\":\"18px\",\"font-weight\":\"bold\",\"text-align\":\"left\",\"padding\":\"5px\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"检修实绩统计（当月内）\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    title : {\\n        text: ''\\n    },\\n    tooltip : {\\n        trigger: 'axis'\\n    },\\n    legend: {\\n        data:['待完成状态维修项目数','已完成状态维修项目数','状态维修项目数'],\\n        y:\\\"20px\\\"\\n        \\n    },\\n    toolbox: {\\n        show : false,\\n        feature : {\\n            magicType : {show: true, type: ['line', 'bar']}\\n        }\\n    },\\n    calculable : true,\\n    xAxis : [\\n        {\\n            type : 'category',\\n            data : ['炼铁厂','炼钢厂','热轧厂','冷轧厂']\\n        }\\n    ],\\n    yAxis : [\\n        {\\n            type : 'value'\\n        }\\n    ],\\n    series : [\\n        {\\n            name:'待完成状态维修项目数',\\n            type:'bar',\\n            data:[16, 18, 20, 17]\\n        },\\n        {\\n            name:'已完成状态维修项目数',\\n            type:'bar',\\n            data:[26, 28, 20, 27]\\n        },\\n        {\\n            name:'状态维修项目数',\\n            type:'bar',\\n            data: [36, 38, 40, 37]\\n        }\\n    ]\\n};\\n                    \\n                    \\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"height\":\"280px\",\"margin-top\":\"-15px\"},\"url\":\"images/map/map1.png\"}]}],\"parameters\":{}}],\"col\":5}]}]}]}]}]}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:1862\"},{\"label\":\"设备信息\",\"path\":\"device\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"8px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"数结构导航\",\"type\":\"navitree\",\"source\":\"NAVITREE\",\"advance\":{\"expression\":\"\"}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"clock\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          value : function(time){\\n              return \\\"当前时间 ： \\\" + time\\n          },\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"float\\\" : \\\"right\\\",\\n              \\\"font-weight\\\" : \\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":4}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"0px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      target.render();\\n      target.on(\\\"$loadCiKpiComplete\\\", function(cells){\\n        for(var i in cells){\\n            if(cells[i].attributes.type == \\\"basic.Rect\\\"){\\n                cells[i].attr(\\\"rect/opacity\\\", 0);\\n                target.createAttrDisp(\\\"电机复合侧轴振动\\\", [{\\n                    label : \\\"速度有效值\\\",\\n                    value : \\\"30\\\"\\n                },{\\n                    label : \\\"冲击有效值\\\",\\n                    value : \\\"12\\\"\\n                }], cells[i].position());\\n            } else if(cells[i].attributes.type == \\\"basic.Circle\\\"){\\n                cells[i].attr(\\\"circle/opacity\\\", 0);\\n                cells[i].attr(\\\"text/opacity\\\", 0);\\n            } else if(cells[i].attributes.type == \\\"link\\\"){\\n                //cells[i].attr(\\\"circle/opacity\\\", 0);\\n                console.log(cells[i]);\\n                cells[i].attr(\\\".connection/stroke\\\", \\\"#1f8fd8\\\");\\n                cells[i].attr(\\\".connection/stroke-width\\\", 6);\\n                cells[i].attr(\\\".marker-target/visibility\\\", \\\"hidden\\\");\\n            };\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":546900339506067,\"url\":\"images/map/map1.png\"}],\"col\":7},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"normal\",\"text-align\":\"left\",\"color\":\"rgb(255, 255, 255)\",\"border-bottom\":\"1px solid #666\",\"line-height\":\"30px\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = target.getParameter(\\\"id\\\");\\n      var render = function(resource){\\n        var ctrlGroups = [];\\n        var attrNames = {\\n          modelNo : \\\"设备型号\\\",\\n          series : \\\"序列号\\\",\\n          type : \\\"设备类型\\\",\\n          brands : \\\"设备品牌\\\",\\n          productionDate : \\\"接入时间\\\",\\n          runtime : \\\"运行时长\\\",\\n          state : \\\"当前状态\\\",\\n          scope : \\\"加工范围\\\",\\n          density : \\\"加工精度\\\",\\n          utilization : \\\"利用率\\\",\\n          yield : \\\"平均产品合格率\\\"\\n        }\\n        for(var i in attrNames){\\n          if(attrNames[i]){\\n            ctrlGroups.push([{\\n              type : \\\"label\\\",\\n              value : attrNames[i] + \\\"：\\\",\\n              style : {\\n                \\\"text-align\\\" : \\\"left\\\",\\n                \\\"font-weight\\\" : \\\"500\\\",\\n                \\\"color\\\" : \\\"#939393\\\",\\n                \\\"width\\\" : \\\"200px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : Math.floor(Math.random() * 100),\\n              style : {\\n                \\\"text-align\\\" : \\\"center\\\",\\n                \\\"font-weight\\\" : \\\"600\\\",\\n                \\\"color\\\" : \\\"#fff\\\"\\n              },\\n              labelStyle : {\\n                  \\\"width\\\" : \\\"100px\\\",\\n                \\\"line-height\\\" : \\\"20px\\\",\\n                \\\"border-radius\\\" : \\\"10px\\\",\\n                \\\"border\\\" : \\\"1px solid #939393\\\"\\n              }\\n            }])\\n          };\\n        };\\n        target.render(ctrlGroups);\\n      };\\n      target.getDomainAreaLineTree(function(domaintree){\\n        var resource = domaintree.find(function(node){\\n          return node.id == id;\\n        });\\n        if(resource){\\n           render(resource);\\n        }\\n\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":5}]}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"left\",\"color\":\"rgb(238, 238, 238)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警列表\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"parameters\":{}}],\"col\":7},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"left\",\"color\":\"rgb(238, 238, 238)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":5}]}]}]}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1918\"},{\"label\":\"设备信息-悬浮框（诊断）\",\"path\":\"overlay\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var list = [{\\n          label : \\\"速度有效值\\\",\\n          value : parseInt(Math.random() * 10)\\n        },{\\n          label : \\\"冲击有效值\\\",\\n          value : parseInt(Math.random() * 10)\\n        }]\\n        var ctrlGroups = [];\\n        var createTd = function(elem){\\n          return [{\\n            type : \\\"label\\\",\\n            value : elem.label,\\n            style : {\\n              \\\"text-align\\\" : \\\"center\\\",\\n              \\\"padding\\\" : \\\"5px\\\"\\n            }\\n          },{\\n            type : \\\"label\\\",\\n            value : elem.value,\\n            style : {\\n              \\\"padding\\\" : \\\"5px\\\",\\n              \\\"text-align\\\" : \\\"center\\\",\\n              \\\"background-color\\\" : \\\"rgba(250,250,250,.1)\\\"\\n            }\\n          },{\\n              type : \\\"button\\\",\\n              value : \\\"诊断\\\",\\n              icon : \\\"glyphicon glyphicon-search\\\",\\n              btnclass : elem.value > 5 ? \\\"btn-sm btn-danger\\\" : \\\"btn-sm btn-primary\\\",\\n              on : {\\n                click : function(el){\\n                  target.navigateTo(\\\"detect\\\", {\\n                      tabLabel : elem.label\\n                  });\\n                }\\n              }\\n            }]\\n        }\\n        for(var i in list){\\n          ctrlGroups.push(createTd(list[i]));\\n        }\\n        target.render(ctrlGroups);\\n        setTimeout(function(){\\n            render();\\n        }, 10000)\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:3155\"},{\"label\":\"设备信息-设备参数\",\"path\":\"detect\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"8px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var pages = target.getPages();\\n      var ctrlGroups = [];\\n      var tr = [];\\n      ctrlGroups.push(tr)\\n      var createPage = function(i, page){\\n          return {\\n              type : \\\"label\\\",\\n              linkage : true,\\n              value : page.tabLabel || \\\"标签\\\",\\n              on : {\\n                  click : function(event){\\n                      target.moveTo(page.path);\\n                  }\\n              }\\n          }\\n      }\\n      for(var i in pages){\\n          tr.push(createPage(i, pages[i]));\\n          if(i < pages.length - 1){\\n             tr.push({\\n                type : \\\"label\\\",\\n                value : \\\" > \\\"\\n             }); \\n          };\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"clock\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          value : function(time){\\n              return \\\"当前时间 ： \\\" + time\\n          },\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"float\\\" : \\\"right\\\",\\n              \\\"font-weight\\\" : \\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n      var render = function(){\\n          var format = [{\\n              name : \\\"time\\\",\\n              label : \\\"检测时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"value\\\",\\n              label : \\\"检测值\\\",\\n              render : function(){\\n                  return random(10, 2);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"单位\\\",\\n              render : function(){\\n                  return randomText(['mm/s']);\\n              }\\n          },{\\n              name : \\\"alertType\\\",\\n              label : \\\"报警类别\\\",\\n              type : \\\"priority\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"attention\\\",\\n              label : \\\"注意值\\\",\\n              render : function(){\\n                  return random(10, 2);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"报警值\\\",\\n              render : function(){\\n                  return random(10, 2);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"警告值\\\",\\n              render : function(){\\n                  return random(10, 2);\\n              }\\n          },{\\n              name : \\\"F5force\\\",\\n              label : \\\"F5轧制力\\\",\\n              render : function(){\\n                  return random(10, 2);\\n              }\\n          },{\\n              name : \\\"F4force\\\",\\n              label : \\\"F4轧制力\\\",\\n              render : function(){\\n                  return random(10, 2);\\n              }\\n          },{\\n              name : \\\"F3force\\\",\\n              label : \\\"F3轧制力\\\",\\n              render : function(){\\n                  return random(10, 2);\\n              }\\n          },{\\n              name : \\\"F2force\\\",\\n              label : \\\"F2轧制力\\\",\\n              render : function(){\\n                  return random(10, 2);\\n              }\\n          },{\\n              name : \\\"F1force\\\",\\n              label : \\\"F1轧制力\\\",\\n              render : function(){\\n                  return random(10, 2);\\n              }\\n          },{\\n              name : \\\"curve\\\",\\n              label : \\\"波形\\\",\\n              render : function(){\\n                  return randomText(['有','有']);\\n              }\\n          },{\\n              name : \\\"status\\\",\\n              label : \\\"数据状态\\\",\\n              render : function(){\\n                  return randomText(['正常','异常']);\\n              }\\n          },{\\n              name : \\\"collect\\\",\\n              label : \\\"采集状态\\\",\\n              render : function(){ \\n                  return randomText(['轧制','空载']);\\n              }\\n          }]\\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 20; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\"\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"趋势图\\\",\\n          class : \\\"col-md-12\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"}}]}],\"parameters\":{}}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:2212\"},{\"label\":\"设备信息-设备参数分析\",\"path\":\"analysis\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var pages = target.getPages();\\n      var ctrlGroups = [];\\n      var tr = [];\\n      ctrlGroups.push(tr)\\n      var createPage = function(i, page){\\n          return {\\n              type : \\\"label\\\",\\n              linkage : true,\\n              value : page.tabLabel || \\\"标签\\\",\\n              on : {\\n                  click : function(event){\\n                      target.moveTo(page.path);\\n                  }\\n              }\\n          }\\n      }\\n      for(var i in pages){\\n          tr.push(createPage(i, pages[i]));\\n          if(i < pages.length - 1){\\n             tr.push({\\n                type : \\\"label\\\",\\n                value : \\\" > \\\"\\n             }); \\n          };\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"clock\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          value : function(time){\\n              return \\\"采集时间 ： \\\" + time\\n          },\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"float\\\" : \\\"right\\\",\\n              \\\"font-weight\\\" : \\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":4}]},{\"label\":\"TAB标签\",\"type\":\"tab\",\"source\":\"TAB\",\"parameters\":{\"align\":\"horizental\"},\"style\":{\"margin\":\"5px\"},\"children\":[{\"tabName\":\"时域波形\",\"tabId\":\"0\",\"default\":true,\"display\":\"block\",\"type\":\"tabItem\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"15px\",\"border\":\"1px solid #eee\",\"border-top\":0},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":7},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      var render = function(){\\n          var type = target.getValue(\\\"type\\\") || 0;\\n          var feature = target.getValue(\\\"type\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"radio\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"200px\\\"\\n              },\\n              value : 1,\\n              options : [{\\n                  id : 0,\\n                  label : \\\"显示谱峰\\\"\\n              },{\\n                  id : 1,\\n                  label : \\\"不显示\\\"\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"倍频\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : type == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 1){\\n                          target.setValue(\\\"type\\\", 1);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"边带\\\",\\n                icon : \\\"glyphicon glyphicon-list\\\",\\n                btnclass : type == 2 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 2){\\n                          target.setValue(\\\"type\\\", 2);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"特征值\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : feature == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      \\n                  }\\n                }\\n              }]\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      };\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":5}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var dataList = (function(){\\n        var rs = [];\\n        var inx = 0;\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          rs.push(inx + \\\"\\\");\\n          inx ++;\\n        }\\n        return rs;\\n      })();\\n      var valueList = (function(){\\n        var rs = [];\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          var nu = 0;\\n          for(var j=0; j<8; j++){\\n            nu += (Math.pow((1 / (j+1)), 3) * Math.sin(i * Math.pow(3 ,j))) * 10 + Math.random() * 1.3;\\n          };\\n          rs.push(nu.toFixed(2));\\n        };\\n        return rs;\\n      })();\\n      var data = [];\\n      for (var i = 0; i < dataList.length; i++) {\\n        data.push([dataList[i], valueList[i]])\\n      }\\n      var dateList = data.map(function (item) {\\n        return item[0];\\n      });\\n      var valueList = data.map(function (item) {\\n        return item[1];\\n      });\\n      var render = function(init, sub){\\n          console.log(\\\"init\\\", init, sub);\\n        var type = target.getValue(\\\"type\\\") || 0;\\n        var x0 = target.getValue(\\\"x0\\\") || 0;\\n        var x1 = target.getValue(\\\"x1\\\") || 180;\\n        if(type == 0){\\n            var markLine = undefined;\\n            var markPoint = undefined;\\n        } else if(type == 1){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                  width : 1,\\n                  color : \\\"#436fff\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n              normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var item = {\\n                    xAxis: x0 * (i + 2) + ''\\n                  };\\n                  rs.push(item)\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n            var markPoint = {\\n                symbol : \\\"circle\\\",\\n                symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n    //                        formatter: '{b}: {d}'\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"blue\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var yData = data[x0 / 1 * (i + 2)];\\n                  if (yData) {\\n                    var item = {\\n                      xAxis: x0 * (i + 2) + '',\\n                      yAxis: yData[1]\\n                    };\\n                    rs.push(item)\\n                  }\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n        } else if(type == 2){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                    color : \\\"red\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n                normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                    xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                  })\\n                };\\n                return rs;\\n              })()\\n            };\\n            var markPoint = {\\n              symbol : \\\"circle\\\",\\n              symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"red\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                      xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                      yAxis : valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                  })\\n                };\\n                return rs;\\n              })()\\n            }\\n        };\\n        var option = {\\n          grid: [{\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }, {\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }],\\n          tooltip: {\\n            \\\"alwaysShowContent\\\": true,\\n            triggerOn: 'none'\\n          },\\n          xAxis: [{\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                show: true,\\n                formatter: function (val) {\\n                    console.log(\\\"a\\\", type);\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x0\\\", val.value);\\n                    target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    console.log(\\\"a--init\\\", init);\\n                    if(type == 1){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"blue\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n              },\\n              \\\"value\\\": x0,\\n              snap: false,\\n            }\\n          }, {\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x1\\\", val.value)\\n                    target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 2){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"red\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n\\n              },\\n              \\\"value\\\": x1,\\n              snap: false,\\n            },\\n            gridIndex: 1\\n          }],\\n          yAxis: [{\\n            splitLine: {show: true}\\n\\n          }, {\\n            splitLine: {show: false},\\n            gridIndex: 1\\n          }],\\n          dataZoom: [\\n            {\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n              xAxisIndex: [0,1]\\n            }\\n          ],\\n          series: [{\\n            type: 'line',\\n            showSymbol: false,\\n            data:valueList,\\n            markLine : markLine,\\n            markPoint : markPoint\\n          }, {\\n            type: 'line',\\n            showSymbol: false,\\n            lineStyle : {\\n              normal : {\\n                opacity : 0\\n              }\\n            },\\n            data:valueList,\\n            xAxisIndex: 1,\\n            yAxisIndex: 1\\n          }]\\n        };\\n        option\\n        target.render(option);\\n      };\\n      render();\\n      target.on(\\\"renderChart\\\", function(){\\n          render(undefined, \\\"renderChart\\\");\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"default\"}}],\"col\":9},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"border\":\"1px solid #eee\",\"min-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [];\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n      var createTr = function(){\\n        return [{\\n          type : \\\"jquery\\\",\\n          render : function(){\\n              var div = $(\\\"<div></div>\\\");\\n              div.width(20);\\n              div.height(20);\\n              div.css(\\\"background-color\\\", randomText([\\\"orange\\\", \\\"red\\\"]));\\n              div.css(\\\"border-radius\\\", \\\"50%\\\");\\n              return div;\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"Z1 0.00/0.09\\\",\\n          style : {\\n              \\\"margin-left\\\" : \\\"20px\\\"\\n          }\\n        }]\\n      }\\n      for(var i = 0; i < 5; i++){\\n          ctrlGroups.push(createTr());\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}}],\"col\":3}]}]}],\"advance\":{\"expression\":{}}}]},{\"tabName\":\"频域波形\",\"tabId\":\"1\",\"type\":\"tabItem\",\"display\":\"none\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"15px\",\"border\":\"1px solid #eee\",\"border-top\":0},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var type = target.getValue(\\\"type\\\") || 0;\\n          var feature = target.getValue(\\\"type\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            },{\\n              type : \\\"radio\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"200px\\\"\\n              },\\n              value : 1,\\n              options : [{\\n                  id : 0,\\n                  label : \\\"显示谱峰\\\"\\n              },{\\n                  id : 1,\\n                  label : \\\"不显示\\\"\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"倍频\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : type == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 1){\\n                          target.setValue(\\\"type\\\", 1);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"边带\\\",\\n                icon : \\\"glyphicon glyphicon-list\\\",\\n                btnclass : type == 2 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 2){\\n                          target.setValue(\\\"type\\\", 2);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"特征值\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : feature == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"feature\\\") != 1){\\n                          target.setValue(\\\"type\\\", 1);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              }]\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var valueList = (function(){\\n        var rs = [];\\n        var freq = Math.random() * 5;\\n        for(var i=0; i < 50 * Math.PI; i += (freq * Math.PI /180)){\\n          freq = Math.random() * 10\\n          nu = Math.sin(i) * Math.random() * Math.random() * Math.random() * 20;\\n          nu = nu.toFixed(2)\\n          rs.push(nu > 0 ? nu : 0);\\n        }\\n        return rs;\\n      })();\\n      var dataList = (function(){\\n        var rs = [];\\n        for(var i in valueList){\\n          rs.push(i + \\\"\\\");\\n        }\\n        return rs;\\n      })();\\n      var render = function(init){\\n        var type = target.getValue(\\\"type\\\") || 0;\\n        var x0 = target.getValue(\\\"x0\\\") || 0;\\n        var x1 = target.getValue(\\\"x1\\\") || 180;\\n        if(type == 0){\\n          var markLine = undefined;\\n          var markPoint = undefined;\\n        } else if(type == 1){\\n          var markLine = {\\n            animation: false,\\n            symbol: 'none',\\n            silent: false,\\n            lineStyle: {\\n              normal: {\\n                color : \\\"#436fff\\\",\\n                type: 'solid'\\n              }\\n            },\\n            label: {\\n              normal: {\\n                show: true,\\n                formatter : function(elem){\\n                  return elem.data.value + \\\"Hz\\\";\\n                }\\n              }\\n            },\\n            data : (function(){\\n              var rs = [];\\n              for(var i = 0; i < 10; i++){\\n                rs.push({\\n                  xAxis : x0 * (i + 2) + ''\\n                })\\n              };\\n              return rs;\\n            })()\\n          }\\n          var markPoint = {\\n            symbol : \\\"circle\\\",\\n            symbolSize : 8,\\n            animation: false,\\n            silent: false,\\n            itemStyle : {\\n              normal : {\\n                color : \\\"#fff\\\",\\n                borderColor : \\\"#436fff\\\"\\n              }\\n            },\\n            data : (function(){\\n              var rs = [];\\n              for(var i = 0; i < 10; i++){\\n                rs.push({\\n                  xAxis : i * x0,\\n                  yAxis : valueList[i * x0]\\n                })\\n              };\\n              return rs;\\n            })()\\n          }\\n        } else if(type == 2){\\n          var markLine = {\\n            animation: false,\\n            symbol: 'none',\\n            silent: false,\\n            lineStyle: {\\n              normal: {\\n                color : \\\"red\\\",\\n                type: 'solid'\\n              }\\n            },\\n            label: {\\n              normal: {\\n                show: true,\\n                color : \\\"red\\\",\\n                formatter : function(elem){\\n                  return elem.data.value + \\\"Hz\\\";\\n                }\\n              }\\n            },\\n            data : (function(){\\n              var rs = [];\\n              for(var i = -5; i < 5; i++){\\n                rs.push({\\n                  xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                })\\n              };\\n              return rs;\\n            })()\\n          };\\n          var markPoint = {\\n            symbol : \\\"circle\\\",\\n            symbolSize : 8,\\n            animation: false,\\n            silent: false,\\n            label: {\\n              normal: {\\n                show: false\\n                //                        formatter: '{b}: {d}'\\n              }\\n            },\\n            itemStyle : {\\n              normal : {\\n                color : \\\"#fff\\\",\\n                borderColor : \\\"red\\\"\\n              }\\n            },\\n            data : (function(){\\n              var rs = [];\\n              for(var i = -5; i < 5; i++){\\n                rs.push({\\n                  xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                  yAxis : valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                })\\n              };\\n              return rs;\\n            })()\\n          }\\n        };\\n        var option = {\\n          grid: [{\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }, {\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }],\\n          tooltip: {\\n            \\\"alwaysShowContent\\\": true,\\n            triggerOn: 'none'\\n          },\\n          xAxis: [{\\n            data: dataList,\\n            boundaryGap : false,\\n            axisPointer: {\\n              label: {\\n                show: true,\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x0\\\", val.value);\\n                    target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 1){\\n                        if(init == false){\\n                          render(undefined, \\\"a\\\");\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"blue\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n              },\\n              \\\"value\\\": x0,\\n              snap: false,\\n            }\\n          }, {\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x1\\\", val.value)\\n                    target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 2){\\n                        if(init == false){\\n                          render(undefined, \\\"b\\\");\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"red\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n\\n              },\\n              \\\"value\\\": x1,\\n              snap: false,\\n            },\\n            gridIndex: 1\\n          }],\\n          yAxis: [{\\n            splitLine: {show: true}\\n\\n          }, {\\n            splitLine: {show: false},\\n            gridIndex: 1\\n          }],\\n          dataZoom: [\\n            {\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n              xAxisIndex: [0,1]\\n            }\\n          ],\\n          series: [{\\n            type: 'line',\\n            showSymbol: false,\\n            data:valueList,\\n            markLine : markLine,\\n            markPoint : markPoint\\n          }, {\\n            type: 'line',\\n            showSymbol: false,\\n            lineStyle : {\\n              normal : {\\n                opacity : 0\\n              }\\n            },\\n            data:valueList,\\n            xAxisIndex: 1,\\n            yAxisIndex: 1\\n          }]\\n        };\\n        target.render(option);\\n      };\\n      render();\\n      target.on(\\\"renderChart\\\", function(){\\n        render();\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"default\"}}],\"col\":9},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"border\":\"1px solid #eee\",\"min-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [];\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n      var createTr = function(){\\n        return [{\\n          type : \\\"jquery\\\",\\n          render : function(){\\n              var div = $(\\\"<div></div>\\\");\\n              div.width(20);\\n              div.height(20);\\n              div.css(\\\"background-color\\\", randomText([\\\"orange\\\", \\\"red\\\"]));\\n              div.css(\\\"border-radius\\\", \\\"50%\\\");\\n              return div;\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"Z1 0.00/0.09\\\",\\n          style : {\\n              \\\"margin-left\\\" : \\\"20px\\\"\\n          }\\n        }]\\n      }\\n      for(var i = 0; i < 5; i++){\\n          ctrlGroups.push(createTr());\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}}],\"col\":3}]}]}],\"advance\":{\"expression\":{}}}]}]}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:3351\"},{\"label\":\"热轧厂\",\"path\":\"factory\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"8px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"数结构导航\",\"type\":\"navitree\",\"source\":\"NAVITREE\",\"advance\":{\"expression\":\"\"}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"clock\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          value : function(time){\\n              return \\\"当前时间 ： \\\" + time\\n          },\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"float\\\" : \\\"right\\\",\\n              \\\"font-weight\\\" : \\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var id = target.getParameter(\\\"id\\\");\\n      target.getDomainAreaLineTree(function(domaintree){\\n        var find = domaintree.find(function(node){\\n          return node.id == id;\\n        });\\n        if(find){\\n          var children = find.getChildren();\\n          var viewId = find.$attr(\\\"view/viewId\\\");\\n          target.getViewById(viewId, function(view){\\n            var content = view.content;\\n            var json = JSON.parse(content);\\n            target.render(json);\\n            target.on(\\\"$loadCiKpiComplete\\\", function(cells){\\n              for(var i in cells){\\n                cells[i].attr(\\\"circle/opacity\\\", 0);\\n                cells[i].attr(\\\"text/opacity\\\", 0);\\n              }\\n              var createMarker = function(index, node){\\n                var cell = cells[index] || {};\\n                var position;\\n                if(cell){\\n                  position = cell.position();\\n                } else {\\n                  position = {\\n                    x : Math.floor(100 + Math.random() * 300),\\n                    y : Math.floor(100 + Math.random() * 200)\\n                  }\\n                }\\n                target.createMarker(node.label, function(ins){\\n                  ins.setPos(position);\\n                  ins.on(\\\"click\\\", function(event){\\n                    target.navigateTo(\\\"index\\\", {\\n                      main : [0, \\\"production\\\"],\\n                      id : node.id\\n                    })\\n                  })\\n                });\\n              };\\n              for(var i in children){\\n                createMarker(i, children[i])\\n              }\\n            });\\n          });\\n        }\\n\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"450px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826065,\"parameters\":{}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"18px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"状态总览 \\\");\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            var global = event.global;\\n            var random = function(){\\n                return parseInt(Math.random() * 50);\\n            }\\n            var list = [\\\"宝山\\\",\\\"东山\\\",\\\"青山\\\",\\\"梅山\\\"].map(function(province){\\n                return {\\n                    province : province,\\n                    data : [{\\n                        name : \\\"警告\\\",\\n                        value : random(),\\n                    },{\\n                        name : \\\"预警\\\",\\n                        value : random(),\\n                    },{\\n                        name : \\\"正常\\\",\\n                        value : random(),\\n                    }]\\n                }\\n            });\\n            target.render(list);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":3,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var sum = 0;\\n            for(var i in data.data){\\n                sum += data.data[i].value;\\n            }\\n            target.setText(data.province + \\\" \\\" + sum);\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n       var colors = [ \\\"#0ca4fe\\\", \\\"#e8b609\\\", \\\"#e74e54\\\" ];\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [];\\n      var createTr = function(index, element){\\n        return [{\\n          type : \\\"jquery\\\",\\n          render : function(){\\n              var wrap = $(\\\"<div></div>\\\");\\n              var title = $(\\\"<div></div>\\\");\\n              var bar = $(\\\"<div></div>\\\");\\n              wrap.css(\\\"height\\\", \\\"30px\\\");\\n              wrap.css(\\\"width\\\", \\\"40px\\\");\\n              wrap.css(\\\"margin\\\", \\\"auto\\\");\\n              bar.css(\\\"width\\\", \\\"10px\\\");\\n              bar.css(\\\"height\\\", \\\"30px\\\");\\n              bar.css(\\\"background-color\\\", colors[index]);\\n              bar.css(\\\"position\\\", \\\"absolute\\\");\\n              wrap.css(\\\"position\\\", \\\"relative\\\");\\n              bar.css(\\\"left\\\", \\\"25px\\\");\\n              wrap.append(bar);\\n              title.css(\\\"text-align\\\", \\\"right\\\");\\n              title.css(\\\"color\\\", \\\"#a0a0a0\\\");\\n              title.css(\\\"margin-right\\\", \\\"15px\\\");\\n              title.css(\\\"position\\\", \\\"absolute\\\");\\n              title.css(\\\"font-size\\\", \\\"12px\\\");\\n              title.text(element.name);\\n              var value = $(\\\"<div></div>\\\");\\n              value.css(\\\"color\\\", \\\"#fff\\\");\\n              value.css(\\\"position\\\", \\\"absolute\\\");\\n              value.css(\\\"font-size\\\", \\\"14px\\\");\\n              value.css(\\\"text-align\\\", \\\"right\\\");\\n              value.css(\\\"font-weight\\\", \\\"bold\\\");\\n              value.text(element.value);\\n              value.css(\\\"top\\\", \\\"14px\\\");\\n              wrap.append(title);\\n              wrap.append(value);\\n              return wrap;\\n          }\\n        }]\\n      }\\n      for(var i = target.$repeatData.data.length - 1; i >= 0; i--){\\n         ctrlGroups.push(createTr(i, target.$repeatData.data[i]));\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":6},{\"type\":\"column\",\"children\":[{\"label\":\"SVG视图\",\"type\":\"svgchart\",\"source\":\"SVGCHART\",\"advance\":{\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n        var  target = event.target;\\n        var repeatData = target.$repeatData;\\n        var barOption = {\\n          title: {\\n            text: 'svgChart入门示例'\\n          },\\n          grid : {\\n              top : \\\"0%\\\",\\n              left : \\\"10%\\\"\\n          },\\n          legend: {\\n            data: ['销量']\\n          },\\n          xAxis: {\\n            show : false,\\n            data: [\\\"衬衫\\\", \\\"羊毛衫\\\", \\\"雪纺衫\\\", \\\"裤子\\\", \\\"高跟鞋\\\", \\\"袜子\\\"]\\n          },\\n          yAxis: {\\n              show : false\\n          },\\n          series: [{\\n            stack : \\\"总量\\\",\\n            name: '销量1',\\n            type: '3dbar',\\n            data: [repeatData.data[0].value]\\n          },{\\n              stack : \\\"总量\\\",\\n            name: '销量2',\\n            type: '3dbar',\\n            data: [repeatData.data[1].value]\\n          },{\\n              stack : \\\"总量\\\",\\n            name: '销量3',\\n            type: '3dbar',\\n            data: [repeatData.data[2].value]\\n          }]\\n        };\\n        target.render(barOption);\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"0px\",\"font-size\":\"12px\",\"height\":\"130px\"},\"parameters\":{}}],\"col\":6}]}]}],\"style\":{}}]}],\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin-top\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"诊断绩效统计（当月内）\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    bootstrap : true,\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var column = ['区域','综合诊断准确率','智能诊断准确率','大数据模型预警准确率'];\\n      var inx = 0;\\n      var ctrlGroups = [\\n        column.map(function(elem){\\n          var a = {\\n            type : \\\"label\\\",\\n            value : elem,\\n            class : inx ? (inx == 3 ?\\\"col-md-4\\\" : \\\"col-md-3\\\") : \\\"col-md-2\\\",\\n            style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n          }\\n          inx++;\\n          return a;\\n        })\\n      ];\\n      var row = ['宝山','东山','青山','梅山','天山','松山']\\n      for(var i in row){\\n        var arr = [{\\n          type : \\\"label\\\",\\n          value : row[i],\\n          class : \\\"col-md-2\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n        }];\\n        for(var i in column.slice(1,4)){\\n            var rnd = Math.floor(Math.random() * 100);\\n          Array.prototype.push.apply(arr, [{\\n            type : \\\"label\\\",\\n            value : rnd + \\\"%\\\",\\n            class : \\\"col-md-1\\\",\\n            style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n            }\\n          },{\\n            type : \\\"progressbar\\\",\\n            value : rnd,\\n            class : i == 2 ? \\\"col-md-3\\\" : \\\"col-md-2\\\"\\n          }])\\n        }\\n        ctrlGroups.push(arr);\\n      };\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    title:{\\n        text:'1580产线',\\n        textStyle:{\\n            color:'#ccc'\\n        },\\n        bottom:'10px'\\n    },\\n    tooltip: {\\n        trigger: 'item',\\n        formatter: \\\"{a} <br/>{b}: {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        orient: 'vertical',\\n        x: 'left',\\n        data:['已完成状态项目数','待完成状态项目数']\\n    },\\n    series: [\\n        {\\n            name:'访问来源',\\n            type:'pie',\\n            radius: ['50%', '70%'],\\n            avoidLabelOverlap: false,\\n            label: {\\n                normal: {\\n                    show: false,\\n                    position: 'center'\\n                },\\n                emphasis: {\\n                    show: true,\\n                    formatter:\\\" {d}%\\\",\\n                    textStyle: {\\n                        fontSize: '30',\\n                        fontWeight: 'bold'\\n                    }\\n                }\\n            },\\n            labelLine: {\\n                normal: {\\n                    show: false\\n                }\\n            },\\n            data:[\\n                {value:335, name:'已完成状态项目数'},\\n                {value:310, name:'待完成状态项目数'}\\n            ]\\n        }\\n    ]\\n};\\n\\n                    \\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"},\"url\":\"images/map/map1.png\"}],\"col\":6},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    title:{\\n        text:'1580产线',\\n        textStyle:{\\n            color:'#ccc'\\n        },\\n        bottom:'10px'\\n    },\\n    tooltip: {\\n        trigger: 'item',\\n        formatter: \\\"{a} <br/>{b}: {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        show:false,\\n        orient: 'vertical',\\n        x: 'left',\\n        data:['已完成状态项目数','待完成状态项目数']\\n    },\\n    series: [\\n        {\\n            name:'访问来源',\\n            type:'pie',\\n            radius: ['50%', '70%'],\\n            avoidLabelOverlap: false,\\n            label: {\\n                normal: {\\n                    show: false,\\n                    position: 'center'\\n                },\\n                emphasis: {\\n                    show: true,\\n                    formatter:\\\" {d}%\\\",\\n                    textStyle: {\\n                        fontSize: '30',\\n                        fontWeight: 'bold'\\n                    }\\n                }\\n            },\\n            labelLine: {\\n                normal: {\\n                    show: false\\n                }\\n            },\\n            data:[\\n                {value:335, name:'已完成状态项目数'},\\n                {value:310, name:'待完成状态项目数'}\\n            ]\\n        }\\n    ]\\n};\\n\\n                    \\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"},\"url\":\"images/map/map1.png\"}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    title:{\\n        text:'1580产线',\\n        textStyle:{\\n            color:'#ccc'\\n        },\\n        bottom:'10px'\\n    },\\n    tooltip: {\\n        trigger: 'item',\\n        formatter: \\\"{a} <br/>{b}: {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        show:false,\\n        orient: 'vertical',\\n        x: 'left',\\n        data:['已完成状态项目数','待完成状态项目数']\\n    },\\n    series: [\\n        {\\n            name:'访问来源',\\n            type:'pie',\\n            radius: ['50%', '70%'],\\n            avoidLabelOverlap: false,\\n            label: {\\n                normal: {\\n                    show: false,\\n                    position: 'center'\\n                },\\n                emphasis: {\\n                    show: true,\\n                    formatter:\\\" {d}%\\\",\\n                    textStyle: {\\n                        fontSize: '30',\\n                        fontWeight: 'bold'\\n                    }\\n                }\\n            },\\n            labelLine: {\\n                normal: {\\n                    show: false\\n                }\\n            },\\n            data:[\\n                {value:335, name:'已完成状态项目数'},\\n                {value:310, name:'待完成状态项目数'}\\n            ]\\n        }\\n    ]\\n};\\n\\n                    \\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"},\"url\":\"images/map/map1.png\"}],\"col\":3}],\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"异常预报分类（当月内）\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"url\":\"images/map/map1.png\"},{\"label\":\"SVG视图\",\"type\":\"svgchart\",\"source\":\"SVGCHART\",\"advance\":{\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var  target = event.target;\\n      var repeatData = target.$repeatData;\\n      var values = (function(){\\n        var rs = [];\\n        for(var i = 0; i<8; i++){\\n          rs.push(parseInt(Math.random() * 30));\\n        }\\n        return rs;\\n      })();\\n      var legends = (function(){\\n        var rs = [];\\n        for(var i = 0; i<8; i++){\\n          rs.push(\\\"项目\\\" + i);\\n        }\\n        return rs;\\n      })();\\n      var barOption = {\\n        title: {\\n          text: 'svgChart入门示例'\\n        },\\n        grid : {\\n          left : \\\"10%\\\",\\n          height : \\\"80%\\\",\\n          top : \\\"5%\\\"\\n        },\\n        legend: {\\n          data: ['销量']\\n        },\\n        xAxis: {\\n          show : true,\\n          base : {\\n              show : true\\n          },\\n          data: legends,\\n          axisLine : {\\n            show : false,\\n          },\\n          axisTick : {\\n            show : false\\n          },\\n          axisLabel : {\\n            margin : 26,\\n            color : \\\"#eee\\\"\\n          }\\n        },\\n        yAxis: {\\n          show : true,\\n          max : 30,\\n          splitNumber : 5,\\n          axisLine : {\\n            show : true,\\n            lineStyle : {\\n              color : \\\"rgba(250,250,250,.3)\\\"\\n            }\\n          },\\n          axisTick : {\\n            color : \\\"#eee\\\",\\n            show : true\\n          },\\n          axisLabel : {\\n            margin : 20,\\n            color : \\\"#eee\\\"\\n          }\\n        },\\n        series: [{\\n          stack : \\\"总量\\\",\\n          name: '销量1',\\n          barwidth : .4,\\n          type: '3dbar',\\n          colors : values.map(function(elem){\\n            if(elem > 25){\\n              return \\\"#fc6161\\\";\\n            } else if(elem > 12){\\n              return \\\"#fcd661\\\";\\n            } else if(elem > 5){\\n              return \\\"#048cff\\\";\\n            } else {\\n              return \\\"#79e4e4\\\";\\n            }\\n          }),\\n          data: values\\n        }]\\n      };\\n      target.render(barOption);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\",\"height\":\"420px\"},\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"7\",\"$$hashKey\":\"object:1364\"},{\"label\":\"下拉框\",\"path\":\"page8\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"列表\",\"type\":\"listTable\",\"source\":\"LISTTABLE\",\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n\\ton : {\\n\\tinit:function (event) {\\n    var target = event.target;\\n    var global = event.global;\\n    var params =  target.getPopupData();\\n    console.log( params)\\n    event.self.getResourcesByProjectId(params, function(resources){\\n          event.self.render(resources);\\n          console.log(resources)\\n    });\\n\\t},\\n    click : function(event){\\n        //console.log(event.data.id)\\n        var deviceId = event.data.id\\n      \\tevent.target.navigateTo(\\\"index\\\", {\\n                      main : [0, \\\"device\\\"],\\n                      id : deviceId\\n                     })\\n        event.target.cancel();\\n        \\n     }\\n  },\\n format : [\\n    {\\n      \\\"name\\\": \\\"设备名称\\\",\\n      \\\"value\\\": \\\"item.label\\\",\\n      \\\"type\\\": \\\"text\\\"\\n    }\\n  ]\\n}\",\"condition\":\"[]\",\"variable\":\"\",\"getListTable\":\"newdevice\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"8\",\"$$hashKey\":\"object:815\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\",\\n  \\\"style\\\": {\\n    \\\"padding\\\": \\\"15px\\\"\\n  }\\n}\"}"
    },
    {
      "viewTitle": "设备状态(工作台配置文件_baogang/device)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"overflow\":\"auto\",\"background-color\":\"#04131e\",\"border\":\"0\",\"height\":\"calc( 100vh - 115px)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expression = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      target.getDomainAreaLineTree_alertStatus(function(domaintree){\\n        domaintree.traverse(function(node){\\n          node.showfold = true;\\n          node.searchable = true;\\n          node.folderStyle = 1;\\n          node.icon = \\\"tag tag-green\\\";\\n          node.showDescription = false;\\n          node.triggerEvent = \\\"fold\\\";\\n          if(node.resourceType == \\\"device\\\"){\\n            node.label;\\n            node.on = {\\n              click : function(node){\\n                debugger;\\n                node = node.node;\\n                if(node.setHighlight){\\n                  node.setHighlight(true);\\n                };\\n                var str = node.label;\\n                node.traverseParents(function(parent){\\n                  str = parent.label + \\\" / \\\" + str;\\n                });\\n                target.setValue(\\\"global/resource\\\", node);\\n                target.trigger(\\\"tree_resourceChange\\\", {\\n                  resource : node\\n                });\\n                target.trigger(\\\"changeNavString\\\", str);\\n              }\\n            }\\n          }\\n        });\\n        var treeDataMap = target.render(domaintree);\\n        var resource = target.getValue(\\\"global/resource\\\");\\n        if(!resource){\\n          treeDataMap.traverse(function(node){\\n            if(!resource && node.category == \\\"Device\\\"){\\n              resource = node;\\n            }\\n          });\\n          debugger;\\n          target.setValue(\\\"global/resource\\\", resource);\\n        };\\n        var str = resource.label;\\n        resource.traverseParents(function(parent){\\n          str = parent.label + \\\" / \\\" + str;\\n        });\\n        target.trigger(\\\"tree_resourceChange\\\", {\\n          resource : resource\\n        });\\n        debugger;\\n        target.setValue(\\\"global/navistring\\\", str);\\n        target.trigger(\\\"changeNavString\\\", str);\\n        treeDataMap.traverse(function(node){\\n          if(node.level > 2){\\n              var find = node.find(function(nd){\\n                  return nd.id == resource.id;\\n              });\\n            if(find){\\n                find.setHighlight(true);\\n              if(typeof node.open == \\\"function\\\"){\\n                node.open();\\n              };\\n            } else {\\n              if(typeof node.close == \\\"function\\\"){\\n                node.close();\\n              };\\n            }\\n          } else {\\n            if(typeof node.open == \\\"function\\\"){\\n              node.open();\\n            };\\n          }\\n          if(node == resource){\\n            if(node.setHighlight){\\n              node.setHighlight(true);\\n            };\\n          }\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"},\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"max-height\":\"calc( 100vh - 115px)\",\"overflow-y\":\"scroll\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px 15px\",\"margin\":\"0 5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(str){\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"label\\\",\\n              value : str || \\\"普通标签\\\",\\n              style : {\\n                  \\\"font-weight\\\" : \\\"bold\\\",\\n                  \\\"color\\\" : \\\"#72b3d7\\\",\\n                  \\\"line-height\\\" : \\\"20px\\\"\\n              },\\n              class : \\\"col-md-12\\\"\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n      }\\n      var naviString = target.getValue(\\\"global/navistring\\\");\\n      render(naviString || \\\"读取中请稍后。。。\\\");\\n      target.off(\\\"changeNavString\\\");\\n      target.on(\\\"changeNavString\\\", function(str){\\n          render(str);\\n      });;\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"0 5px\",\"font-size\":\"12px\",\"color\":\"#72b3d7\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"0 15px 5px 15px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      target.render();\\n      target.on(\\\"$loadCiKpiComplete\\\", function(cells){\\n        for(var i in cells){\\n            if(cells[i].attributes.type == \\\"basic.Rect\\\"){\\n                cells[i].attr(\\\"rect/opacity\\\", 0);\\n                target.createAttrDisp(\\\"电机复合侧轴振动\\\", [{\\n                    label : \\\"速度有效值\\\",\\n                    value : \\\"30\\\"\\n                },{\\n                    label : \\\"冲击有效值\\\",\\n                    value : \\\"12\\\"\\n                }], cells[i].position());\\n            } else if(cells[i].attributes.type == \\\"basic.Circle\\\"){\\n                cells[i].attr(\\\"circle/opacity\\\", 0);\\n                cells[i].attr(\\\"text/opacity\\\", 0);\\n            } else if(cells[i].attributes.type == \\\"link\\\"){\\n                //cells[i].attr(\\\"circle/opacity\\\", 0);\\n                console.log(cells[i]);\\n                cells[i].attr(\\\".connection/stroke\\\", \\\"#1f8fd8\\\");\\n                cells[i].attr(\\\".connection/stroke-width\\\", 6);\\n                cells[i].attr(\\\".marker-target/visibility\\\", \\\"hidden\\\");\\n            };\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":546900339506067}]}],\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"normal\",\"text-align\":\"left\",\"color\":\"rgb(255, 255, 255)\",\"border-bottom\":\"1px solid #666\",\"line-height\":\"30px\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      target.off(\\\"tree_resourceChange\\\");\\n      var render = function(resource){\\n        var ctrlGroups = [];\\n        var attrNames = {\\n          modelNo : \\\"设备型号\\\",\\n          series : \\\"序列号\\\",\\n          type : \\\"设备类型\\\",\\n          brands : \\\"设备品牌\\\",\\n          productionDate : \\\"接入时间\\\",\\n          runtime : \\\"运行时长\\\",\\n          state : \\\"当前状态\\\",\\n          scope : \\\"加工范围\\\",\\n          density : \\\"加工精度\\\",\\n          utilization : \\\"利用率\\\",\\n          yield : \\\"平均产品合格率\\\"\\n        }\\n        for(var i in attrNames){\\n          if(attrNames[i]){\\n            ctrlGroups.push([{\\n              type : \\\"label\\\",\\n              value : attrNames[i] + \\\"：\\\",\\n              style : {\\n                \\\"text-align\\\" : \\\"left\\\",\\n                \\\"font-weight\\\" : \\\"500\\\",\\n                \\\"color\\\" : \\\"#939393\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : Math.floor(Math.random() * 100),\\n              style : {\\n                \\\"text-align\\\" : \\\"center\\\",\\n                \\\"font-weight\\\" : \\\"600\\\",\\n                \\\"color\\\" : \\\"#fff\\\"\\n              },\\n              labelStyle : {\\n                  \\\"width\\\" : \\\"100px\\\",\\n                \\\"line-height\\\" : \\\"20px\\\",\\n                \\\"border-radius\\\" : \\\"10px\\\",\\n                \\\"border\\\" : \\\"1px solid #939393\\\"\\n              }\\n            }])\\n          };\\n        };\\n        target.render(ctrlGroups);\\n      }\\n      target.on(\\\"tree_resourceChange\\\", function(res){\\n        render(res.resource);\\n      });\\n      debugger;\\n      if(resource){\\n        render(resource);\\n      }\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}],\"url\":\"images/map/map1.png\"},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px 5px 5px 15px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"left\",\"color\":\"rgb(255, 255, 255)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警通知\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            pageSize : 5,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px 15px 5px 5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"left\",\"color\":\"rgb(255, 255, 255)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        pageSize : 5,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}]}],\"col\":9}],\"url\":\"images/map/map1.png\"}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelAnalysisNavigation\",\"CHANGENAVEEVENT\":\"analysisviewchange\",\"MOVETOEVENT\":\"analysismoveTo\"},\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢诊断分析一级框架_检修管理员",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      // 5 \\\"点检管理工作台\\\"\\n      // 6 \\\"检修管理工作台\\\"\\n      var ROLE = 6;\\n      if(ROLE == 0){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"我的首页\\\",\\n          default : \\\"baogang/alert/home\\\"\\n        },{\\n          id : 1,\\n          label : \\\"区域态势\\\",\\n          default : \\\"baogang/alert/area\\\"\\n        }];\\n      } else if(ROLE == 1){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"我的首页\\\",\\n          default : \\\"baogang/home\\\"\\n        },{\\n          id : 1,\\n          label : \\\"实时状态\\\",\\n          default : \\\"baogang/device\\\"\\n        },{\\n          id : 2,\\n          label : \\\"专业分析\\\",\\n          default : \\\"baogang/analysis\\\"\\n        },{\\n          id : 3,\\n          label : \\\"综合诊断\\\",\\n          default : \\\"baogang/diagnose\\\"\\n        },{\\n          id : 4,\\n          label : \\\"设备履历\\\",\\n          default : \\\"baogang/history\\\"\\n        }];\\n      } else if(ROLE == 2){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"我的首页\\\",\\n          default : \\\"baogang/corporation/home\\\"\\n        },{\\n          id : 1,\\n          label : \\\"专业分析\\\",\\n          default : \\\"baogang/analysis\\\"\\n        }];\\n      }  else if(ROLE == 3){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"我的首页\\\",\\n          default : \\\"baogang/home\\\"\\n        },{\\n          id : 1,\\n          label : \\\"审核\\\",\\n          default : \\\"baogang/critisize\\\"\\n        },{\\n          id : 2,\\n          label : \\\"实时状态\\\",\\n          default : \\\"baogang/device\\\"\\n        },{\\n          id : 3,\\n          label : \\\"专业分析\\\",\\n          default : \\\"baogang/analysis\\\"\\n        },{\\n          id : 4,\\n          label : \\\"综合诊断\\\",\\n          default : \\\"baogang/diagnose\\\"\\n        },{\\n          id : 5,\\n          label : \\\"设备履历\\\",\\n          default : \\\"baogang/history\\\"\\n        }];\\n      } else if(ROLE == 4){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"区域态势\\\",\\n          default : \\\"baogang/decider/home\\\"\\n        },{\\n          id : 1,\\n          label : \\\"关键指标跟踪\\\",\\n          default : \\\"baogang/decider/kpitracker\\\"\\n        },{\\n          id : 2,\\n          label : \\\"关键指标对比\\\",\\n          default : \\\"baogang/decider/kpicompare\\\"\\n        }];\\n      }else if(ROLE == 5){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"我的首页\\\",\\n          default : \\\"baogang/checker/home\\\"\\n        },{\\n          id : 1,\\n          label : \\\"标准维护\\\",\\n          default : \\\"baogang/checker/biaozhunweihu\\\"\\n        },{\\n          id : 2,\\n          label : \\\"点检计划\\\",\\n          default : \\\"baogang/checker/dianjianjihua\\\"\\n        },{\\n          id : 3,\\n          label : \\\"故障管理\\\",\\n          default : \\\"baogang/checker/guzhangguanli\\\"\\n        },{\\n          id : 4,\\n          label : \\\"检修委托\\\",\\n          default : \\\"baogang/checker/jianxiuweituo\\\"\\n        },{\\n          id : 5,\\n          label : \\\"备修委托\\\",\\n          default : \\\"baogang/checker/beixiuweituo\\\"\\n        },{\\n          id : 6,\\n          label : \\\"统计分析\\\",\\n          default : \\\"baogang/checker/tongjifenxi\\\"\\n        }];\\n      }else if(ROLE == 6){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"我的首页\\\",\\n          default : \\\"baogang/recondition/home\\\"\\n        },{\\n          id : 1,\\n          label : \\\"标准维护\\\",\\n          default : \\\"baogang/recondition/biaozhunweihu\\\"\\n        },{\\n          id : 2,\\n          label : \\\"维修方案\\\",\\n          default : \\\"baogang/recondition/weixiufangan\\\"\\n        },{\\n          id : 3,\\n          label : \\\"统计分析\\\",\\n          default : \\\"baogang/recondition/tongjifenxi\\\"\\n        }];\\n      };\\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n        CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\";\\n      // ------------------- 初始化内容在这里设置\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var param = target.getParameter(\\\"main\\\");\\n      var main, path;\\n      if(param instanceof Array){\\n        main = param[0];\\n        path = param[1];\\n      } else {\\n        main = param\\n      }\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        console.log(obj);\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item, path){\\n        var viewId = item.viewId;\\n        target.trigger(CHANGENAVEEVENT, {\\n          item : item,\\n          path : path\\n        });\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n            //console.log(\\\"run\\\", json);\\n            var viewTitle = item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n            target.getAllMyViews(function(views){\\n              var find = views.find(function(view){\\n                viewTitle == view.viewTitle;\\n              });\\n              if(find){\\n                item.viewId = find.viewId;\\n                callback(find);\\n              } else {\\n                target.addView({\\n                  viewTitle : item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                  viewType : \\\"dashboard\\\",\\n                  content : json ? json : null,\\n                }, function(data){\\n                  item.viewId = data.data.viewId;\\n                  callback(data);\\n                })\\n              }\\n            });\\n\\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n              var find = status.tabs.find(function(elem){\\n                return elem.id == tabs[i].id;\\n              })\\n              //console.log(\\\"find\\\", find);\\n              if(find){\\n                tabs[i].viewId = find.viewId;\\n              }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.navigateTo(\\\"index\\\", {\\n                    main : elem.id\\n                  }, \\\"self\\\");\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                        title : \\\"工作台信息\\\",\\n                        theme : \\\"system\\\",\\n                        width : 500,\\n                        on : {\\n                          submit : function(item){\\n\\n                          }\\n                        }\\n                      }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            if(view){\\n              target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n              return elem.id == main;\\n            });\\n            if(find){\\n              target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n              target.tabInx = concat.length - 1;\\n            };\\n            select(concat[target.tabInx], path);\\n            //selece(contact[])\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -2,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-transfer\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"viewpare\\\", {\\n                      title : \\\"配置区域，产线，设备对应的组太视图\\\",\\n                      theme : \\\"system\\\",\\n                      width : 700,\\n                      on : {\\n                        submit : function(data){\\n\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n              class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n            var concat = tabs.concat(subTabs);\\n            var find = concat.find(function(elem){\\n              return elem.id == id;\\n            });\\n            render(find);\\n            if(find){\\n              select(find);\\n            }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"0px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          /**\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            \\n            target.render(json);\\n          });*/\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(data){\\n            var view = data.item;\\n            var path = data.path;\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\",\"alertObj\":{\"542059861046087\":{\"eventId\":544241138966070,\"alertId\":542059861046087,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [1] 异常\",\"arisingTime\":\"2017-11-13T05:09:27.126+0000\",\"receiveTime\":\"2017-11-13T05:09:27.126+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-13T05:09:27.126+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-13T13:05:57.024+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-14T10:52:37.800+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"537783494437643\":{\"eventId\":539009142136470,\"alertId\":537783494437643,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [2] 异常\",\"arisingTime\":\"2017-11-11T07:16:16.725+0000\",\"receiveTime\":\"2017-11-11T07:16:16.725+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-11T07:15:16.731+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-11T15:12:46.633+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-13T02:03:00.641+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536687391997414\":{\"eventId\":538746819166095,\"alertId\":536687391997414,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"6\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:5.0 [2] 异常\",\"arisingTime\":\"2017-11-10T07:47:16.841+0000\",\"receiveTime\":\"2017-11-10T07:47:16.841+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T07:46:16.845+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T15:43:46.743+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T07:47:47.994+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536859189296064\":{\"eventId\":538540371966064,\"alertId\":536859189296064,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"4\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:6.0 [13] 异常\",\"arisingTime\":\"2017-11-10T01:41:57.515+0000\",\"receiveTime\":\"2017-11-10T01:41:57.515+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":7,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:35:58.068+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:38:27.436+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T04:42:00.762+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"540911188148124\":{\"eventId\":538517251976594,\"alertId\":540911188148124,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"2\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:9.0 [6] 异常\",\"arisingTime\":\"2017-11-10T01:07:03.606+0000\",\"receiveTime\":\"2017-11-10T01:07:03.606+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":6,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:02:03.603+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:03:33.483+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T06:26:53.346+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}}},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"导航页\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"导航页\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "诊断(工作台配置文件_baogang/diagnose)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"overflow\":\"auto\",\"background-color\":\"#04131e\",\"border\":\"0\",\"height\":\"calc( 100vh - 115px)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expression = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      target.getDomainAreaLineTree_alertStatus(function(domaintree){\\n        domaintree.traverse(function(node){\\n          node.showfold = true;\\n          node.searchable = true;\\n          node.folderStyle = 1;\\n          node.icon = \\\"tag tag-green\\\";\\n          node.showDescription = false;\\n          node.triggerEvent = \\\"fold\\\";\\n          if(node.resourceType == \\\"device\\\"){\\n            node.label;\\n            node.on = {\\n              click : function(node){\\n                debugger;\\n                node = node.node;\\n                if(node.setHighlight){\\n                  node.setHighlight(true);\\n                };\\n                var str = node.label;\\n                node.traverseParents(function(parent){\\n                  str = parent.label + \\\" / \\\" + str;\\n                });\\n                target.setValue(\\\"global/resource\\\", node);\\n                target.trigger(\\\"tree_resourceChange\\\", {\\n                  resource : node\\n                });\\n                target.trigger(\\\"changeNavString\\\", str);\\n              }\\n            }\\n          }\\n        });\\n        var treeDataMap = target.render(domaintree);\\n        var resource = target.getValue(\\\"global/resource\\\");\\n        if(!resource){\\n          treeDataMap.traverse(function(node){\\n            if(!resource && node.category == \\\"Device\\\"){\\n              resource = node;\\n            }\\n          });\\n          target.setValue(\\\"global/resource\\\", resource);\\n        };\\n        var str = resource.label;\\n        resource.traverseParents(function(parent){\\n          str = parent.label + \\\" / \\\" + str;\\n        });\\n        target.trigger(\\\"tree_resourceChange\\\", {\\n          resource : resource\\n        });\\n        debugger;\\n        target.setValue(\\\"global/navistring\\\", str);\\n        target.trigger(\\\"changeNavString\\\", str);\\n        treeDataMap.traverse(function(node){\\n          if(node.level > 2){\\n              var find = node.find(function(nd){\\n                  return nd.id == resource.id;\\n              });\\n            if(find){\\n                find.setHighlight(true);\\n              if(typeof node.open == \\\"function\\\"){\\n                node.open();\\n              };\\n            } else {\\n              if(typeof node.close == \\\"function\\\"){\\n                node.close();\\n              };\\n            }\\n          } else {\\n            if(typeof node.open == \\\"function\\\"){\\n              node.open();\\n            };\\n          }\\n          if(node == resource){\\n            if(node.setHighlight){\\n              node.setHighlight(true);\\n            };\\n          }\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"},\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px 15px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(str){\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"label\\\",\\n              value : str || \\\"普通标签\\\",\\n              style : {\\n                  \\\"font-weight\\\" : \\\"bold\\\",\\n                  \\\"color\\\" : \\\"#72b3d7\\\",\\n                  \\\"line-height\\\" : \\\"20px\\\"\\n              },\\n              class : \\\"col-md-12\\\"\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n      }\\n      var naviString = target.getValue(\\\"global/navistring\\\");\\n      render(naviString || \\\"读取中请稍后。。。\\\");\\n      target.off(\\\"changeNavString\\\");\\n      target.on(\\\"changeNavString\\\", function(str){\\n          render(str);\\n      });;\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"0 5px\",\"font-size\":\"12px\",\"color\":\"#72b3d7\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      // -------------- 初始化内容在这里设置;\\n      var TYPE = \\\"diagnose\\\";\\n      if(TYPE == \\\"analysis\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"综合趋势\\\",\\n          default : \\\"baogang/analysis/general\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"特征趋势\\\",\\n          default : \\\"baogang/analysis/feature\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"时域分析\\\",\\n          default : \\\"baogang/analysis/time\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"频域波形\\\",\\n          default : \\\"baogang/analysis/frequence\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 4,\\n          label : \\\"诊断履历\\\",\\n          default : \\\"baogang/analysis/diagnose\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO = \\\"analysisNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelAnalysisNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"analysisviewchange\\\";\\n        var MOVETOEVENT = \\\"analysismoveTo\\\";\\n      } else if(TYPE == \\\"diagnose\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"多专业诊断\\\",\\n          default : \\\"baogang/diagnose/multiArea\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"协同诊断\\\",\\n          default : \\\"baogang/diagnose/corporation\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"视频诊断\\\",\\n          default : \\\"baogang/diagnose/video\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"报告编制\\\",\\n          default : \\\"baogang/diagnose/report\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO =  \\\"diagnoseNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelDiagnoseNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"diagnoseviewchange\\\";\\n        var MOVETOEVENT = \\\"diagnosemoveto\\\";\\n      } else if(TYPE == \\\"history\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"诊断履历\\\",\\n          default : \\\"baogang/history/diagnosehistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"故障履历\\\",\\n          default : \\\"baogang/history/malfunctionhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"检测履历\\\",\\n          default : \\\"baogang/history/checkhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"点检异常\\\",\\n          default : \\\"baogang/history/detailcheckhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 4,\\n          label : \\\"报警记录\\\",\\n          default : \\\"baogang/history/warninglist\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 5,\\n          label : \\\"诊断报告\\\",\\n          default : \\\"baogang/history/diagnosereport\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO =  \\\"historyNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelHistoryNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"historyviewchange\\\";\\n        var MOVETOEVENT = \\\"historymoveto\\\";\\n      }\\n      // ------------------- 初始化内容在这里设置\\n      var target = event.target;\\n      var main = target.getParameter(\\\"main\\\") || 0;\\n      var sub = target.getParameter(\\\"sub\\\") || 0;\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        //console.log(\\\"trigger\\\", 40);\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n            //console.log(\\\"run\\\", json);\\n            target.addView({\\n              viewTitle : item.label + \\\"(工作台:\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n              viewType : \\\"dashboard\\\",\\n              content : json ? json : null,\\n            }, function(data){\\n              item.viewId = data.data.viewId;\\n              callback(data);\\n            })\\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n\\n            for(var i in tabs){\\n              var find = status.tabs.find(function(elem){\\n                return elem.id == tabs[i].id;\\n              })\\n              console.log(\\\"find\\\", find);\\n              if(find){\\n                tabs[i].viewId = find.viewId;\\n              }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : main,\\n                        sub : elem.id\\n                    }, \\\"self\\\");\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                        title : \\\"工作台信息\\\",\\n                        theme : \\\"system\\\",\\n                        width : 500,\\n                        on : {\\n                          submit : function(item){\\n\\n                          }\\n                        }\\n                      }, elem);\\n                    }\\n                  }\\n                }/*,{\\n                 icon : \\\"glyphicon glyphicon-refresh\\\",\\n                 on : {\\n                 click : function(event){\\n                 deleteView(elem);\\n                 delete elem.viewId;\\n                 updateNaviList();\\n                 render();\\n                 }\\n                 }\\n                 }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  //select(elem)\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n\\n            if(view){\\n              target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == sub;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n              target.tabInx = concat.length - 1\\n              //select(concat[target.tabInx]);\\n            };\\n            select(concat[target.tabInx]);\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist);\\n          };\\n          target.on(NAVIGATETO, function(id){\\n            var concat = tabs.concat(subTabs);\\n            var find = concat.find(function(elem){\\n              return elem.id == id;\\n            });\\n            render(find);\\n            if(find){\\n              select(find);\\n            }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"min-height\":\"calc(100vh - 200px)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n      var MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n      target.off(MOVETOEVENT);\\n      target.on(MOVETOEVENT, function(path){\\n        var find = json.groups.find(function(elem){\\n          return elem.path == path;\\n        });\\n        json.layout = find.layout;\\n        target.render(json);\\n      });\\n      target.off(CHANGENAVEEVENT);\\n      target.on(CHANGENAVEEVENT, function(view){\\n        var viewId = view.viewId;\\n        target.off(\\\"tree_resourceChange\\\");\\n        if(viewId){\\n          target.setValue(\\\"global/viewId\\\", viewId);\\n          target.getViewById(viewId, function(view){\\n            var content = view.content;\\n            if(content){\\n              json = JSON.parse(content);\\n              target.render(json);\\n            } else {\\n              target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                target.render(nographe);\\n              });\\n            }\\n          });\\n        } else {\\n          var viewPath = view.default;\\n          target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n            target.render(json);\\n          });\\n        };\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}]}]}],\"col\":9}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelAnalysisNavigation\",\"CHANGENAVEEVENT\":\"analysisviewchange\",\"MOVETOEVENT\":\"analysismoveTo\"},\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "设备履历(工作台配置文件_baogang/history)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"overflow\":\"auto\",\"background-color\":\"#04131e\",\"border\":\"0\",\"height\":\"calc( 100vh - 115px)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expression = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      target.getDomainAreaLineTree_alertStatus(function(domaintree){\\n        domaintree.traverse(function(node){\\n          node.showfold = true;\\n          node.searchable = true;\\n          node.folderStyle = 1;\\n          node.icon = \\\"tag tag-green\\\";\\n          node.showDescription = false;\\n          node.triggerEvent = \\\"fold\\\";\\n          if(node.resourceType == \\\"device\\\"){\\n            node.label;\\n            node.on = {\\n              click : function(node){\\n                debugger;\\n                node = node.node;\\n                if(node.setHighlight){\\n                  node.setHighlight(true);\\n                };\\n                var str = node.label;\\n                node.traverseParents(function(parent){\\n                  str = parent.label + \\\" / \\\" + str;\\n                });\\n                target.setValue(\\\"global/resource\\\", node);\\n                target.trigger(\\\"tree_resourceChange\\\", {\\n                  resource : node\\n                });\\n                target.trigger(\\\"changeNavString\\\", str);\\n              }\\n            }\\n          }\\n        });\\n        var treeDataMap = target.render(domaintree);\\n        var resource = target.getValue(\\\"global/resource\\\");\\n        if(!resource){\\n          treeDataMap.traverse(function(node){\\n            if(!resource && node.category == \\\"Device\\\"){\\n              resource = node;\\n            }\\n          });\\n          target.setValue(\\\"global/resource\\\", resource);\\n        };\\n        var str = resource.label;\\n        resource.traverseParents(function(parent){\\n          str = parent.label + \\\" / \\\" + str;\\n        });\\n        target.trigger(\\\"tree_resourceChange\\\", {\\n          resource : resource\\n        });\\n        debugger;\\n        target.setValue(\\\"global/navistring\\\", str);\\n        target.trigger(\\\"changeNavString\\\", str);\\n        treeDataMap.traverse(function(node){\\n          if(node.level > 2){\\n              var find = node.find(function(nd){\\n                  return nd.id == resource.id;\\n              });\\n            if(find){\\n                find.setHighlight(true);\\n              if(typeof node.open == \\\"function\\\"){\\n                node.open();\\n              };\\n            } else {\\n              if(typeof node.close == \\\"function\\\"){\\n                node.close();\\n              };\\n            }\\n          } else {\\n            if(typeof node.open == \\\"function\\\"){\\n              node.open();\\n            };\\n          }\\n          if(node == resource){\\n            if(node.setHighlight){\\n              node.setHighlight(true);\\n            };\\n          }\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"},\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px 15px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(str){\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"label\\\",\\n              value : str || \\\"普通标签\\\",\\n              style : {\\n                  \\\"font-weight\\\" : \\\"bold\\\",\\n                  \\\"color\\\" : \\\"#72b3d7\\\",\\n                  \\\"line-height\\\" : \\\"20px\\\"\\n              },\\n              class : \\\"col-md-12\\\"\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n      }\\n      var naviString = target.getValue(\\\"global/navistring\\\");\\n      render(naviString || \\\"读取中请稍后。。。\\\");\\n      target.off(\\\"changeNavString\\\");\\n      target.on(\\\"changeNavString\\\", function(str){\\n          render(str);\\n      });;\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"0 5px\",\"font-size\":\"12px\",\"color\":\"#72b3d7\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      // -------------- 初始化内容在这里设置;\\n      var TYPE = \\\"history\\\";\\n      if(TYPE == \\\"analysis\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"综合趋势\\\",\\n          default : \\\"baogang/analysis/general\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"特征趋势\\\",\\n          default : \\\"baogang/analysis/feature\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"时域分析\\\",\\n          default : \\\"baogang/analysis/time\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"频域波形\\\",\\n          default : \\\"baogang/analysis/frequence\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 4,\\n          label : \\\"诊断履历\\\",\\n          default : \\\"baogang/analysis/diagnose\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO = \\\"analysisNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelAnalysisNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"analysisviewchange\\\";\\n        var MOVETOEVENT = \\\"analysismoveTo\\\";\\n      } else if(TYPE == \\\"diagnose\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"多专业诊断\\\",\\n          default : \\\"baogang/diagnose/multiArea\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"协同诊断\\\",\\n          default : \\\"baogang/diagnose/corporation\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"视频诊断\\\",\\n          default : \\\"baogang/diagnose/video\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"报告编制\\\",\\n          default : \\\"baogang/diagnose/report\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO =  \\\"diagnoseNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelDiagnoseNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"diagnoseviewchange\\\";\\n        var MOVETOEVENT = \\\"diagnosemoveto\\\";\\n      } else if(TYPE == \\\"history\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"诊断履历\\\",\\n          default : \\\"baogang/history/diagnosehistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"故障履历\\\",\\n          default : \\\"baogang/history/malfunctionhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"检测履历\\\",\\n          default : \\\"baogang/history/checkhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"点检异常\\\",\\n          default : \\\"baogang/history/detailcheckhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 4,\\n          label : \\\"报警记录\\\",\\n          default : \\\"baogang/history/warninglist\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 5,\\n          label : \\\"诊断报告\\\",\\n          default : \\\"baogang/history/diagnosereport\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO =  \\\"historyNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelHistoryNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"historyviewchange\\\";\\n        var MOVETOEVENT = \\\"historymoveto\\\";\\n      }\\n      // ------------------- 初始化内容在这里设置\\n      var target = event.target;\\n      var main = target.getParameter(\\\"main\\\") || 0;\\n      var sub = target.getParameter(\\\"sub\\\") || 0;\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        //console.log(\\\"trigger\\\", 40);\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n            //console.log(\\\"run\\\", json);\\n            target.addView({\\n              viewTitle : item.label + \\\"(工作台:\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n              viewType : \\\"dashboard\\\",\\n              content : json ? json : null,\\n            }, function(data){\\n              item.viewId = data.data.viewId;\\n              callback(data);\\n            })\\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n\\n            for(var i in tabs){\\n              var find = status.tabs.find(function(elem){\\n                return elem.id == tabs[i].id;\\n              })\\n              console.log(\\\"find\\\", find);\\n              if(find){\\n                tabs[i].viewId = find.viewId;\\n              }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : main,\\n                        sub : elem.id\\n                    }, \\\"self\\\");\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                        title : \\\"工作台信息\\\",\\n                        theme : \\\"system\\\",\\n                        width : 500,\\n                        on : {\\n                          submit : function(item){\\n\\n                          }\\n                        }\\n                      }, elem);\\n                    }\\n                  }\\n                }/*,{\\n                 icon : \\\"glyphicon glyphicon-refresh\\\",\\n                 on : {\\n                 click : function(event){\\n                 deleteView(elem);\\n                 delete elem.viewId;\\n                 updateNaviList();\\n                 render();\\n                 }\\n                 }\\n                 }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  //select(elem)\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n\\n            if(view){\\n              target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == sub;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n              target.tabInx = concat.length - 1\\n              //select(concat[target.tabInx]);\\n            };\\n            select(concat[target.tabInx]);\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist);\\n          };\\n          target.on(NAVIGATETO, function(id){\\n            var concat = tabs.concat(subTabs);\\n            var find = concat.find(function(elem){\\n              return elem.id == id;\\n            });\\n            render(find);\\n            if(find){\\n              select(find);\\n            }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"min-height\":\"calc(100vh - 200px)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n      var MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n      target.off(MOVETOEVENT);\\n      target.on(MOVETOEVENT, function(path){\\n        var find = json.groups.find(function(elem){\\n          return elem.path == path;\\n        });\\n        json.layout = find.layout;\\n        target.render(json);\\n      });\\n      target.off(CHANGENAVEEVENT);\\n      target.on(CHANGENAVEEVENT, function(view){\\n        var viewId = view.viewId;\\n        target.off(\\\"tree_resourceChange\\\");\\n        if(viewId){\\n          target.setValue(\\\"global/viewId\\\", viewId);\\n          target.getViewById(viewId, function(view){\\n            var content = view.content;\\n            if(content){\\n              json = JSON.parse(content);\\n              target.render(json);\\n            } else {\\n              target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                target.render(nographe);\\n              });\\n            }\\n          });\\n        } else {\\n          var viewPath = view.default;\\n          target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n            target.render(json);\\n          });\\n        };\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}]}]}],\"col\":9}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelAnalysisNavigation\",\"CHANGENAVEEVENT\":\"analysisviewchange\",\"MOVETOEVENT\":\"analysismoveTo\"},\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "分析(工作台配置文件_baogang/analysis)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"overflow\":\"auto\",\"background-color\":\"#04131e\",\"border\":\"0\",\"height\":\"calc( 100vh - 115px)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expression = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      target.getDomainAreaLineTree_alertStatus(function(domaintree){\\n        domaintree.traverse(function(node){\\n          node.showfold = true;\\n          node.searchable = true;\\n          node.folderStyle = 1;\\n          node.icon = \\\"tag tag-green\\\";\\n          node.showDescription = false;\\n          node.triggerEvent = \\\"fold\\\";\\n          if(node.resourceType == \\\"device\\\"){\\n            node.label;\\n            node.on = {\\n              click : function(node){\\n                debugger;\\n                node = node.node;\\n                if(node.setHighlight){\\n                  node.setHighlight(true);\\n                };\\n                var str = node.label;\\n                node.traverseParents(function(parent){\\n                  str = parent.label + \\\" / \\\" + str;\\n                });\\n                target.setValue(\\\"global/resource\\\", node);\\n                target.trigger(\\\"tree_resourceChange\\\", {\\n                  resource : node\\n                });\\n                target.trigger(\\\"changeNavString\\\", str);\\n              }\\n            }\\n          }\\n        });\\n        var treeDataMap = target.render(domaintree);\\n        var resource = target.getValue(\\\"global/resource\\\");\\n        if(!resource){\\n          treeDataMap.traverse(function(node){\\n            if(!resource && node.category == \\\"Device\\\"){\\n              resource = node;\\n            }\\n          });\\n          target.setValue(\\\"global/resource\\\", resource);\\n        };\\n        var str = resource.label;\\n        resource.traverseParents(function(parent){\\n          str = parent.label + \\\" / \\\" + str;\\n        });\\n        target.trigger(\\\"tree_resourceChange\\\", {\\n          resource : resource\\n        });\\n        debugger;\\n        target.setValue(\\\"global/navistring\\\", str);\\n        target.trigger(\\\"changeNavString\\\", str);\\n        treeDataMap.traverse(function(node){\\n          if(node.level > 2){\\n              var find = node.find(function(nd){\\n                  return nd.id == resource.id;\\n              });\\n            if(find){\\n                find.setHighlight(true);\\n              if(typeof node.open == \\\"function\\\"){\\n                node.open();\\n              };\\n            } else {\\n              if(typeof node.close == \\\"function\\\"){\\n                node.close();\\n              };\\n            }\\n          } else {\\n            if(typeof node.open == \\\"function\\\"){\\n              node.open();\\n            };\\n          }\\n          if(node == resource){\\n            if(node.setHighlight){\\n              node.setHighlight(true);\\n            };\\n          }\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"},\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px 15px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(str){\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"label\\\",\\n              value : str || \\\"普通标签\\\",\\n              style : {\\n                  \\\"font-weight\\\" : \\\"bold\\\",\\n                  \\\"color\\\" : \\\"#72b3d7\\\",\\n                  \\\"line-height\\\" : \\\"20px\\\"\\n              },\\n              class : \\\"col-md-12\\\"\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n      }\\n      var naviString = target.getValue(\\\"global/navistring\\\");\\n      render(naviString || \\\"读取中请稍后。。。\\\");\\n      target.off(\\\"changeNavString\\\");\\n      target.on(\\\"changeNavString\\\", function(str){\\n          render(str);\\n      });;\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"0 5px\",\"font-size\":\"12px\",\"color\":\"#72b3d7\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      // -------------- 初始化内容在这里设置;\\n      var TYPE = \\\"analysis\\\";\\n      if(TYPE == \\\"analysis\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"综合趋势\\\",\\n          default : \\\"baogang/analysis/general\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"特征趋势\\\",\\n          default : \\\"baogang/analysis/feature\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"时域分析\\\",\\n          default : \\\"baogang/analysis/time\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"频域波形\\\",\\n          default : \\\"baogang/analysis/frequence\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO = \\\"analysisNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelAnalysisNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"analysisviewchange\\\";\\n        var MOVETOEVENT = \\\"analysismoveTo\\\";\\n      } else if(TYPE == \\\"diagnose\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"多专业诊断\\\",\\n          default : \\\"baogang/diagnose/multiArea\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"协同诊断\\\",\\n          default : \\\"baogang/diagnose/corporation\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"视频诊断\\\",\\n          default : \\\"baogang/diagnose/video\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"报告编制\\\",\\n          default : \\\"baogang/diagnose/report\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO =  \\\"diagnoseNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelDiagnoseNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"diagnoseviewchange\\\";\\n        var MOVETOEVENT = \\\"diagnosemoveto\\\";\\n      } else if(TYPE == \\\"history\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"诊断履历\\\",\\n          default : \\\"baogang/history/diagnosehistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"故障履历\\\",\\n          default : \\\"baogang/history/malfunctionhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"检测履历\\\",\\n          default : \\\"baogang/history/checkhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"点检异常\\\",\\n          default : \\\"baogang/history/detailcheckhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 4,\\n          label : \\\"报警记录\\\",\\n          default : \\\"baogang/history/warninglist\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 5,\\n          label : \\\"诊断报告\\\",\\n          default : \\\"baogang/history/diagnosereport\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO =  \\\"historyNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelHistoryNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"historyviewchange\\\";\\n        var MOVETOEVENT = \\\"historymoveto\\\";\\n      }\\n      // ------------------- 初始化内容在这里设置\\n      var target = event.target;\\n      var main = target.getParameter(\\\"main\\\") || 0;\\n      var sub = target.getParameter(\\\"sub\\\") || 0;\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        //console.log(\\\"trigger\\\", 40);\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n            //console.log(\\\"run\\\", json);\\n            target.addView({\\n              viewTitle : item.label + \\\"(工作台:\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n              viewType : \\\"dashboard\\\",\\n              content : json ? json : null,\\n            }, function(data){\\n              item.viewId = data.data.viewId;\\n              callback(data);\\n            })\\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n\\n            for(var i in tabs){\\n              var find = status.tabs.find(function(elem){\\n                return elem.id == tabs[i].id;\\n              })\\n              console.log(\\\"find\\\", find);\\n              if(find){\\n                tabs[i].viewId = find.viewId;\\n              }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : main,\\n                        sub : elem.id\\n                    }, \\\"self\\\");\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                        title : \\\"工作台信息\\\",\\n                        theme : \\\"system\\\",\\n                        width : 500,\\n                        on : {\\n                          submit : function(item){\\n\\n                          }\\n                        }\\n                      }, elem);\\n                    }\\n                  }\\n                }/*,{\\n                 icon : \\\"glyphicon glyphicon-refresh\\\",\\n                 on : {\\n                 click : function(event){\\n                 deleteView(elem);\\n                 delete elem.viewId;\\n                 updateNaviList();\\n                 render();\\n                 }\\n                 }\\n                 }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  //select(elem)\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n\\n            if(view){\\n              target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == sub;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n              target.tabInx = concat.length - 1\\n              //select(concat[target.tabInx]);\\n            };\\n            select(concat[target.tabInx]);\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist);\\n          };\\n          target.on(NAVIGATETO, function(id){\\n            var concat = tabs.concat(subTabs);\\n            var find = concat.find(function(elem){\\n              return elem.id == id;\\n            });\\n            render(find);\\n            if(find){\\n              select(find);\\n            }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"min-height\":\"calc(100vh - 200px)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n      var MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n      target.off(MOVETOEVENT);\\n      target.on(MOVETOEVENT, function(path){\\n        var find = json.groups.find(function(elem){\\n          return elem.path == path;\\n        });\\n        json.layout = find.layout;\\n        target.render(json);\\n      });\\n      target.off(CHANGENAVEEVENT);\\n      target.on(CHANGENAVEEVENT, function(view){\\n          debugger;\\n        var viewId = view.viewId;\\n        target.off(\\\"tree_resourceChange\\\");\\n        if(viewId){\\n          target.setValue(\\\"global/viewId\\\", viewId);\\n          target.getViewById(viewId, function(view){\\n            var content = view.content;\\n            if(content){\\n              json = JSON.parse(content);\\n              target.render(json);\\n            } else {\\n              target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                target.render(nographe);\\n              });\\n            }\\n          });\\n        } else {\\n          var viewPath = view.default;\\n          target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n            target.render(json);\\n          });\\n        };\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}]}]}],\"col\":9}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelAnalysisNavigation\",\"CHANGENAVEEVENT\":\"analysisviewchange\",\"MOVETOEVENT\":\"analysismoveTo\"},\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "决策者页面所需要的线图",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    tooltip : {\\n        trigger: 'item',\\n        formatter: \\\"{a} <br/>{b} : {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        orient : 'horizontal',\\n        y : 'bottom',\\n        data:['直达','营销广告','搜索引擎','邮件营销','联盟广告','视频广告','百度','谷歌','必应','其他']\\n    },\\n    series : [\\n        {\\n            name:'访问来源',\\n            type:'pie',\\n            selectedMode: 'single',\\n            radius : [0, 30],\\n            \\n            // for funnel\\n            x: '20%',\\n            width: '40%',\\n            funnelAlign: 'right',\\n            max: 1548,\\n            \\n            itemStyle : {\\n                normal : {\\n                    label : {\\n                        position : 'inner'\\n                    },\\n                    labelLine : {\\n                        show : false\\n                    }\\n                }\\n            },\\n            data:[\\n                {value:335, name:'直达'},\\n                {value:679, name:'营销广告'},\\n                {value:1548, name:'搜索引擎'}\\n            ]\\n        },\\n        {\\n            name:'访问来源',\\n            type:'pie',\\n            radius : [50, 80],\\n            \\n            // for funnel\\n            x: '60%',\\n            width: '35%',\\n            funnelAlign: 'left',\\n            max: 1048,\\n            \\n            data:[\\n                {value:335, name:'直达'},\\n                {value:310, name:'邮件营销'},\\n                {value:234, name:'联盟广告'},\\n                {value:135, name:'视频广告'},\\n                {value:1048, name:'百度'},\\n                {value:251, name:'谷歌'},\\n                {value:147, name:'必应'},\\n                {value:102, name:'其他'}\\n            ]\\n        }\\n    ]\\n};\\n\\n                    \\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"350px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n\\nvar option = {\\n    tooltip: {\\n        trigger: 'axis'\\n    },\\n  \\n    legend: {\\n        data:['蒸发量','降水量','平均温度','平均温度']\\n    },\\n    xAxis: [\\n        {\\n            type: 'category',\\n            data: ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月'],\\n\\n        }\\n    ],\\n    yAxis: [\\n        {\\n            type: 'value',\\n            name: '水量',\\n            min: 0,\\n            max: 280,\\n            interval: 50\\n        },\\n        {\\n            type: 'value',\\n            name: '温度',\\n            min: 0,\\n            max: 29,\\n            interval: 5,\\n            axisLabel: {\\n                formatter: '{value} °C'\\n            }\\n        }\\n    ],\\n    series: [\\n        {\\n            name:'蒸发量',\\n            type:'bar',\\n            data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3]\\n        },\\n        {\\n            name:'降水量',\\n            type:'bar',\\n            data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3]\\n        },\\n        {\\n            name:'平均温度',\\n            type:'line',\\n            yAxisIndex: 1,\\n            data:[2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2]\\n        },\\n         {\\n            name:'平均温度',\\n            type:'line',\\n            yAxisIndex: 1,\\n            data:[2., 2, 3, 5, 3, 10, 2, 23, 27.0, 16.5, 12.0, 5.2]\\n        }\\n    ]\\n};\\n\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    tooltip: {\\n        trigger: 'item',\\n        formatter: \\\"{a} <br/>{b}: {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        orient: 'vertical',\\n        x: 'left',\\n        data:['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']\\n    },\\n    series: [\\n        {\\n            name:'访问来源',\\n            type:'pie',\\n            radius: ['50%', '70%'],\\n            avoidLabelOverlap: false,\\n            label: {\\n                normal: {\\n                    show: false,\\n                    position: 'center'\\n                },\\n                emphasis: {\\n                    show: true,\\n                    formatter:\\\" {d}%\\\",\\n                    textStyle: {\\n                        fontSize: '30',\\n                        fontWeight: 'bold'\\n                    }\\n                }\\n            },\\n            labelLine: {\\n                normal: {\\n                    show: false\\n                }\\n            },\\n            data:[\\n                {value:335, name:'直接访问'},\\n                {value:310, name:'邮件营销'},\\n                {value:234, name:'联盟广告'},\\n                {value:135, name:'视频广告'},\\n                {value:1548, name:'搜索引擎'}\\n            ]\\n        }\\n    ]\\n};\\n\\n                    \\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    title : {\\n        text: '检修实绩（当月内）'\\n    },\\n    tooltip : {\\n        trigger: 'axis'\\n    },\\n    legend: {\\n        data:['待完成状态维修项目数','已完成状态维修项目数','状态维修项目数']\\n    },\\n    toolbox: {\\n        show : true,\\n        feature : {\\n            magicType : {show: true, type: ['line', 'bar']}\\n        }\\n    },\\n    calculable : true,\\n    xAxis : [\\n        {\\n            type : 'category',\\n            data : ['炼铁厂','炼钢厂','热轧厂','冷轧厂']\\n        }\\n    ],\\n    yAxis : [\\n        {\\n            type : 'value'\\n        }\\n    ],\\n    series : [\\n        {\\n            name:'待完成状态维修项目数',\\n            type:'bar',\\n            data:[16, 18, 20, 17]\\n        },\\n        {\\n            name:'已完成状态维修项目数',\\n            type:'bar',\\n            data:[26, 28, 20, 27]\\n        },\\n        {\\n            name:'状态维修项目数',\\n            type:'bar',\\n            data: [36, 38, 40, 37]\\n        }\\n    ]\\n};\\n                    \\n                    \\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var  option = {\\n    tooltip : {\\n        formatter: \\\"{a} <br/>{b} : {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        orient : 'vertical',\\n        x : 'left',\\n        data:['已完成状态项目数','待完成状态项目数','状态维修项目数','其他维修项目数']\\n    },\\n  \\n\\n    series : [\\n        {\\n            name:'',\\n            type:'pie',\\n            selectedMode: 'single',\\n            radius : [0, 70],\\n            data:[\\n                {value:335, name:'已完成状态项目数'},\\n                {value:679, name:'待完成状态项目数'}\\n            ]\\n        },\\n        {\\n            name:'',\\n            type:'pie',\\n            radius : [100, 140],\\n            data:[\\n                {value:335, name:'状态维修项目数'},\\n                {value:310, name:'其他维修项目数'}\\n            ]\\n        }\\n    ]\\n};\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}},{\"label\":\"SVG视图\",\"type\":\"svgchart\",\"source\":\"SVGCHART\",\"advance\":{\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var  target = event.target;\\n      var repeatData = target.$repeatData;\\n      var values = (function(){\\n        var rs = [];\\n        for(var i = 0; i<8; i++){\\n          rs.push(parseInt(Math.random() * 30));\\n        }\\n        return rs;\\n      })();\\n      var legends = (function(){\\n        var rs = [];\\n        for(var i = 0; i<8; i++){\\n          rs.push(\\\"项目\\\" + i);\\n        }\\n        return rs;\\n      })();\\n      var barOption = {\\n        title: {\\n          text: 'svgChart入门示例'\\n        },\\n        grid : {\\n          left : \\\"10%\\\",\\n          height : \\\"80%\\\",\\n          top : \\\"5%\\\"\\n        },\\n        legend: {\\n          data: ['销量']\\n        },\\n        xAxis: {\\n          show : true,\\n          base : {\\n              show : true\\n          },\\n          data: legends,\\n          axisLine : {\\n            show : false,\\n          },\\n          axisTick : {\\n            show : false\\n          },\\n          axisLabel : {\\n            margin : 26,\\n            color : \\\"#eee\\\"\\n          }\\n        },\\n        yAxis: {\\n          show : true,\\n          max : 30,\\n          splitNumber : 5,\\n          axisLine : {\\n            show : true,\\n            lineStyle : {\\n              color : \\\"rgba(250,250,250,.3)\\\"\\n            }\\n          },\\n          axisTick : {\\n            color : \\\"#eee\\\",\\n            show : true\\n          },\\n          axisLabel : {\\n            margin : 20,\\n            color : \\\"#eee\\\"\\n          }\\n        },\\n        series: [{\\n          stack : \\\"总量\\\",\\n          name: '销量1',\\n          barwidth : .4,\\n          type: '3dbar',\\n          colors : values.map(function(elem){\\n            if(elem > 25){\\n              return \\\"#fc6161\\\";\\n            } else if(elem > 12){\\n              return \\\"#fcd661\\\";\\n            } else if(elem > 5){\\n              return \\\"#048cff\\\";\\n            } else {\\n              return \\\"#79e4e4\\\";\\n            }\\n          }),\\n          data: values\\n        }]\\n      };\\n      target.render(barOption);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\",\"height\":\"420px\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    tooltip : {\\n        trigger: 'item',\\n        formatter: \\\"{a} <br/>{b} : {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        orient : 'vertical',\\n        x : 'left',\\n        data:['已完成状态维修项目数','待完成状态维修项目数']\\n    },\\n    toolbox: {\\n        show : true,\\n        feature : {\\n            mark : {show: true},\\n\\n            magicType : {\\n                show: true, \\n                type: ['pie', 'funnel'],\\n                option: {\\n                    funnel: {\\n                        x: '25%',\\n                        width: '50%',\\n                        funnelAlign: 'center',\\n                        max: 1548\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    calculable : true,\\n    series : [\\n        {\\n            name:'',\\n            type:'pie',\\n            radius : ['50%', '70%'],\\n            itemStyle : {\\n                normal : {\\n                    label : {\\n                      \\n                        show : false\\n                    },\\n                    labelLine : {\\n                        show : false\\n                    }\\n                },\\n                emphasis : {\\n                    label : {\\n                        show : true,\\n                        position : 'center',\\n                      formatter:\\\" {d}%\\\",\\n                        textStyle : {\\n                            fontSize : '18',\\n                            fontWeight : 'bold'\\n                        }\\n                    }\\n                }\\n            },\\n            data:[\\n                {value:9, name:'已完成状态维修项目数'},\\n                {value:11, name:'待完成状态维修项目数'}\\n            ]\\n        }\\n    ]\\n};\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    tooltip : {\\n        trigger: 'axis',\\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\\n            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\\n        }\\n    },\\n    legend: {\\n        data: ['状态维修项目数', '离线维修项目数'],\\n        y: '20px'\\n    },\\n    grid: {\\n        left: '3%',\\n        right: '4%',\\n        bottom: '3%',\\n        containLabel: true\\n    },\\n    xAxis:  {\\n        type: 'value'\\n    },\\n    yAxis: {\\n        type: 'category',\\n        data: ['松山','天山','梅山','青山','东山','宝山']\\n    },\\n    series: [\\n        {\\n            name: '状态维修项目数',\\n            type: 'bar',\\n            stack: '总量',\\n            label: {\\n                normal: {\\n                    show: true,\\n                    position: 'insideRight',\\n                    textBorderColor:'0'\\n                }\\n            },\\n             itemStyle: {\\n                normal: {\\n                    color:target.linearGradient(\\n                        0, 0, 1, 0,\\n                        [\\n                            {offset: 0, color: '#ffc'},\\n                            {offset: 0.5, color: '#ff0'},\\n                            {offset: 1, color: '#f90'}\\n                        ]\\n                    )\\n                },\\n               \\n            },\\n            data: [120, 82, 144, 110, 145, 90]\\n        },\\n        {\\n            name: '离线维修项目数',\\n            type: 'bar',\\n            stack: '总量',\\n            label: {\\n                normal: {\\n                    show: true,\\n                    position: 'insideRight',\\n                     textBorderColor:'0'\\n                }\\n            },\\n             itemStyle: {\\n                normal: {\\n                    color: target.linearGradient(\\n                        0, 0, 1, 0,\\n                        [\\n                            {offset: 0, color: '#3ff'},\\n                            {offset: 0.5, color: '#39c'},\\n                            {offset: 1, color: '#30c'}\\n                        ]\\n                    )\\n                },\\n               \\n            },\\n            data: [137, 110, 156, 112, 128, 131]\\n        }\\n       \\n    ]\\n};\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"width\":\"100%\",\"height\":\"177px\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "故障履历",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      //----------------------------自定义内容----------------------------\\n      //要进行搜索的变量名，对应列表里相应的变量\\n      var attr = [\\\"sendTime\\\",\\\"datePicker\\\"];\\n      var list = [{\\n        id : 0,\\n        title : \\\"当日\\\",\\n        value : 0\\n      },{\\n        id : 1,\\n        title : \\\"本周\\\",\\n        value : 0\\n      },{\\n        id : 2,\\n        title : \\\"本月\\\",\\n        value : 0\\n      },{\\n        id : 3,\\n        title : \\\"\\\",\\n        type:\\\"dateRangePicker\\\"\\n      },{\\n        id : 4,\\n        title : \\\"查询\\\",\\n        type:\\\"query\\\"\\n      }]\\n      //----------------------------自定义内容----------------------------\\n      //注意，下面内容别动！！！\\n      var target = event.target;\\n      var global = event.global;\\n      target.setScopeValue(\\\"search/\\\" + attr[0], {\\n        type : \\\"between\\\",\\n        value : [null, null]\\n      });\\n      var timeBetween = function(item){\\n        if(item.id == -1){\\n          return null;\\n        } else if(item.id == 0){\\n          return target.dateHandler(new Date()).addDay(-1);\\n        } else if(item.id == 1){\\n          return target.dateHandler(new Date()).addDay(-7);\\n        } else if(item.id == 2){\\n          return target.dateHandler(new Date()).addMonth(-1);\\n        }\\n      }\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"时 间:\\\",\\n            style:{\\n              textAlign:\\\"center\\\",\\n              width:\\\"62px\\\"\\n            }\\n          }]\\n        ];\\n        for(var i in list){\\n          if(list[i].type==\\\"query\\\"){\\n            ctrlGroups[0].push({\\n              id : list[i].id,\\n              type : \\\"button\\\",\\n              value : list[i].title,\\n              btnclass:\\\"btn btn-primary\\\",\\n              btnStyle:{\\n                \\\"width\\\":\\\"100px\\\",\\n                \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n              },\\n              on : {\\n                click : function(elem){\\n                  console.log(elem)\\n                  render()\\n                }\\n              }\\n            });\\n          }else if(list[i].type==\\\"label\\\"){\\n            ctrlGroups[0].push({\\n              id : list[i].id,\\n              type : \\\"label\\\",\\n              value : list[i].title,\\n            });\\n          }else if(list[i].type==\\\"dateRangePicker\\\"){\\n            ctrlGroups[0].push({\\n              id : list[i].id,\\n              type : \\\"dateRangePicker\\\",\\n              value : list[i].title,\\n              style:{\\n                \\\"width\\\":\\\"400px\\\",\\n              },\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem.value.start); \\n                  console.log(elem.value.end); \\n                  target.setScopeValue(\\\"search/\\\" + attr[1], {\\n                    type : \\\"between\\\",\\n                    value : [timeBetween(find), null]\\n                  });\\n                 \\n                }\\n              },\\n            });\\n          }else{\\n            ctrlGroups[0].push({\\n              id : list[i].id,\\n              type : \\\"button\\\",\\n              value : list[i].title,\\n              btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n              btnStyle:{\\n                \\\"width\\\":\\\"100px\\\",\\n                \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n              },\\n              on : {\\n                click : function(elem){\\n                  elem.current.btnclass = \\\"btn btn-default\\\";\\n                  var id = elem.current.id;\\n                  var find;\\n                  for(var i in list){\\n                    if(list[i].id == id){\\n                        list[i].value = 1;\\n                        find = list[i];\\n                      } else {\\n                        list[i].value = 0;\\n                      }\\n                  }\\n                  target.setScopeValue(\\\"search/\\\" + attr[0], {\\n                    type : \\\"between\\\",\\n                    value : [timeBetween(find), null]\\n                  });\\n                  target.trigger(\\\"search_toDolist\\\");\\n                  render()\\n                }\\n              }\\n            });\\n          }\\n        }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\": \\\"dark\\\",\\n  \\\"on\\\": {\\n    \\\"init\\\": function (event) {\\n        \\n        debugger\\n\\n      var target = event.target;\\n      //自定义输入\\n      var Dictionary = {\\n        deviceId: \\\"设备编号\\\",\\n        department: \\\"部门\\\",\\n        ProductionLineName: \\\"产线名\\\",\\n        failureName: \\\"事故名称\\\",\\n        stopBeginTime: \\\"停机开始时间\\\",\\n        stopEndTime: \\\"停机结束时间\\\",\\n        specialtyProp: \\\"专业属性\\\",\\n        failureGrade: \\\"事故等级\\\",\\n        dutyUserName: \\\"责任人\\\",\\n        correctiveAction: \\\"纠正措施\\\"\\n      };\\n\\n      //自定义输入\\n      // 选中左侧的树找出设备的id   \\n      var resource = target.getValue(\\\"global/resource\\\");\\n      //遍历整个树 获取 1.产线 2.基地  参数格式 stopBeginTime:[\\\"10\\\",\\\"12\\\"]\\n      event.target.postService(\\\"resourceUIService\\\",\\\"getDomainsByFilter\\\",[resource.id,{}],function(data){\\n          var getTreeData = data.data;\\n          // 1.产线\\n          var ProductionLine = getTreeData.find(function (elem) {\\n              return elem.id == resource.customerId;\\n            }) || {};\\n          target.setValue(\\\"ProductionLineName\\\",ProductionLine.name);   \\n            // 2.宝山基地炼钢\\n          var baseId = getTreeData.find(function (elem) {\\n              return elem.id == ProductionLine.parentID;\\n            }) || {};\\n           // 3.宝山基地\\n          var department = getTreeData.find(function (elem) {\\n              return elem.id == baseId.parentID;\\n            }) || {};\\n          target.setValue(\\\"department\\\",department.name);   \\n      })\\n      \\n      \\n      event.target.postService(\\\"deviceResumeUIService\\\", \\\"getDeviceFaultResumeListByDeviceId\\\", [resource.id,{}], function (datas) {\\n        var datas = datas.data;\\n        for(var i =0 ; i<datas.length;i++){\\n           datas[i].ProductionLineName = target.getValue(\\\"ProductionLineName\\\"); \\n           datas[i].department = target.getValue(\\\"department\\\");\\n        }\\n        var render = function () {\\n          var format = [];\\n          for (var i in Dictionary) {\\n            var item = target.explainDic(i, Dictionary[i]);\\n            format.push(item);\\n          }\\n          var search = target.getScopeValue(\\\"search\\\");\\n          var filter = datas.filter(function (elem) {\\n            for (var i in search) {\\n              var type = search[i].type;\\n              var value = search[i].value;\\n              if (type == \\\"between\\\") {\\n                if (value) {\\n                  var dt = target.dateHandler(elem[i]);\\n                  var dt0 = value[0];\\n                  var dt1 = value[1];\\n                  var rs = (dt0 ? dt.after(dt0) : true) && (dt1 ? dt.before(dt1) : true);\\n                  if (!rs) {\\n                    return false;\\n                  }\\n                  ;\\n                } else {\\n                  return true;\\n                }\\n\\n              } else if (type == \\\"inside\\\") {\\n                var some = value.some(function (el) {\\n                  return elem[i] == el.title || elem[i] == el.label;\\n                });\\n                if (!some) {\\n                  return false;\\n                }\\n              } else if (type == \\\"domains\\\") {\\n                return elem.domains.indexOf(value.domains) != -1;\\n              }\\n            }\\n            ;\\n            return true;\\n          })\\n          format.push({\\n            name: \\\"处理\\\",\\n            type: \\\"buttonGroup\\\",\\n            content: [{\\n              label: \\\"详情\\\",\\n              icon: \\\"null\\\",\\n              class: \\\"btn btn-default btn-sm\\\",\\n              on: {\\n                click: function (elem) {\\n                  target.navigateTo(\\\"device\\\", {\\n                    tabLabel: elem.label\\n                  });\\n\\n                }\\n              }\\n            }],\\n            render: function () {\\n              return \\\"\\\"\\n            }\\n          });\\n          target.render({\\n            data: filter,\\n            on: {\\n              rowClick: function (event) {\\n                target.createPopupBypath('analysis', {\\n                  title: \\\"诊断分析\\\",\\n                  theme: \\\"system\\\",\\n                  width: \\\"60%\\\"\\n                }, {\\n                  message: \\\"诊断分析\\\"\\n                })\\n              }\\n            },\\n            format: format\\n          });\\n        };\\n        target.off(\\\"search_toDolist\\\");\\n        target.on(\\\"search_toDolist\\\", function () {\\n          render();\\n        });\\n        render();\\n      });\\n\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "决策工作台柱状图_gaoqingxin",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds : [301,302]\\n      }, function(obj){\\n        var projects = obj.filter(function(elem){\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function(elem){\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function(devices){\\n          var ctrlGroups = [\\n              [{\\n              type : \\\"label\\\",\\n              value : \\\"设备下拉列表\\\"\\n            },{\\n              type : \\\"input\\\",\\n              value : \\\"asdasd\\\"\\n            }],\\n            [{\\n              type : \\\"label\\\",\\n              value : \\\"设备下拉列表\\\"\\n            },{\\n              type : \\\"select\\\",\\n              value : \\\"\\\",\\n              on : {\\n                change : function(elem){\\n                  console.log(elem);\\n                }\\n              },\\n              options : devices,\\n              format : {\\n                \\\"id\\\" : \\\"id\\\",\\n                \\\"label\\\" : \\\"label\\\"\\n              }\\n            }],[{\\n              type : \\\"label\\\",\\n              value : \\\"客户下拉列表\\\"\\n            },{\\n              type : \\\"select\\\",\\n              value : \\\"\\\",\\n              on : {\\n                change : function(elem){\\n                  console.log(elem);\\n                }\\n              },\\n              options : customers,\\n              format : {\\n                \\\"id\\\" : \\\"id\\\",\\n                \\\"label\\\" : \\\"label\\\"\\n              }\\n            }],[{\\n              type : \\\"label\\\",\\n              value : \\\"项目下拉列表1\\\"\\n            },{\\n              type : \\\"select\\\",\\n              value : \\\"\\\",\\n              on : {\\n                change : function(elem){\\n                  console.log(elem);\\n                }\\n              },\\n              options : projects,\\n              format : {\\n                \\\"id\\\" : \\\"id\\\",\\n                \\\"label\\\" : \\\"label\\\"\\n              }\\n            }],[{\\n              type : \\\"label\\\",\\n              value : \\\"textare\\\"\\n            },{\\n              type : \\\"textarea\\\",\\n              value : \\\"\\\"\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"诊断绩效统计（当月内）\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"#666\",\"text-align\":\"center\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"区域\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"#666\",\"text-align\":\"center\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"综合诊断准确率\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"#666\",\"text-align\":\"center\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"智能诊断准确率\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"#666\",\"text-align\":\"center\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"大数据模型预警准确率\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}}],\"col\":3}]}]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"text-align\":\"center\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"宝山\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }\\n        ],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"东山\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"青山\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"梅山\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"天山\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"松山\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"3px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-3\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-3\\\"\\n        },\\n        {\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-3\\\"\\n        }],\\n        [{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        }],\\n        [{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        }],\\n        [{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        }],\\n        [{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        }],\\n        [{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        },{\\n        type : \\\"label\\\",\\n        value : \\\"90%\\\",\\n        class : \\\"col-md-1\\\"\\n       },{\\n          type : \\\"progressbar\\\",\\n          value : 90,\\n          class : \\\"col-md-5\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}]}],\"col\":9}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"text-align\":\"left\",\"border-radius\":\"0px\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"检修实绩（当月内）\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    tooltip : {\\n        trigger: 'axis',\\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\\n            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\\n        }\\n    },\\n    legend: {\\n        data: ['状态维修项目数', '离线维修项目数']\\n    },\\n    grid: {\\n        left: '3%',\\n        right: '4%',\\n        bottom: '3%',\\n        containLabel: true\\n    },\\n    xAxis:  {\\n        type: 'value'\\n    },\\n    yAxis: {\\n        type: 'category',\\n        data: ['松山','天山','梅山','青山','东山','宝山']\\n    },\\n    series: [\\n        {\\n            name: '状态维修项目数',\\n            type: 'bar',\\n            stack: '总量',\\n            label: {\\n                normal: {\\n                    show: true,\\n                    position: 'insideRight',\\n                    textBorderColor:'0'\\n                }\\n            },\\n             itemStyle: {\\n                normal: {\\n                    color:target.linearGradient(\\n                        0, 0, 1, 0,\\n                        [\\n                            {offset: 0, color: '#ffc'},\\n                            {offset: 0.5, color: '#ff0'},\\n                            {offset: 1, color: '#f90'}\\n                        ]\\n                    )\\n                },\\n               \\n            },\\n            data: [120, 82, 144, 110, 145, 90]\\n        },\\n        {\\n            name: '离线维修项目数',\\n            type: 'bar',\\n            stack: '总量',\\n            label: {\\n                normal: {\\n                    show: true,\\n                    position: 'insideRight',\\n                     textBorderColor:'0'\\n                }\\n            },\\n             itemStyle: {\\n                normal: {\\n                    color: target.linearGradient(\\n                        0, 0, 1, 0,\\n                        [\\n                            {offset: 0, color: '#3ff'},\\n                            {offset: 0.5, color: '#39c'},\\n                            {offset: 1, color: '#30c'}\\n                        ]\\n                    )\\n                },\\n               \\n            },\\n            data: [137, 110, 156, 112, 128, 131]\\n        }\\n       \\n    ]\\n};\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}}]}]}]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      debugger;\\n      var option = {\\n    tooltip : {\\n        trigger: 'axis'\\n    },\\n    legend: {\\n        \\n        data:['每日故障时间','每日故障次数','故障总次数','故障总时间']\\n    },\\n    toolbox: {\\n        show : true,\\n        feature : {\\n            mark : {show: true},\\n            dataView : {show: true},\\n            magicType : {show: true, type: ['line', 'bar']},\\n            restore : {show: true},\\n            saveAsImage : {show: true}\\n        }\\n    },\\n    xAxis : [\\n        {\\n            type : 'category',\\n            position: 'bottom',\\n            boundaryGap: true,\\n            axisLine : {    // 轴线\\n                show: true,\\n                lineStyle: {\\n                    color: '#9aa4ac',\\n                    type: 'solid',\\n                    width: 2\\n                }\\n            },\\n             axisLabel : {\\n                show:true,\\n               interval: 'auto',    // {number}\\n                margin: 5,\\n                formatter: '{value}',\\n                textStyle: {\\n                    color: '#aeafb0',\\n                    fontSize: 17,\\n                    }\\n            },\\n           data : ['11.7','11.2','11.3','11.4','11.5','11.6','11.7'\\n               \\n            ]\\n        },\\n       \\n    ],\\n    yAxis : [\\n        {\\n            type : 'value',\\n            position: 'left',\\n            min: 0,\\n            max: 10,\\n            splitNumber: 2,\\n           // boundaryGap: [0,0.1],\\n           axisLine:{\\n               show:false\\n           },\\n           splitLine:{\\n               show:false\\n           },\\n           axisTick:{\\n               show:false\\n           },\\n            axisLabel : {\\n                show:true,\\n                interval: 'auto',    // {number}\\n                margin: 15,\\n                formatter: function (value) {\\n                    // Function formatter\\n                    return value + ' 次'\\n                }, // Template formatter!\\n                textStyle: {\\n                    color: '#69a8c7',\\n                    fontFamily: 'verdana',\\n                    fontSize: 15,\\n                    fontStyle: 'normal',\\n                    fontWeight:'lighter'\\n                }\\n            },\\n          \\n        },\\n        {\\n            type : 'value',\\n            splitNumber: 5,\\n            axisLabel : {\\n                formatter: function (value) {\\n                    // Function formatter\\n                    return value + ' min'\\n                },\\n                 textStyle: {\\n                    color: '#69a8c7',\\n                    fontFamily: 'verdana',\\n                    fontSize: 15,\\n                    fontStyle: 'normal',\\n                    fontWeight:'lighter'\\n                }\\n            },\\n             axisLine:{\\n               show:false\\n           },\\n            splitLine : {\\n                show:true,\\n                lineStyle: {\\n                    color: '#495c6a',\\n                    type: 'solid',\\n                    width: 1\\n                }\\n            }\\n        }\\n    ],\\n    series : [\\n        {\\n            name: '每日故障次数',\\n            type: 'bar',\\n            itemStyle: {\\n                normal: {\\n                    color: target.linearGradient(\\n                        0, 0, 0, 1,\\n                        [\\n                            {offset: 0, color: '#50d3b9'},\\n                            {offset: 1, color: '#6bdfc7'}\\n                        ]\\n                    )\\n                },\\n                \\n            },\\n            data:[1,0,1,0,1,0,2]\\n        },\\n        {\\n            name: '每日故障时间',\\n            type: 'bar',\\n              yAxisIndex: 1,\\n               itemStyle: {\\n                normal: {\\n                    color: target.linearGradient(\\n                        0, 0, 0, 1,\\n                        [\\n                            {offset: 0, color: '#ffa11b'},\\n                            {offset: 1, color: '#fec546'}\\n                        ]\\n                    )\\n                },\\n                \\n            },\\n            data: [10,0,10,0,5,0,10]\\n        },\\n        {\\n            name:'故障总次数',\\n            type: 'line',\\n           color:['#fa6970'],\\n           lineStyle:{\\n                normal:{\\n                    width:5,\\n                }\\n            },\\n          \\n            itemStyle:{\\n                normal:{\\n                    color:'#fa6970',\\n                    borderColor:'#fff',\\n                    borderWidth:3,\\n                    \\n                }\\n            },\\n            data: [1,1,2,2,3,3,5]\\n        },\\n        \\n        {\\n            name:'故障总时间',\\n            type: 'line',\\n            color:['#35c5fc'],\\n            yAxisIndex: 1,\\n            lineStyle:{\\n                normal:{\\n                    width:5,\\n                }\\n            },\\n          \\n            itemStyle:{\\n                normal:{\\n                    color:'#35c5fc',\\n                    borderColor:'#fff',\\n                    borderWidth:3,\\n                    \\n                }\\n            },\\n            data: [10, 10, 20, 20, 25, 25, 40]\\n        }\\n    ]\\n    \\n};\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"400px\"}}]}],\"parameters\":{}}],\"col\":6},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n           \\n    tooltip: {\\n        trigger: 'item',\\n        formatter: \\\"{a} <br/>{b}: {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        x: '25%',\\n        y:'bottom',\\n        orient:'horizontal',\\n       data:['振动','电气','液压','跳电','压力超标','漏电','负荷超标', '轴承不对中','油温过高', '齿轮磨损' ,'其他'],\\n        textStyle:{\\n            color:'#cecece'\\n        }\\n    },\\n    series: [\\n         {\\n            name: '访问来源',\\n            type: 'pie',\\n              tooltip : {\\n                 show:false\\n             },\\n            radius : '8%',\\n            color:['#dcefe1'],\\n            hoverAnimation:false,\\n            center: ['50%', '40%'],\\n            data:[\\n                {value:335, name:''},\\n              \\n            ],\\n            label:{\\n                normal:{\\n                    show:false,\\n                    \\n                },\\n                emphasis:{\\n                    show:false\\n                }\\n            },\\n            labelLine:{\\n                normal:{\\n                    show:false\\n                },\\n                emphasis:{\\n                    show:false\\n                }\\n            },\\n            itemStyle: {\\n                emphasis: {\\n                   show:false\\n                }\\n            }\\n        },\\n        {\\n            name:'',\\n             type:'pie',\\n            calculable:true,\\n             center: ['50%', '40%'],\\n           selectedMode: 'single',\\n            radius: ['8%', '27%'],\\n\\n            label: {\\n                normal: {\\n                    position: 'inner',\\n                    textBorderWidth:0,\\n                    fontWeight:'lighter',\\n                    fontSize:12,\\n                }\\n            },\\n            labelLine: {\\n                normal: {\\n                    show: false\\n                }\\n            },\\n            itemStyle:{\\n                normal:{\\n                    borderWidth:2,\\n                    borderColor:'#dcefe1',\\n                     shadowColor: 'rgba(0, 0, 0, 0.5)',\\n                     shadowBlur: 10\\n                }\\n            },\\n            data:[\\n                {value:335, name:'振动'},\\n                {value:679, name:'电气'},\\n                {value:1548, name:'液压'}\\n            ]\\n        },\\n        {\\n            name:'',\\n             center: ['50%', '40%'],\\n            type:'pie',\\n            radius: ['35%', '60%'],\\n            label: {\\n                normal: {\\n                    formatter: '  {b|{b}} ',\\n                   rich: {\\n                      \\n                        b: {\\n                            fontSize: 15,\\n                            lineHeight: 50\\n                        }\\n                       \\n                    }\\n                }\\n            },\\n            itemStyle:{\\n                normal:{\\n                    borderWidth:4,\\n                    borderColor:'#dcefe1',\\n                     shadowColor: 'rgba(0, 0, 0, 0.5)',\\n                     shadowBlur: 10\\n                }\\n            },\\n            data:[\\n                {value:335, name:'跳电'},\\n                {value:310, name:'压力超标'},\\n                {value:234, name:'漏电'},\\n                {value:135, name:'负荷超标'},\\n                {value:1048, name:'轴承不对中'},\\n                {value:251, name:'油温过高'},\\n                {value:147, name:'齿轮磨损'},\\n                {value:102, name:'其他'}\\n            ]\\n        }\\n    ]\\n        };\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"400px\"}}]}]}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n           title : {\\n        \\n        text: '1580\\\\n产线',\\n        x:'34%',\\n        y:'50%',\\n    textStyle:{\\n         color:'#babfc3',\\n    }\\n    },\\n    tooltip : {\\n        trigger: 'item',\\n        formatter: \\\"{a} <br/>{b} : {c} ({d}%)\\\"\\n    },\\n    legend: {\\n        x : 'left',\\n        y:'center',\\n        textStyle:{\\n            color:'#84898d'\\n        },\\n       orient : 'vertical',\\n        data:['已完成状态项目维修数','待完成状态项目维修数',\\n        '其他维修项目数','状态维修项目数']\\n    },\\n    toolbox: {\\n        show : true,\\n        feature : {\\n            mark : {show: true},\\n            dataView : {show: true, readOnly: false},\\n            magicType : {\\n                show: true,\\n                type: ['pie', 'funnel']\\n            },\\n            restore : {show: true},\\n            saveAsImage : {show: true}\\n        }\\n    },\\n    calculable:true,\\n    series : [\\n         {\\n            name: '',\\n            type: 'pie',\\n            radius : '10%',\\n             tooltip : {\\n                show:false\\n       \\n            },\\n            center: ['55%', '40%'],\\n            hoverAnimation:false,\\n            color:['#dde5e7'],\\n          \\n            labelLine:{\\n                normal:{\\n                    show:false\\n                },\\n                emphasis:{\\n                    show:true\\n                }\\n            },\\n            data:[\\n                {value:1, name:''},\\n                 ]\\n           \\n        },\\n          {\\n            name:'',\\n            type:'pie',\\n            radius : [ '10%','15%'],\\n             calculable : true,\\n            center : ['55%', '40%'],\\n            label: {\\n                normal: {\\n                     show: true,\\n                     color:'#fff',\\n                     },\\n                emphasis: {\\n                    show: true\\n                }\\n            },\\n            labelLine:{\\n              normal:{\\n                  show:false,\\n                 length:1,\\n                  length2:1,\\n              }  \\n            },\\n           data:[\\n                 {value:5, name:'已完成状态项目维修数', itemStyle:{\\n                   normal:{\\n                        label : {\\n                        position : 'outside',\\n                        formatter: ' {c}'\\n                    },\\n                       color: {\\n                                type: 'linear',\\n                                x: 0,\\n                                y: 0,\\n                                x2: 0,\\n                                y2: 1,\\n                            colorStops: [{\\n                             offset: 0, color: '#10ba9f' // 0% 处的颜色\\n                             }, {\\n                             offset: 1, color: '#24e2b6' // 100% 处的颜色\\n                             }],\\n                             globalCoord: false // 缺省为 false\\n                                },\\n                    borderColor: '#dde5e7',\\n                    borderWidth:3,\\n                    borderType:'solid',\\n                }\\n            }},\\n                {value:4, name:'待完成状态项目维修数', itemStyle:{\\n                normal:{\\n                      label : {\\n                        position : 'outside',\\n                       formatter: '{c}'\\n                    },\\n                     color: {\\n                                type: 'linear',\\n                                x: 0,\\n                                y: 0,\\n                                x2: 0,\\n                                y2: 1,\\n                            colorStops: [{\\n                             offset: 0, color: '#cd6b48' // 0% 处的颜色\\n                             }, {\\n                             offset: 1, color: '#c64e57' // 100% 处的颜色\\n                             }],\\n                             globalCoord: false // 缺省为 false\\n                                },\\n                              \\n                    borderColor: '#dde5e7',\\n                    borderWidth:3,\\n                    borderType:'solid',\\n                }\\n            },}\\n               \\n            ]\\n        \\n        },\\n        {\\n            name:'',\\n            type:'pie',\\n            radius : ['20%','35% '],\\n            center : ['80%', '55%'],\\n            calculable:true,\\n            avoidLabelOverlap: true,\\n            \\n           // roseType : 'area',\\n              label: {\\n                normal: {\\n                    position:'inner',\\n                    show: true,\\n                    formatter: ' {c} ',\\n                   textBorderWidth:0,\\n                },\\n              \\n            },\\n            data:[\\n               \\n                {value:11, name:'其他维修项目数', itemStyle:{\\n                   normal:{\\n                       color: {\\n                                type: 'linear',\\n                                x: 0,\\n                                y: 0,\\n                                x2: 0,\\n                                y2: 1,\\n                            colorStops: [{\\n                             offset: 0, color: '#ced2d3' // 0% 处的颜色\\n                             }, {\\n                             offset: 1, color: '#a0a0a2' // 100% 处的颜色\\n                             }],\\n                             globalCoord: false // 缺省为 false\\n                                },\\n                   borderColor: '#dde5e7',\\n                    borderWidth:3,\\n                    borderType:'solid',\\n                }\\n            }},\\n                {value:9, name:'状态维修项目数', itemStyle:{\\n                   normal:{\\n                       color: {\\n                                type: 'linear',\\n                                x: 0,\\n                                y: 0,\\n                                x2: 0,\\n                                y2: 1,\\n                            colorStops: [{\\n                             offset: 0, color: '#0b7cae' // 0% 处的颜色\\n                             }, {\\n                             offset: 1, color: '#33ddee' // 100% 处的颜色\\n                             }],\\n                             globalCoord: false // 缺省为 false\\n                                },\\n                    borderColor: '#dde5e7',\\n                    borderWidth:3,\\n                    borderType:'solid',\\n                }\\n            }}\\n               \\n            ]\\n        }\\n    ]\\n        };\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"400px\"}}]}]}],\"col\":3}]}]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[],\"col\":7},{\"type\":\"column\",\"children\":[],\"col\":5}]}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "专业分析(baogang/analysis)",
      "viewType": "dashboard",
      "content": "{\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"overflow\":\"auto\",\"background-color\":\"#04131e\",\"border\":\"0\",\"height\":\"calc( 100vh - 60px)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expression = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      var customers, projects, devices;\\n      var getData = function(returnData, callback, isDevices){\\n        var data = returnData.map(function(item){\\n          item.showfold = true;\\n          item.searchable = true;\\n          item.triggerEvent = \\\"fold\\\";\\n          item.folderStyle = 1;\\n          item.icon = \\\"tag tag-green\\\";\\n          if(isDevices){\\n            item.on = {\\n              click : function(node){\\n                node = node.node;\\n                if(node.setHighlight){\\n                  node.setHighlight(true);\\n                };\\n                var str = node.label;\\n                node.traverseParents(function(parent){\\n                  str = parent.label + \\\" / \\\" + str;\\n                })\\n                target.trigger(\\\"analysisNavigateTo\\\", 0);\\n                target.setValue(\\\"global/resource\\\", node);\\n                target.trigger(\\\"tree_resourceChange\\\", {\\n                  resource : node\\n                });\\n                target.trigger(\\\"changeNavString\\\", str);\\n              }\\n            }\\n          };\\n          return item;\\n        });\\n        var Ids = data.map(function(item){\\n          return item.id;\\n        });\\n        target.getKpiValueCi(Ids, [999999], function(valuelist){\\n          for(var i in data){\\n            var find = valuelist.find(function(value){\\n              return value.nodeId == data[i].id;\\n            });\\n            if(find){\\n              if(find.value == 0){\\n                data[i].icon = \\\"tag tag-green\\\"\\n              } else if(find.value == 1){\\n                data[i].icon = \\\"tag tag-orange\\\"\\n              } else if(find.value == 2){\\n                data[i].icon = \\\"tag tag-red\\\"\\n              }\\n            }\\n          }\\n          callback(data);\\n        })\\n      }\\n      var sortByNumber = function(a, b){\\n        var val1 = a.$attr(\\\"values/number\\\") || -2;\\n        var val2 = b.$attr(\\\"values/number\\\") || -1;\\n        return val1 - val2;\\n      }\\n      target.getResourceByModelId(301, function(data){\\n        getData(data, function(data){\\n          if(data){\\n            data.sort(sortByNumber)\\n          }\\n\\n          customers = data;\\n          target.getResourceByModelId(302, function(data){\\n            getData(data, function(data){\\n              if(data){\\n                data.sort(sortByNumber)\\n              }\\n              projects = data;\\n              target.getDevicesByCondition({},function(data){\\n                getData(data, function(data){\\n                  if(data){\\n                    data.sort(sortByNumber)\\n                  }\\n                  devices = data;\\n                  target.queryDomainTree(function(domains){\\n                    var rootNode = domains[0];\\n                    var domainsArr = [];\\n                    var traverse = function(domain){\\n                      if(domain.domainInfos){\\n                        domain.domainInfos.sort(sortByNumber)\\n                      };\\n                      domain.children = domain.domainInfos || [];\\n                      domain.showfold = true;\\n                      domain.folderStyle = 1;\\n                      domain.searchable = true;\\n                      domain.triggerEvent = \\\"fold\\\";\\n                      domain.icon = \\\"tag tag-green\\\";\\n                      delete domain.domainInfos;\\n                      var filter = customers.filter(function(customer){\\n                        return customer.domains == domain.domains + customer.id + \\\"/\\\";\\n                      });\\n                      Array.prototype.push.apply(domain.children, filter);\\n                      if(domain.children){\\n                        for(var i in domain.children){\\n                          traverse(domain.children[i])\\n                        }\\n                      }\\n                      domainsArr.push(domain)\\n                    }\\n                    traverse(rootNode);\\n                    for(var i in customers){\\n                      var filter = projects.filter(function(project){\\n                        return project.domains == customers[i].domains + project.id + \\\"/\\\";\\n                      });\\n                      console.log(\\\"customers\\\", filter)\\n                      customers[i].children = filter;\\n                    };\\n                    for(var i in projects){\\n                      var filter = devices.filter(function(device){\\n                        return device.domains == projects[i].domains;\\n                      });\\n                      projects[i].children = filter;\\n                    };\\n                    projects = projects.reduce(function(a, b){\\n                        var find = a.find(function(project){\\n                            //console.log(b.domains.indexOf(project.domains));\\n                            return b.domains.indexOf(project.domains) != -1;\\n                        })\\n                        if(find){\\n                            find.children = find.children || [];\\n                            find.children.push(b);\\n                        } else {\\n                            a.push(b)\\n                        };\\n                        return a;\\n                    },[]);\\n                    var treeDataMap = target.render(rootNode);\\n                    var resource = target.getValue(\\\"global/resource\\\");\\n                    var firstNode;\\n                    treeDataMap.traverse(function(node){\\n                      if(resource){\\n                        if(resource.id == node.id){\\n                          firstNode = node;\\n                        };\\n                      } else if(node.label.indexOf(\\\"1111\\\") != -1){\\n                        firstNode = node;\\n                      }\\n                    })\\n                    if(firstNode){\\n                        var str = firstNode.label;\\n                        firstNode.traverseParents(function(parent){\\n                          str = parent.label + \\\" / \\\" + str;\\n                        });\\n                        if(!target.getValue(\\\"global/resource\\\")){\\n                          target.setValue(\\\"global/resource\\\", firstNode);\\n                        }\\n                        target.trigger(\\\"tree_resourceChange\\\", {\\n                          resource : target.getValue(\\\"global/resource\\\")\\n                        });\\n                        target.trigger(\\\"changeNavString\\\", str);\\n                    };\\n                    treeDataMap.traverse(function(node){\\n                      if(node.level > 2){\\n                        if(node.hasDescendant(firstNode)){\\n                          if(typeof node.open == \\\"function\\\"){\\n                            node.open();\\n                          };\\n                        } else {\\n                          if(typeof node.close == \\\"function\\\"){\\n                            node.close();\\n                          };\\n                        }\\n                      } else {\\n                        if(typeof node.open == \\\"function\\\"){\\n                          node.open();\\n                        };\\n                      }\\n                      if(node == firstNode){\\n                        if(node.setHighlight){\\n                          node.setHighlight(true);\\n                        };\\n                      }\\n                    });\\n                  });\\n                }, true);\\n              })\\n            });\\n          })\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"},\"parameters\":{}}]}]}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px 15px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(str){\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"label\\\",\\n              value : str || \\\"普通标签\\\",\\n              style : {\\n                  \\\"font-weight\\\" : \\\"bold\\\",\\n                  \\\"color\\\" : \\\"#72b3d7\\\",\\n                  \\\"line-height\\\" : \\\"20px\\\"\\n              },\\n              class : \\\"col-md-12\\\"\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n      }\\n      render(\\\"读取中请稍后。。。\\\");\\n      target.off(\\\"changeNavString\\\");\\n      target.on(\\\"changeNavString\\\", function(str){\\n          render(str);\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"0 5px\",\"font-size\":\"12px\",\"color\":\"#72b3d7\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      // -------------- 初始化内容在这里设置;\\n      var TYPE = \\\"analysis\\\";\\n      if(TYPE == \\\"analysis\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"综合趋势\\\",\\n          default : \\\"baogang/analysis/general\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"特征趋势\\\",\\n          default : \\\"baogang/analysis/feature\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"时域分析\\\",\\n          default : \\\"baogang/analysis/time\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"频域波形\\\",\\n          default : \\\"baogang/analysis/frequence\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO = \\\"analysisNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelAnalysisNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"analysisviewchange\\\";\\n        var MOVETOEVENT = \\\"analysismoveTo\\\";\\n      } else if(TYPE == \\\"diagnose\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"多专业诊断\\\",\\n          default : \\\"baogang/diagnose/multiArea\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"协同诊断\\\",\\n          default : \\\"baogang/diagnose/corporation\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"视频诊断\\\",\\n          default : \\\"baogang/diagnose/video\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"报告编制\\\",\\n          default : \\\"baogang/diagnose/report\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO =  \\\"diagnoseNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelDiagnoseNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"diagnoseviewchange\\\";\\n        var MOVETOEVENT = \\\"diagnosemoveto\\\";\\n      } else if(TYPE == \\\"history\\\"){\\n        var tabs = [{\\n          id : 0,\\n          label : \\\"诊断履历\\\",\\n          default : \\\"baogang/history/diagnosehistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 1,\\n          label : \\\"故障履历\\\",\\n          default : \\\"baogang/history/malfunctionhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 2,\\n          label : \\\"检测履历\\\",\\n          default : \\\"baogang/history/checkhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 3,\\n          label : \\\"点检异常\\\",\\n          default : \\\"baogang/history/detailcheckhistory\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 4,\\n          label : \\\"报警记录\\\",\\n          default : \\\"baogang/history/warninglist\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        },{\\n          id : 5,\\n          label : \\\"诊断报告\\\",\\n          default : \\\"baogang/history/diagnosereport\\\",\\n          icon : \\\"glyphicon glyphicon-home\\\",\\n        }];\\n        var NAVIGATETO =  \\\"historyNavigateTo\\\";\\n        var CACHEDVALUENAME = \\\"controlPanelHistoryNavigation\\\";\\n        var CHANGENAVEEVENT = \\\"historyviewchange\\\";\\n        var MOVETOEVENT = \\\"historymoveto\\\";\\n      }\\n      // ------------------- 初始化内容在这里设置\\n      var target = event.target;\\n      var main = target.getParameter(\\\"main\\\") || 0;\\n      var sub = target.getParameter(\\\"sub\\\") || 0;\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        //console.log(\\\"trigger\\\", 40);\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n            //console.log(\\\"run\\\", json);\\n            target.addView({\\n              viewTitle : item.label + \\\"(工作台:\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n              viewType : \\\"dashboard\\\",\\n              content : json ? json : null,\\n            }, function(data){\\n              item.viewId = data.data.viewId;\\n              callback(data);\\n            })\\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n\\n            for(var i in tabs){\\n              var find = status.tabs.find(function(elem){\\n                return elem.id == tabs[i].id;\\n              })\\n              console.log(\\\"find\\\", find);\\n              if(find){\\n                tabs[i].viewId = find.viewId;\\n              }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : main,\\n                        sub : elem.id\\n                    }, \\\"self\\\")\\n                  render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                        title : \\\"工作台信息\\\",\\n                        theme : \\\"system\\\",\\n                        width : 500,\\n                        on : {\\n                          submit : function(item){\\n\\n                          }\\n                        }\\n                      }, elem);\\n                    }\\n                  }\\n                }/*,{\\n                 icon : \\\"glyphicon glyphicon-refresh\\\",\\n                 on : {\\n                 click : function(event){\\n                 deleteView(elem);\\n                 delete elem.viewId;\\n                 updateNaviList();\\n                 render();\\n                 }\\n                 }\\n                 }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  //select(elem)\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n\\n            if(view){\\n              target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == sub;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n              target.tabInx = concat.length - 1\\n              //select(concat[target.tabInx]);\\n            };\\n            select(concat[target.tabInx]);\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist);\\n          };\\n          target.on(NAVIGATETO, function(id){\\n            var concat = tabs.concat(subTabs);\\n            var find = concat.find(function(elem){\\n              return elem.id == id;\\n            });\\n            render(find);\\n            if(find){\\n              select(find);\\n            }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{},\"url\":\"images/map/map1.png\",\"tabInx\":0},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"min-height\":\"calc(100vh - 200px)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n      var MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n      target.off(MOVETOEVENT);\\n      target.on(MOVETOEVENT, function(path){\\n        var find = json.groups.find(function(elem){\\n          return elem.path == path;\\n        });\\n        json.layout = find.layout;\\n        target.render(json);\\n      });\\n      target.off(CHANGENAVEEVENT);\\n      target.on(CHANGENAVEEVENT, function(view){\\n        var viewId = view.viewId;\\n        target.off(\\\"tree_resourceChange\\\");\\n        if(viewId){\\n          target.setValue(\\\"global/viewId\\\", viewId);\\n          target.getViewById(viewId, function(view){\\n            var content = view.content;\\n            if(content){\\n              json = JSON.parse(content);\\n              target.render(json);\\n            } else {\\n              target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                target.render(nographe);\\n              });\\n            }\\n          });\\n        } else {\\n          var viewPath = view.default;\\n          target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n            target.render(json);\\n          });\\n        };\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type: \\\"label\\\",\\n          value: \\\"起始时间\\\",\\n          style: {\\n            textAlign: \\\"center\\\"\\n          }\\n        }, {\\n          type: \\\"dateRangePicker\\\",\\n          style : {\\n              width : \\\"400px\\\"\\n          },\\n          value: \\\"\\\",\\n          on: {\\n            change: function (elem) {\\n              event.target.trigger(\\\"dateRangeTime\\\",elem.value)\\n            }\\n          },\\n        }, {\\n          type: \\\"button\\\",\\n          btnclass: \\\"btn btn-primary\\\",\\n          value: \\\"设备信息\\\",\\n          btnStyle: {\\n            width: \\\"100px\\\",\\n          }\\n        }\\n          /*{\\n           type: \\\"button\\\",\\n           class: \\\"col-md-1 col-md-offset-1\\\",\\n           btnclass: \\\"btn btn-primary\\\",\\n           value: \\\"求助\\\",\\n           btnStyle: {\\n           width: \\\"100px\\\",\\n           }\\n           }*/\\n        ]\\n      ];\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      var time = 3000000;\\n      var kpiDes = target.getValue(\\\"global/kpi\\\");\\n      // 渲染echart图\\n      console.log(\\\"渲染echart图\\\");\\n      var renderEchart = function (startTime, endTime) {\\n        var ci = [resource.id];\\n        var kpiNames =target.getValue(\\\"kpiName\\\")||[\\\"温度\\\"];\\n       \\n        var extension = {};\\n         if(startTime){\\n             extension['startTime'] = startTime;\\n         }\\n        if(endTime){\\n             extension['endTime'] = endTime;\\n         }\\n        var xAxis = [];\\n        var kpi = kpiDes.map(function(elem){\\n            return elem.kpiId;\\n        });\\n        target.getKpiValueList(ci, kpi, time, function (returnData) {\\n            debugger;\\n          var xAxisData = [];\\n          returnData.forEach(function (ele) {\\n            xAxisData.push(target.dateHandler(ele.arisingTime).getDateString(\\\"hh:mm:ss\\\"));\\n          });\\n          var seriesData = []\\n          if (returnData) {\\n            for (var i in kpi) {\\n              var item = {\\n                name: kpiNames[i],\\n                data: returnData.map(function (elem) {\\n                  return elem.value;\\n                })\\n              }\\n              seriesData.push(item);\\n            }\\n          }\\n          var option = {\\n            title: {\\n              textStyle: {color: \\\"#fff\\\"}\\n            },\\n            tooltip: {},\\n            legend: {\\n              data: seriesData.map(function (elem) {\\n                return elem.name;\\n              })\\n            },\\n            xAxis: {\\n              boundaryGap: false,\\n              type: 'category',\\n              data: xAxisData\\n            },\\n            yAxis: {\\n              type: 'value'\\n            },\\n            dataZoom: [{\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n            }],\\n            series: seriesData.map(function (elem) {\\n              elem.type = \\\"line\\\";\\n              elem.symbolSize = 8;\\n              elem.data = elem.data;\\n              return elem;\\n            })\\n          };\\n          event.target.render(option);\\n        }, extension)\\n      }\\n      target.off(\\\"multiSelectValues\\\");\\n      target.on(\\\"multiSelectValues\\\", function(dataItems){\\n          kpiDes = dataItems;\\n          if(resource && kpiDes){\\n              renderEchart();\\n          }\\n          \\n      })\\n      target.off(\\\"tree_resourceChange.generalChart\\\");\\n      target.on(\\\"tree_resourceChange.generalChart\\\", function(res){\\n          resource = res.resource;\\n          if(resource && kpiDes){\\n              renderEchart();\\n          }\\n      });\\n      if(resource && kpiDes){\\n          renderEchart();\\n        }\\n      target.on(\\\"drawDiagnoseFeatureEchart1\\\", function (condition) {\\n        if (condition.dateRangeTime) {\\n          var startTime = JSON.stringify(condition.dateRangeTime.start);\\n          var endTime = JSON.stringify(condition.dateRangeTime.end);\\n          if (startTime || endTime) {\\n            startTime = startTime.substring(1, startTime.length - 1)\\n            endTime = endTime.substring(1, endTime.length - 1)\\n          }\\n        }\\n        kpi = [condition.kpi];     //测点（指标）\\n        if (startTime && endTime) {\\n          time = 0;\\n          randerEchart(startTime, endTime)\\n        } else {\\n          time = 3000000;\\n          randerEchart(ci, kpi, time, \\\"\\\", \\\"\\\")\\n        }\\n      });\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":9},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var dItem, kpi;\\n      var duration = null;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      var multiSelectValues = [];\\n       debugger;\\n      var success = function (resource) {\\n        var ci = [resource.id]; // 设备 526443915616079\\n        var modelId = [resource.modelId] // 获取modelId\\n        var accessConfigValues = resource.physicalConfig.accessConfigs;\\n        target.getAttrsByModelId(modelId, function (attrs) {\\n          var MeasurePointLocate = attrs.find(function (elem) {\\n              return elem.name == \\\"MeasurePointLocate\\\";\\n            }) || {};\\n          var sourceValue = eval(MeasurePointLocate.sourceValue)|| \\\"\\\";\\n          var sourceValueArr = [];\\n          for (var i in sourceValue) {\\n            for (var j in sourceValue[i]) {\\n              for(var k in sourceValue[i][j]){\\n                  var ins = sourceValue[i][j][k];\\n                  ins.configValues = accessConfigValues.find(function(accessConfigValue){\\n                      return ins.name == accessConfigValue.instance;\\n                  })\\n                sourceValueArr.push(ins);\\n                multiSelectValues.push(ins);\\n              }\\n            }\\n          };\\n          var render = function () {\\n              var getConfigValues = function(elem){\\n                  return elem.configValues;\\n              }\\n             var kpiDes = multiSelectValues\\n            .filter(getConfigValues)\\n            .map(getConfigValues)\\n            target.setValue(\\\"global/kpi\\\",kpiDes);\\n            target.trigger(\\\"multiSelectValues\\\",kpiDes);\\n            var ctrlGroups = [\\n              [ {\\n                type: \\\"checkboxlist\\\",\\n                value: sourceValueArr.map(function(source){\\n                    return source.name;\\n                }),\\n                on: {\\n                  change: function (elem) {\\n                    var elemValues = elem.value;\\n                    multiSelectValues = elem.value;\\n                  }\\n                },\\n                options: sourceValueArr,\\n                format: {\\n                  \\\"id\\\": \\\"name\\\",\\n                  \\\"label\\\": \\\"label\\\"\\n                }\\n              }]\\n            ];\\n            event.target.render(ctrlGroups);\\n          };\\n          render();\\n        })\\n      };\\n      if(resource){\\n        success(resource);\\n      }\\n      target.off(\\\"tree_resourceChange.multiSelect\\\");\\n      target.on(\\\"tree_resourceChange.multiSelect\\\", function (node) {\\n        success(node.resource);\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}]}],\"col\":3}]}]}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}]}]}],\"col\":9}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelAnalysisNavigation\",\"CHANGENAVEEVENT\":\"analysisviewchange\",\"MOVETOEVENT\":\"analysismoveTo\"},\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "关键指标对比(baogang/decider/kpicompar",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"默认页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"border\":\"0\",\"min-height\":\"calc(100vh - 150px)\",\"background\":\"rgba(0,0,0,.6)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var kpiOption = [{\\n          id : 1002,\\n          label : \\\"报警数量\\\"\\n        },{\\n          id : 1003,\\n          label : \\\"报警准确率\\\"\\n        },{\\n          id : 1004,\\n          label : \\\"判断及时率\\\"\\n        },{\\n          id : 1005,\\n          label : \\\"诊断准确率\\\"\\n        }];\\n        var valKpi = [kpiOption[0]];\\n        target.setValue(\\\"decider/kpi\\\", valKpi);\\n        var render = function(){\\n          var ctrlGroups = [\\n            [{\\n              type : \\\"label\\\",\\n              value : \\\"指标\\\"\\n            }],\\n            [{\\n              type : \\\"checkboxlist\\\",\\n              multiselect : false,\\n              value : valKpi.map(function(elem){\\n                return elem.id;\\n              }),\\n              on : {\\n                change : function(elem){\\n                  valKpi = elem.value;\\n                  target.setValue(\\\"decider/kpi\\\", valKpi);\\n                  render();\\n                }\\n              },\\n              options : kpiOption\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n        }\\n        render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"15px\",\"margin\":\"5px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  bootstrap : false,\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var CURRENTDATE = target.dateHandler(new Date());\\n      var FROMTODAY = target.dateHandler(CURRENTDATE.trimmToDate());\\n      var FROMWEEK = target.dateHandler(CURRENTDATE.trimmToWeek());\\n      var FROMMONTH = target.dateHandler(CURRENTDATE.trimmToMonth());\\n      var currentBase = {}, currentArea = {}, currentLine = {}, time = [FROMTODAY, CURRENTDATE];\\n      var model;\\n      target.off(\\\"startSearch\\\");\\n      target.off(\\\"startcompare\\\");\\n      var isSame = function(time, arr){\\n        var t1 = time[0].getTime();\\n        var t2 = time[1].getTime();\\n        var a1 = arr[0].getTime();\\n        var a2 = arr[1].getTime();\\n        return t1 == a1 && t2 == a2;\\n      }\\n      var sortByNumber = function(a, b){\\n        var val1 = a.$attr(\\\"values/number\\\") || -2;\\n        var val2 = b.$attr(\\\"values/number\\\") || -1;\\n        return val2 - val1;\\n      }\\n      var bases = [];\\n      var areas = [];\\n      var lines = [];\\n      debugger;\\n      target.queryDomainTree(function(domaintree){\\n        target.getModels(function(models){\\n          target.getResourceByModelId(301, function(customers){\\n            model = models[0];\\n            var repeat = function(node){\\n              if(node.domainInfos){\\n                for(var i in node.domainInfos){\\n                  repeat(node.domainInfos[i]);\\n                }\\n              } else {\\n                node.domainInfos = customers.filter(function(customer){\\n                  return customer.domains.indexOf(node.domains) != -1;\\n                }).sort(sortByNumber);\\n              }\\n            }\\n            repeat(domaintree[0]);\\n            bases = domaintree[0].domainInfos.sort(sortByNumber);\\n            currentBase = bases[0];\\n            areas = currentBase.domainInfos.sort(sortByNumber)\\n            currentArea = areas[0];\\n            lines = currentArea.domainInfos.sort(sortByNumber);\\n            currentLine = lines[0];\\n            var timeStr = time.map(function(elem){\\n              return elem.getDate();\\n            });\\n            target.setValue(\\\"decider/searchlist\\\", [{\\n              base : currentBase,\\n              area : currentArea,\\n              line : currentLine\\n            }])\\n            var render = function(){\\n              target.setValue(\\\"decider/base\\\", currentBase);\\n              target.setValue(\\\"decider/area\\\", currentArea);\\n              target.setValue(\\\"decider/line\\\", currentLine);\\n              target.setValue(\\\"decider/time\\\", time);\\n              target.setValue(\\\"decider/model\\\", model);\\n              var searchlist = target.getValue(\\\"decider/searchlist\\\");\\n              var first = searchlist[0];\\n              var baseGr = bases.map(function(base){\\n                var rs = base.$clone();\\n                rs.type = \\\"button\\\";\\n                //rs.class = \\\"col-md-2\\\";\\n                rs.btnclass = currentBase.id == base.id ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\";\\n                rs.btnStyle = {\\n                  width : \\\"150px\\\"\\n                };\\n                rs.format = {\\n                  id : \\\"id\\\",\\n                  label : \\\"label\\\"\\n                };\\n                rs.on = {\\n                  click : function(event){\\n                    currentBase = event.current;\\n                    lines = [];\\n                    currentLine = {};\\n                    if(currentBase.id != 0){\\n                      areas = currentBase.domainInfos.sort(sortByNumber)\\n                      currentArea = {};\\n                    } else {\\n                      areas = [];\\n                    };\\n                    render();\\n                  }\\n                }\\n                return rs;\\n              });\\n              var areaGr = areas.map(function(area){\\n                var rs = area.$clone();\\n                rs.type = \\\"button\\\";\\n                rs.btnclass = currentArea.id == area.id ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\";\\n                rs.format = {\\n                  id : \\\"id\\\",\\n                  label : \\\"label\\\"\\n                };\\n                rs.btnStyle = {\\n                  width : \\\"150px\\\"\\n                };\\n                //rs.class = \\\"col-md-2\\\";\\n                rs.on = {\\n                  click : function(event){\\n                    currentArea = event.current;\\n                    if(currentArea.id != 0){\\n                      lines = currentArea.domainInfos;\\n                      currentLine = {};\\n                    } else {\\n                      lines = [];\\n                    };\\n                    render();\\n                  }\\n                }\\n                return rs;\\n              });\\n              var lineGr = lines.map(function(line){\\n                var rs = line.$clone();\\n                rs.type = \\\"button\\\";\\n                rs.btnStyle = {\\n                  width : \\\"150px\\\"\\n                };\\n                rs.btnclass = currentLine.id == line.id ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\";\\n                rs.format = {\\n                  id : \\\"id\\\",\\n                  label : \\\"label\\\"\\n                };\\n                //rs.class = \\\"col-md-2\\\";\\n                rs.on = {\\n                  click : function(event){\\n                    currentLine = event.current;\\n                    render();\\n                  }\\n                }\\n                return rs;\\n              });\\n\\n              var ctrlGroups = [\\n                [{\\n                  type : \\\"button\\\",\\n                  value : \\\"\\\",\\n                  rowSpan : 10,\\n                  icon : \\\"glyphicon glyphicon-plus\\\",\\n                  btnclass : \\\"btn btn-primary\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"center\\\",\\n                    \\\"padding\\\" : \\\"10px 0\\\"\\n                  },\\n                  btnStyle : {\\n                    \\\"background-color\\\" : \\\"#1370cb\\\",\\n                    \\\"font-size\\\" : \\\"30px\\\",\\n                    \\\"padding\\\" : \\\"3px 12px\\\",\\n                    \\\"border-radius\\\" : \\\"10px\\\",\\n                    \\\"border\\\" : 0,\\n                    \\\"margin\\\" : \\\"auto\\\"\\n                  },\\n                  class : \\\"col-md-1\\\",\\n                  on : {\\n                    click : function(elem){\\n                      var check = function(){\\n                        if(searchlist.length > 0){\\n                          var last;\\n                          if(searchlist[0].area.id == undefined){\\n                            last = searchlist[0].base;\\n                            return last.id != currentBase.id && currentBase.id != undefined;\\n                          };\\n                          if(searchlist[0].line.id == undefined){\\n                            last = searchlist[0].area;\\n                            return last.id != currentArea.id && currentArea.id != undefined;\\n                          }\\n                          last = searchlist[0].line;\\n                          return last.id != currentLine.id && currentLine.id != undefined;\\n                        }\\n                        return true\\n                      }\\n                      if(check()){\\n                        searchlist.push({\\n                          base : currentBase,\\n                          area : currentArea,\\n                          line : currentLine\\n                        });\\n                        render();\\n                        target.trigger(\\\"startSearch\\\");\\n                      } else {\\n                        target.growl(\\\"选择范围与已选不匹配或重复，不能进行比较！\\\", \\\"error\\\");\\n                      }\\n                    }\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"基地\\\",\\n                  //class : \\\"col-md-1\\\"\\n                }].concat(baseGr)\\n              ];\\n              if(areaGr.length > 0){\\n                if(first){\\n                  if(first.area.id){\\n                    var are = [{\\n                      type : \\\"label\\\",\\n                      value : \\\"区域\\\",\\n                      //class : \\\"col-md-1\\\"\\n                    }].concat(areaGr)\\n                    ctrlGroups.push(are);\\n                  }\\n                } else {\\n                  var are = [{\\n                    type : \\\"label\\\",\\n                    value : \\\"区域\\\",\\n                    //class : \\\"col-md-1\\\"\\n                  }].concat(areaGr)\\n                  ctrlGroups.push(are);\\n                }\\n              };\\n              if(lineGr.length > 0){\\n                if(first){\\n                  if(first.line.id){\\n                    var li = [{\\n                      type : \\\"label\\\",\\n                      value : \\\"产线\\\",\\n                      //class : \\\"col-md-1\\\"\\n                    }].concat(lineGr)\\n                    ctrlGroups.push(li);\\n                  }\\n                } else {\\n                  var li = [{\\n                    type : \\\"label\\\",\\n                    value : \\\"产线\\\",\\n                    //class : \\\"col-md-1\\\"\\n                  }].concat(lineGr)\\n                  ctrlGroups.push(li);\\n                }\\n              }\\n              var modelSelector = [];\\n              var a = {\\n                type : \\\"label\\\",\\n                value : \\\"类型\\\"\\n              };\\n              var i = 0;\\n              var repeat = function(inx){\\n                debugger;\\n                var row = Math.floor(inx / 6);\\n                if(models[inx]){\\n                  modelSelector[row] = modelSelector[row] || (row ? [{\\n                      type : \\\"label\\\",\\n                      value : \\\"\\\"\\n                    }] : [{\\n                      type : \\\"label\\\",\\n                      value : \\\"类型\\\"\\n                    }]);\\n                  modelSelector[row].push({\\n                    type : \\\"button\\\",\\n                    value : models[inx].label,\\n                    btnStyle : {\\n                      width : \\\"150px\\\"\\n                    },\\n                    btnclass : model.id == models[inx].id ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    on : {\\n                      click : function(event){\\n                        model = models[inx];\\n                        render();\\n                      }\\n                    }\\n                  });\\n                  repeat(inx+1);\\n                };\\n              }\\n              repeat(i);\\n              Array.prototype.push.apply(ctrlGroups, modelSelector);\\n              var timeSelector =  [{\\n                type : \\\"label\\\",\\n                value : \\\"时间\\\"\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"当日\\\",\\n                btnStyle : {\\n                  width : \\\"150px\\\"\\n                },\\n                btnclass : isSame(time,[FROMTODAY, CURRENTDATE]) ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(event){\\n                    time = [FROMTODAY, CURRENTDATE];\\n                    render();\\n                  }\\n                }\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"本周\\\",\\n                btnStyle : {\\n                  width : \\\"150px\\\"\\n                },\\n                btnclass :isSame(time,[FROMWEEK, CURRENTDATE]) ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(event){\\n                    time = [FROMWEEK, CURRENTDATE];\\n                    render();\\n                  }\\n                }\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"本月\\\",\\n                btnStyle : {\\n                  width : \\\"150px\\\"\\n                },\\n                btnclass : isSame(time,[FROMMONTH, CURRENTDATE]) ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(event){\\n                    time = [FROMMONTH, CURRENTDATE];\\n                    render();\\n                  }\\n                }\\n              },{\\n                type : \\\"dateRangePicker\\\",\\n                colSpan : 4,\\n                value : time.map(function(elem){\\n                  var rs = elem.getDate();\\n                  return rs;\\n                }),\\n                on : {\\n                  change : function(event){\\n                    time = [target.dateHandler(event.value.start),target.dateHandler(event.value.end)];\\n                    render();\\n                  }\\n                },\\n                style : {\\n                  width : \\\"250px\\\"\\n                }\\n              }]\\n              ctrlGroups.push(timeSelector);\\n              target.render(ctrlGroups);\\n            };\\n            render();\\n            target.wait(function(){\\n              var events = target.getEvents();\\n              return events['startcompare'] && events['startSearch']['list'] && events['startSearch']['text'];\\n            }, function(){\\n              target.trigger(\\\"startSearch\\\");\\n              target.trigger(\\\"startcompare\\\");\\n            });\\n          })\\n        })\\n\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"15px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"查询结果\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var render = function(str){\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"label\\\",\\n               value : str,\\n               class : \\\"col-md-8\\\",\\n           },{\\n              type : \\\"button\\\",\\n              value : \\\"开始对比\\\",\\n              icon : \\\"glyphicon glyphicon-transfer\\\",\\n              btnclass : \\\"btn btn-primary pull-right\\\",\\n              class : \\\"col-md-4\\\",\\n              on : {\\n                click : function(elem){\\n                  target.trigger(\\\"startcompare\\\")\\n                }\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      };\\n      render(\\\"全部\\\");\\n      target.on(\\\"startSearch.text\\\", function(){\\n        var decider = target.getValue(\\\"decider\\\");\\n        var getString = function(){\\n          var base = decider.base;\\n          var area = decider.area;\\n          var line = decider.line;\\n          if(base.id == 0){\\n            str = \\\"全部\\\";\\n            return str;\\n          } else {\\n            str  = base.label;\\n          }\\n          if(area.id == 0){\\n            str += \\\" / 全部\\\"\\n            return str\\n          } else {\\n            str  += \\\" / \\\" + area.label;\\n          }\\n          if(line.id == 0){\\n            str += \\\" / 全部\\\"\\n            return str\\n          } else {\\n            str += \\\" / \\\" + line.label;\\n          }\\n          return str;\\n        }\\n        var kpi = decider.kpi;\\n        var str = getString();\\n        if(kpi.length > 0){\\n          str += \\\"   (\\\" + kpi.map(function(elem){\\n              return elem.label\\n            }).toString() + \\\")   \\\";\\n        };\\n        var time = decider.time;\\n        str += time.map(function(elem){\\n            return elem.getDateString(\\\"yy/MM/dd\\\");\\n        }).toString().replace(\\\",\\\",\\\"  -  \\\");\\n        render(str);\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      target.off(\\\"startSearch.list\\\");\\n      target.on(\\\"startSearch.list\\\", function(){\\n          debugger;\\n        var render = function(){\\n          var model = target.getValue(\\\"decider/model\\\");\\n          var time = target.getValue(\\\"decider/time\\\");\\n          var Dic = {\\n            base : \\\"基地\\\",\\n            area : \\\"区域\\\",\\n            line : \\\"产线\\\",\\n            model : \\\"模型\\\",\\n            time : \\\"时间段\\\"\\n          }\\n          var searchlist = target.getValue(\\\"decider/searchlist\\\");\\n          var inx = 0;\\n          var list = searchlist.map(function(elem){\\n            var rs = {};\\n            rs.index = inx\\n            rs.base = elem.base.label;\\n            if(elem.area.id){\\n              rs.area = elem.area.label;\\n            };\\n            if(elem.line.id){\\n              rs.line = elem.line.label;\\n            };\\n            rs.model = model.label;\\n            rs.time = time.map(function(elem){\\n                return elem.getDateString(\\\"yy/MM/dd\\\")\\n            }).toString();\\n            inx++;\\n            return rs;\\n          })\\n          var first = searchlist[0];\\n          var format = [];\\n          for(var i in Dic){\\n            format.push({\\n                type : \\\"text\\\",\\n                value : i,\\n                name : Dic[i]\\n              });\\n          };\\n          format.push({\\n            type : \\\"button\\\",\\n            name : \\\"操作\\\",\\n            label : \\\"删除\\\",\\n            class : \\\"btn btn-primary\\\",\\n            icon : \\\"glyphicon glyphicon-remove\\\",\\n            on : {\\n              click : function(event){\\n                var index = event.row.index;\\n                searchlist.splice(index,1);\\n                render();\\n              }\\n            }\\n          });\\n          debugger;\\n          target.render({\\n            data : list,\\n            format : format\\n          });\\n        }\\n        render();\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"15px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"auto\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var NUMBER = 10;\\n      target.off(\\\"startcompare\\\");\\n      target.on(\\\"startcompare\\\", function(){\\n        var decider = target.getValue(\\\"decider\\\");\\n        var searchlist = target.getValue(\\\"decider/searchlist\\\");\\n        var time = target.getValue(\\\"decider/time\\\");\\n        debugger;\\n        if(searchlist.length > 0){\\n          var last = \\\"base\\\";\\n          if(searchlist[0].area.id){\\n            last = \\\"area\\\"\\n          }\\n          if(searchlist[0].line.id){\\n            last = \\\"line\\\";\\n          }\\n        }\\n        var start = time[0];\\n        var startClone = start.clone();\\n        var end = time[1];\\n        var dif = target.dateHandler(end.minus(start)).getTime() / (NUMBER - 1);\\n        var xAxis = [];\\n        while(startClone.before(end)){\\n          var clone = startClone.clone();\\n          startClone.addTimeStamp(dif);\\n          xAxis.push(clone);\\n        };\\n        var simData = {\\n          name : function(inx, target){\\n            return searchlist.map(function(elem){\\n              return elem[last].label\\n            })[inx % searchlist.length]\\n          },\\n          value : function(inx, target){\\n            return target.random(100, 2);\\n          }\\n        };\\n        target.getSimulateApi(simData, NUMBER * searchlist.length, function(data){\\n          var option = {\\n            tooltip: {\\n              trigger : \\\"axis\\\"\\n            },\\n            legend: {\\n              data:searchlist.map(function(elem){\\n                return elem[last].label\\n              })\\n            },\\n            xAxis: {\\n              data: xAxis.map(function(elem){\\n                return elem.getDateString(\\\"yy年MM月dd日\\\")\\n              })\\n            },\\n            yAxis: {},\\n            series: searchlist.map(function(elem){\\n              var rs = {};\\n              rs.name = elem[last].label;\\n              rs.type = \\\"line\\\";\\n              rs.data = data.filter(function(el){\\n                return el.name == elem[last].label;\\n              }).map(function(elem){\\n                return elem.value;\\n              })\\n              return rs\\n            })\\n          };\\n          debugger;\\n          target.render(option);\\n        })\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}}]}]}],\"col\":10}]}],\"col\":12},\"$$hashKey\":\"object:1319\"},{\"label\":\"弹出窗\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"auto\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var NUMBER = 10;\\n      var target = event.target;\\n      var input = target.getPopupData();\\n      var time = input.time;\\n      var start = time[0];\\n      var startClone = start.clone();\\n      var end = time[1];\\n      var dif = target.dateHandler(end.minus(start)).getTime() / NUMBER;\\n      var xAxis = [];\\n      while(startClone.before(end)){\\n        var clone = startClone.clone();\\n        startClone.addTimeStamp(dif);\\n        xAxis.push(clone);\\n      };\\n      var domains = input.domains;\\n      var attribute = input.attribute;\\n      debugger;\\n      var simData = {\\n        nodeId : function(inx, target){\\n          return domains[inx % 2].id\\n        },\\n        value : function(inx, target){\\n          return target.random(100, 2);\\n        },\\n        arrisingTime : function(inx, target){\\n          var d = Math.floor(inx / 2);\\n          return xAxis[d].getDateString(\\\"yy/MM/dd,hh:mm:ss\\\");\\n        }\\n      }\\n      target.getSimulateApi(simData, NUMBER * 2, function(data){\\n        var series = domains.map(function(elem){\\n          var rs = {\\n            name : elem.label,\\n            type : \\\"line\\\",\\n            data : data.filter(function(el){\\n              return el.nodeId == elem.id;\\n            }).map(function(e){\\n              return e.value;\\n            })\\n          }\\n          return rs;\\n        });\\n        var option = {\\n          tooltip: {\\n                trigger : \\\"axis\\\"\\n            },\\n          legend: {\\n            data:domains.map(function(elem){\\n              return elem.label;\\n            })\\n          },\\n          xAxis: {\\n            triggerEvent : \\\"xAxis\\\",\\n            boundaryGap : false,\\n            data: xAxis.map(function(elem){\\n              return elem.getDateString(\\\"yy年MM月dd日,hh时\\\");\\n            })\\n          },\\n          yAxis: {},\\n          series: series\\n        };\\n        debugger;\\n        target.render(option);\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1353\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "关键指标跟踪(工作台_baogang/decider/kpitr",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"默认页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"border\":\"0\",\"min-height\":\"calc(100vh - 150px)\",\"background\":\"rgba(0,0,0,.6)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var kpiOption = [{\\n          id : 1002,\\n          label : \\\"报警数量\\\"\\n        },{\\n          id : 1003,\\n          label : \\\"报警准确率\\\"\\n        },{\\n          id : 1004,\\n          label : \\\"判断及时率\\\"\\n        },{\\n          id : 1005,\\n          label : \\\"诊断准确率\\\"\\n        }];;\\n        var categoryOption = [{\\n          id : 0,\\n          label : \\\"按设备列别\\\"\\n        },{\\n          id : 1,\\n          label : \\\"按专业们类\\\"\\n        },{\\n          id : 2,\\n          label : \\\"按故障类别\\\"\\n        },{\\n          id : 3,\\n          label : \\\"按状态级别\\\"\\n        }];\\n        var valKpi = [kpiOption[0]];\\n        var valCat = [categoryOption[0]];\\n        target.setValue(\\\"decider/kpi\\\", valKpi);\\n        target.setValue(\\\"decider/category\\\", valCat);\\n        var render = function(){\\n          var ctrlGroups = [\\n            [{\\n              type : \\\"label\\\",\\n              value : \\\"指标\\\"\\n            }],\\n            [{\\n              type : \\\"checkboxlist\\\",\\n              multiselect : false,\\n              value : valKpi.map(function(elem){\\n                return elem.id;\\n              }),\\n              on : {\\n                change : function(elem){\\n                  valKpi = elem.value;\\n                  target.setValue(\\\"decider/kpi\\\", valKpi);\\n                  render();\\n                }\\n              },\\n              options : kpiOption\\n            }],\\n            [{\\n              type : \\\"label\\\",\\n              value : \\\"分类\\\"\\n            }],\\n            [{\\n              type : \\\"checkboxlist\\\",\\n              multiselect : false,\\n              value : valCat.map(function(elem){\\n                return elem.id;\\n              }),\\n              on : {\\n                change : function(elem){\\n                  valCat = elem.value;\\n                  target.setValue(\\\"decider/category\\\", valCat);\\n                  render();\\n                }\\n              },\\n              options : categoryOption\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n        }\\n        render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"15px\",\"margin\":\"5px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  bootstrap : false,\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var CURRENTDATE = target.dateHandler(new Date());\\n      var FROMTODAY = target.dateHandler(CURRENTDATE.trimmToDate());\\n      var FROMWEEK = target.dateHandler(CURRENTDATE.trimmToWeek());\\n      var FROMMONTH = target.dateHandler(CURRENTDATE.trimmToMonth());\\n      var ALLBASE = {\\n        id : 0,\\n        label : \\\"全部\\\"\\n      };\\n      var ALLAREA = {\\n        id : 0,\\n        label : \\\"全部\\\"\\n      };\\n      var ALLLINE = {\\n        id : 0,\\n        label : \\\"全部\\\"\\n      }\\n      var sortByNumber = function(a, b){\\n        var val1 = a.$attr(\\\"values/number\\\") || -2;\\n        var val2 = b.$attr(\\\"values/number\\\") || -1;\\n        return val2 - val1;\\n      }\\n      var currentBase = ALLBASE, currentArea = {}, currentLine = {}, time = [FROMTODAY, CURRENTDATE];\\n      var isSame = function(time, arr){\\n        var t1 = time[0].getTime();\\n        var t2 = time[1].getTime();\\n        var a1 = arr[0].getTime();\\n        var a2 = arr[1].getTime();\\n        return t1 == a1 && t2 == a2;\\n      }\\n      var bases = [];\\n      var areas = [];\\n      var lines = [];\\n      target.queryDomainTree(function(domaintree){\\n        target.getResourceByModelId(301, function(customers){\\n          var repeat = function(node){\\n            if(node.domainInfos){\\n              for(var i in node.domainInfos){\\n                repeat(node.domainInfos[i]);\\n              }\\n            } else {\\n              node.domainInfos = customers.filter(function(customer){\\n                return customer.domains.indexOf(node.domains) != -1;\\n              }).sort(sortByNumber);\\n            }\\n          }\\n          repeat(domaintree[0]);\\n          bases = domaintree[0].domainInfos.sort(sortByNumber);\\n          ALLBASE.data = bases;\\n          var timeStr = time.map(function(elem){\\n            return elem.getDate();\\n          });\\n          var render = function(){\\n            target.setValue(\\\"decider/base\\\", currentBase);\\n            target.setValue(\\\"decider/area\\\", currentArea);\\n            target.setValue(\\\"decider/line\\\", currentLine);\\n            target.setValue(\\\"decider/time\\\", time);\\n            var baseGr = [ALLBASE].concat(bases).map(function(base){\\n              var rs = base.$clone();\\n              rs.type = \\\"button\\\";\\n              //rs.class = \\\"col-md-2\\\";\\n              rs.btnclass = currentBase.id == base.id ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\";\\n              rs.btnStyle = {\\n                width : \\\"120px\\\"\\n              };\\n              rs.format = {\\n                id : \\\"id\\\",\\n                label : \\\"label\\\"\\n              };\\n              rs.on = {\\n                click : function(event){\\n                  currentBase = event.current;\\n                  lines = [];\\n                  currentLine = {};\\n                  if(currentBase.id != 0){\\n                    ALLAREA.data = currentBase.domainInfos.sort(sortByNumber);\\n                    areas = currentBase.domainInfos.sort(sortByNumber)\\n                    currentArea = ALLAREA;\\n                  } else {\\n                    areas = [];\\n                  };\\n                  render();\\n                }\\n              }\\n              return rs;\\n            });\\n            var areaGr = [ALLAREA].concat(areas).map(function(area){\\n              var rs = area.$clone();\\n              rs.type = \\\"button\\\";\\n              rs.btnclass = currentArea.id == area.id ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\";\\n              rs.format = {\\n                id : \\\"id\\\",\\n                label : \\\"label\\\"\\n              };\\n              rs.btnStyle = {\\n                width : \\\"120px\\\"\\n              };\\n              //rs.class = \\\"col-md-2\\\";\\n              rs.on = {\\n                click : function(event){\\n                  currentArea = event.current;\\n                  if(currentArea.id != 0){\\n                    ALLLINE.data = currentArea.domainInfos;\\n                    lines = currentArea.domainInfos;\\n                    currentLine = ALLLINE;\\n                  } else {\\n                    lines = [];\\n                  };\\n                  render();\\n                }\\n              }\\n              return rs;\\n            });\\n            var lineGr = [ALLLINE].concat(lines).map(function(line){\\n              var rs = line.$clone();\\n              rs.type = \\\"button\\\";\\n              rs.btnStyle = {\\n                width : \\\"120px\\\"\\n              };\\n              rs.btnclass = currentLine.id == line.id ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\";\\n              rs.format = {\\n                id : \\\"id\\\",\\n                label : \\\"label\\\"\\n              };\\n              //rs.class = \\\"col-md-2\\\";\\n              rs.on = {\\n                click : function(event){\\n                  currentLine = event.current;\\n                  render();\\n                }\\n              }\\n              return rs;\\n            });\\n            \\n            var ctrlGroups = [\\n              [{\\n                  type : \\\"button\\\",\\n                  value : \\\"\\\",\\n                  rowSpan : 4,\\n                  icon : \\\"glyphicon glyphicon-search\\\",\\n                  btnclass : \\\"btn btn-primary\\\",\\n                  style : {\\n                      \\\"text-align\\\" : \\\"center\\\",\\n                      \\\"padding\\\" : \\\"10px 0\\\"\\n                  },\\n                  btnStyle : {\\n                      \\\"background-color\\\" : \\\"#1370cb\\\",\\n                      \\\"font-size\\\" : \\\"30px\\\",\\n                      \\\"padding\\\" : \\\"3px 12px\\\",\\n                      \\\"border-radius\\\" : \\\"10px\\\",\\n                      \\\"border\\\" : 0,\\n                      \\\"margin\\\" : \\\"auto\\\"\\n                  },\\n                  class : \\\"col-md-1\\\",\\n                  on : {\\n                    click : function(elem){\\n                        target.trigger(\\\"startSearch\\\");\\n                    }\\n                  }\\n                },{\\n                type : \\\"label\\\",\\n                value : \\\"基地\\\",\\n                //class : \\\"col-md-1\\\"\\n              }].concat(baseGr)\\n            ];\\n            if(areaGr.length > 1){\\n              var are = [{\\n                type : \\\"label\\\",\\n                value : \\\"区域\\\",\\n                //class : \\\"col-md-1\\\"\\n              }].concat(areaGr)\\n              ctrlGroups.push(are);\\n            };\\n            if(lineGr.length > 1){\\n              var li = [{\\n                type : \\\"label\\\",\\n                value : \\\"产线\\\",\\n                //class : \\\"col-md-1\\\"\\n              }].concat(lineGr)\\n              ctrlGroups.push(li);\\n            }\\n            var timeSelector =  [{\\n              type : \\\"label\\\",\\n              value : \\\"时间\\\"\\n            },{\\n              type : \\\"button\\\",\\n              value : \\\"当日\\\",\\n              btnStyle : {\\n                width : \\\"120px\\\"\\n              },\\n              btnclass : isSame(time,[FROMTODAY, CURRENTDATE]) ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n              on : {\\n                click : function(event){\\n                  time = [FROMTODAY, CURRENTDATE];\\n                  render();\\n                }\\n              }\\n            },{\\n              type : \\\"button\\\",\\n              value : \\\"本周\\\",\\n              btnStyle : {\\n                width : \\\"120px\\\"\\n              },\\n              btnclass :isSame(time,[FROMWEEK, CURRENTDATE]) ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n              on : {\\n                click : function(event){\\n                  time = [FROMWEEK, CURRENTDATE];\\n                  render();\\n                }\\n              }\\n            },{\\n              type : \\\"button\\\",\\n              value : \\\"本月\\\",\\n              btnStyle : {\\n                width : \\\"120px\\\"\\n              },\\n              btnclass : isSame(time,[FROMMONTH, CURRENTDATE]) ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n              on : {\\n                click : function(event){\\n                  time = [FROMMONTH, CURRENTDATE];\\n                  render();\\n                }\\n              }\\n            },{\\n              type : \\\"dateRangePicker\\\",\\n              colSpan : 8,\\n              value : time.map(function(elem){\\n                var rs = elem.getDate();\\n                return rs;\\n              }),\\n              on : {\\n                change : function(event){\\n                  time = [target.dateHandler(event.value.start),target.dateHandler(event.value.end)];\\n                  render();\\n                }\\n              },\\n              style : {\\n                width : \\\"250px\\\"\\n              }\\n            }]\\n            ctrlGroups.push(timeSelector);\\n            target.render(ctrlGroups);\\n          };\\n          render();\\n          target.wait(function(){\\n              var events = target.getEvents();\\n              return events['startSearch']['echart'] && events['startSearch']['list'] && events['startSearch']['text'];\\n          }, function(){\\n              target.trigger(\\\"startSearch\\\");\\n          });\\n        })\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"15px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"padding\":\"0\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"查询结果\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var render = function(str){\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"label\\\",\\n               value : str,\\n               class : \\\"col-md-8\\\",\\n           },{\\n              type : \\\"button\\\",\\n              value : \\\"导出\\\",\\n              icon : \\\"glyphicon glyphicon-search\\\",\\n              btnclass : \\\"btn btn-primary pull-right\\\",\\n              class : \\\"col-md-4\\\",\\n              on : {\\n                click : function(elem){\\n                  console.log(\\\"123\\\");\\n                }\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      };\\n      render(\\\"全部\\\");\\n      target.off(\\\"startSearch.text\\\");\\n      target.on(\\\"startSearch.text\\\", function(){\\n        var decider = target.getValue(\\\"decider\\\");\\n        var getString = function(){\\n          var base = decider.base;\\n          var area = decider.area;\\n          var line = decider.line;\\n          if(base.id == 0){\\n            str = \\\"全部\\\";\\n            return str;\\n          } else {\\n            str  = base.label;\\n          }\\n          if(area.id == 0){\\n            str += \\\" / 全部\\\"\\n            return str\\n          } else {\\n            str  += \\\" / \\\" + area.label;\\n          }\\n          if(line.id == 0){\\n            str += \\\" / 全部\\\"\\n            return str\\n          } else {\\n            str += \\\" / \\\" + line.label;\\n          }\\n          return str;\\n        }\\n        var kpi = decider.kpi;\\n        var str = getString();\\n        if(kpi.length > 0){\\n          str += \\\"   (\\\" + kpi.map(function(elem){\\n              return elem.label\\n            }).toString() + \\\")   \\\";\\n        };\\n        var time = decider.time;\\n        str += time.map(function(elem){\\n            return elem.getDateString(\\\"yy/MM/dd\\\");\\n        }).toString().replace(\\\",\\\",\\\"  -  \\\");\\n        render(str);\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      target.on(\\\"startSearch.list\\\", function(){\\n        var decider = target.getValue(\\\"decider\\\");\\n        var domains = decider.domains;\\n        var time = decider.time;\\n        var getDomain = function(){\\n            var base = decider.base;\\n            var area = decider.area;\\n            var line = decider.line;\\n            if(base.id == 0){\\n                return base.data\\n            };\\n            if(area.id == 0){\\n                return area.data;\\n            };\\n            if(line.id == 0){\\n                return line.data;\\n            } else {\\n                return [line]\\n            }\\n        }\\n        var domains = getDomain();\\n        var Dic = {\\n            ext : \\\"范围\\\",\\n            a : \\\"电机\\\",\\n            b : \\\"电器柜\\\",\\n            c : \\\"风机\\\",\\n            d : \\\"泵\\\",\\n            e : \\\"齿轮箱\\\",\\n            f : \\\"液压系统\\\",\\n            g : \\\"传动轴\\\"\\n        }\\n        var simData = {\\n            ext : function(inx, target){\\n                    return domains[inx].label\\n                },\\n            a : function(inx, target){\\n                    return target.random(100, 2);\\n                },\\n            b : function(inx, target){\\n                    return target.random(100, 2);\\n                },\\n            c : function(inx, target){\\n                    return target.random(100, 2);\\n                },\\n            d : function(inx, target){\\n                    return target.random(100, 2);\\n                },\\n            e : function(inx, target){\\n                    return target.random(100, 2);\\n                },\\n            f : function(inx, target){\\n                    return target.random(100, 2);\\n                },\\n            g : function(inx, target){\\n                    return target.random(100, 2);\\n                }\\n        }\\n        target.getSimulateApi(simData, domains.length, function(data){\\n            var format = [];\\n            for(var i in Dic){\\n                format.push({\\n                    type : \\\"link\\\",\\n                    name : Dic[i],\\n                    value : i,\\n                    on : {\\n                        click : function(event){\\n                            target.createSystemPopupByLocalPath(\\\"popup\\\", {\\n                                title : Dic[i] + \\\"(\\\" + time[0].getDateString(\\\"yy/MM/dd\\\") + \\\"至\\\" + time[1].getDateString(\\\"yy/MM/dd\\\") + \\\")数据统计\\\",\\n                                width : \\\"600px\\\"\\n                            }, {\\n                                domains : domains,\\n                                attribute : Dic[i],\\n                                time : time\\n                            })\\n                        }\\n                    }\\n                })\\n            }\\n            var source = {\\n                data : data,\\n                format : format\\n            };\\n            target.render(source);\\n        })\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"15px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"auto\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      target.off(\\\"startSearch.echart\\\");\\n      target.on(\\\"startSearch.echart\\\", function(){\\n        var decider = target.getValue(\\\"decider\\\");\\n        var getDomain = function(){\\n          var base = decider.base;\\n          var area = decider.area;\\n          var line = decider.line;\\n          if(base.id == 0){\\n            return base.data\\n          };\\n          if(area.id == 0){\\n            return area.data;\\n          };\\n          if(line.id == 0){\\n            return line.data;\\n          } else {\\n            return [line]\\n          }\\n        }\\n        var domains = getDomain();\\n        var Dic = {\\n          ext : \\\"范围\\\",\\n          a : \\\"电机\\\",\\n          b : \\\"电器柜\\\",\\n          c : \\\"风机\\\",\\n          d : \\\"泵\\\",\\n          e : \\\"齿轮箱\\\",\\n          f : \\\"液压系统\\\",\\n          g : \\\"传动轴\\\"\\n        }\\n        var simData = {\\n          ext : function(inx, target){\\n            return domains[inx].label\\n          },\\n          a : function(inx, target){\\n            return target.random(100, 2);\\n          },\\n          b : function(inx, target){\\n            return target.random(100, 2);\\n          },\\n          c : function(inx, target){\\n            return target.random(100, 2);\\n          },\\n          d : function(inx, target){\\n            return target.random(100, 2);\\n          },\\n          e : function(inx, target){\\n            return target.random(100, 2);\\n          },\\n          f : function(inx, target){\\n            return target.random(100, 2);\\n          },\\n          g : function(inx, target){\\n            return target.random(100, 2);\\n          }\\n        }\\n        target.getSimulateApi(simData, domains.length, function(data){\\n          var lg = [];\\n          for(var i in Dic){\\n              if(i != 'ext'){\\n                  lg.push(Dic[i])\\n              }\\n          }\\n          var series = [];\\n          for(var i in Dic){\\n              if(i != 'ext'){\\n                  var inx = 0;\\n                  var rs = {\\n                      name : Dic[i],\\n                      type : \\\"bar\\\",\\n                      data : domains.map(function(elem){\\n                          var rs = data[inx][i];\\n                          inx++\\n                          return rs\\n                      })\\n                  };\\n                  series.push(rs);\\n              }\\n          }\\n          var option = {\\n            tooltip: {\\n                trigger : \\\"axis\\\"\\n            },\\n            legend: {\\n              data:lg\\n            },\\n            xAxis: {\\n              data: domains.map(function(elem){\\n                  return elem.label;\\n              })\\n            },\\n            yAxis: {},\\n            series: series\\n          };\\n          target.render(option);\\n        })\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}}]}]}],\"col\":10}]}],\"col\":12},\"$$hashKey\":\"object:1319\"},{\"label\":\"弹出窗\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"auto\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var NUMBER = 10;\\n      var target = event.target;\\n      var input = target.getPopupData();\\n      var time = input.time;\\n      var start = time[0];\\n      var startClone = start.clone();\\n      var end = time[1];\\n      var dif = target.dateHandler(end.minus(start)).getTime() / NUMBER;\\n      var xAxis = [];\\n      while(startClone.before(end)){\\n        var clone = startClone.clone();\\n        startClone.addTimeStamp(dif);\\n        xAxis.push(clone);\\n      };\\n      var domains = input.domains;\\n      var attribute = input.attribute;\\n      debugger;\\n      var simData = {\\n        nodeId : function(inx, target){\\n          return domains[inx % domains.length].id\\n        },\\n        value : function(inx, target){\\n          return target.random(100, 2);\\n        },\\n        arrisingTime : function(inx, target){\\n          var d = Math.floor(inx / domains.length);\\n          return xAxis[d].getDateString(\\\"yy/MM/dd,hh:mm:ss\\\");\\n        }\\n      }\\n      target.getSimulateApi(simData, NUMBER * domains.length, function(data){\\n        var series = domains.map(function(elem){\\n          var rs = {\\n            name : elem.label,\\n            type : \\\"line\\\",\\n            data : data.filter(function(el){\\n              return el.nodeId == elem.id;\\n            }).map(function(e){\\n              return e.value;\\n            })\\n          }\\n          return rs;\\n        });\\n        var option = {\\n          tooltip: {\\n                trigger : \\\"axis\\\"\\n            },\\n          legend: {\\n            data:domains.map(function(elem){\\n              return elem.label;\\n            })\\n          },\\n          xAxis: {\\n            triggerEvent : \\\"xAxis\\\",\\n            boundaryGap : false,\\n            data: xAxis.map(function(elem){\\n              return elem.getDateString(\\\"yy年MM月dd日,hh时\\\");\\n            })\\n          },\\n          yAxis: {},\\n          series: series\\n        };\\n        debugger;\\n        target.render(option);\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1353\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "deleted",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var lngs = [70, 139];\\n      var lats = [12, 56];\\n      var rootScope = target.getRootScope();\\n      target.render();\\n      target.on(\\\"$loadCiKpiComplete\\\", function(cells){\\n        target.getDomainAreaLineTree(function(domaintree){\\n          var domains = domaintree.children.sort(function(a,b){\\n            var y1 = a.$attr(\\\"values/latitude\\\");\\n            var y2 = b.$attr(\\\"values/latitude\\\");\\n            return y2 - y1;\\n          });\\n          var WIDTH = 1200, HEIGHT = 700;\\n          var ci = domains.map(function(elem){\\n            return elem.id;\\n          });\\n          var kpi = [999999, 3017];\\n          target.getKpiValueCi(ci, kpi, function(valuelist){\\n            var create3Dbar = function(domain){\\n              var name = domain.label;\\n              var lng = domain.values.longitude;\\n              var lat = domain.values.latitude;\\n              target.create3Dbar(name, function(ins){\\n                  debugger;\\n                  var find = valuelist.find(function(value){\\n                      return value.nodeId == domain.id && value.kpiCode == 999999;\\n                  }) || {};\\n                  var persentage = valuelist.find(function(value){\\n                      return value.nodeId == domain.id && value.kpiCode == 3017;\\n                  }) || {};\\n                ins.setAlarmStatus(find.value);\\n                ins.setValue(persentage.value || 0);\\n                var x = (lng - lngs[0]) / (lngs[1] - lngs[0]) * 1200;\\n                var y = (lats[1] - lat) / (lats[1] - lats[0]) * 700;\\n                ins.setPos({\\n                  x : x,\\n                  y : y\\n                })\\n                console.log(x, y);\\n                ins.on(\\\"click\\\", function(event){\\n                  target.navigateTo(\\\"index\\\", {\\n                    main : [0, \\\"navigate\\\"],\\n                    id : domain.id\\n                  }, \\\"self\\\");\\n                })\\n              });\\n            }\\n            for(var i in domains){\\n              create3Dbar(domains[i])\\n            }\\n          });\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"100px 0 0 0\",\"height\":\"600px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":546900339506066,\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "决策者管理工作台_朱小月",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"区域中心\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      // 5 \\\"点检管理工作台\\\"\\n      var ROLE = 4;\\n      if(ROLE == 0){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/alert/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/alert/area\\\"\\n          }];\\n      } else if(ROLE == 1){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 2,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 3,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 4,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 2){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/corporation/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          }];\\n      }  else if(ROLE == 3){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"审核\\\",\\n            default : \\\"baogang/critisize\\\"\\n          },{\\n            id : 2,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 3,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 4,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 5,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 4){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"关键指标跟踪\\\",\\n            default : \\\"baogang/decider/kpitracker\\\"\\n          },{\\n            id : 2,\\n            label : \\\"关键指标对比\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          }];\\n      }else if(ROLE == 5){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/checker/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准维护\\\",\\n            default : \\\"baogang/checker/biaozhunweihu\\\"\\n          },{\\n            id : 2,\\n            label : \\\"点检计划\\\",\\n            default : \\\"baogang/checker/dianjianjihua\\\"\\n          },{\\n            id : 3,\\n            label : \\\"故障管理\\\",\\n            default : \\\"baogang/checker/guzhangguanli\\\"\\n          },{\\n            id : 4,\\n            label : \\\"检修委托\\\",\\n            default : \\\"baogang/checker/jianxiuweituo\\\"\\n          },{\\n            id : 5,\\n            label : \\\"备修委托\\\",\\n            default : \\\"baogang/checker/beixiuweituo\\\"\\n          },{\\n            id : 6,\\n            label : \\\"统计分析\\\",\\n            default : \\\"baogang/checker/tongjifenxi\\\"\\n          }];\\n      };\\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n          CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\";\\n      // ------------------- 初始化内容在这里设置\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var param = target.getParameter(\\\"main\\\");\\n      var main, path;\\n      if(param instanceof Array){\\n          main = param[0];\\n          path = param[1];\\n      } else {\\n          main = param\\n      }\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        console.log(obj);\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item, path){\\n        var viewId = item.viewId;\\n        target.trigger(CHANGENAVEEVENT, {\\n            item : item,\\n            path : path\\n        });\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n              var viewTitle = item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n              target.getAllMyViews(function(views){\\n                 var find = views.find(function(view){\\n                     viewTitle == view.viewTitle;\\n                 });\\n                 if(find){\\n                     item.viewId = find.viewId;\\n                     callback(find);\\n                 } else {\\n                    target.addView({\\n                      viewTitle : item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                      viewType : \\\"dashboard\\\",\\n                      content : json ? json : null,\\n                    }, function(data){\\n                      item.viewId = data.data.viewId;\\n                      callback(data);\\n                    }) \\n                 }\\n              });\\n            \\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                //console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : elem.id\\n                    }, \\\"self\\\")\\n                  //target.tabInx = tabFilter.indexOf(elem);\\n                  //render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == main;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1;\\n            };\\n            select(concat[target.tabInx], path);\\n            //selece(contact[])\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -2,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-transfer\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"viewpare\\\", {\\n                      title : \\\"配置区域，产线，设备对应的组太视图\\\",\\n                      theme : \\\"system\\\",\\n                      width : 700,\\n                      on : {\\n                        submit : function(data){\\n                          \\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n                class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          /**\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            \\n            target.render(json);\\n          });*/\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(data){\\n            var view = data.item;\\n            var path = data.path;\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\"},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"编辑窗口\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-3\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-9\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"控制台属性界面\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"},{\"label\":\"对应视图设置\",\"path\":\"viewpare\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"0px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"overflow\":\"auto\",\"max-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expressiont = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      target.getDomainAreaLineTree(function(domaintree){\\n        target.setValue(\\\"domainAreaLineTree/domaintree\\\", domaintree);\\n        domaintree.traverse(function(node){\\n          if(node.parent){\\n            node.description = node.view ? \\\" - \\\" + node.view.viewTitle : \\\"\\\";\\n            node.triggerEvent = \\\"fold\\\";\\n            node.buttons = [{\\n              icon : node.view ? \\\"glyphicon glyphicon-edit\\\" : \\\"glyphicon glyphicon-plus\\\",\\n              label : node.view ? \\\"编辑\\\" : \\\"添加\\\",\\n              class : node.view ? \\\"btn btn-default\\\" : \\\"btn btn-primary\\\",\\n              on : {\\n                click : function(node){\\n                  target.createPopupBypath(\\\"selecttopo\\\", {\\n                    title : \\\"选择组太视图\\\",\\n                    theme : \\\"system\\\",\\n                    width : 900,\\n                    on : {\\n                      submit : function(view){\\n                        debugger;\\n                        node.view = view;\\n                        console.log(domaintree);\\n                        node.buttons[0].label = \\\"编辑\\\";\\n                        node.description = \\\" - \\\" +  view.viewTitle;\\n                        node.buttons[0].icon = \\\"glyphicon glyphicon-edit\\\";\\n                        node.buttons[0].class = \\\"btn btn-default\\\";\\n                        node.buttons[1].disabled = false;\\n                        node.update();\\n                      }\\n                    }\\n                  }, node.view);\\n                }\\n              }\\n            },{\\n              icon : \\\"glyphicon glyphicon-remove\\\",\\n              disabled : node.view ? false : true,\\n              class : \\\"btn btn-default\\\",\\n              label : \\\"删除\\\",\\n              on : {\\n                click : function(node){\\n\\n                }\\n              }\\n            }]\\n          } else {\\n            node.showfold = false;\\n          }\\n        })\\n        var treeDataMap = target.render(domaintree);\\n        treeDataMap.traverse(function(node){\\n          if(node.level > 2){\\n            if(node.close){\\n              node.close();\\n            };\\n          } else {\\n            if(node.open){\\n              node.open();\\n            }\\n          }\\n        })\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px 2px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"overflow\":\"auto\",\"max-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"buttonGroup\\\",\\n          class : \\\"col-md-12\\\",\\n          groupStyle : {\\n             float : \\\"right\\\"\\n            },\\n          content : [{\\n            type : \\\"button\\\",\\n            value : \\\"保存\\\",\\n            icon : \\\"glyphicon glyphicon-save\\\",\\n            btnclass : \\\"btn btn-primary\\\",\\n            on : {\\n              click : function(elem){\\n                 var domaintree = target.getValue(\\\"domainAreaLineTree/domaintree\\\");\\n                 target.saveDomainAreaLineTree(domaintree);\\n                 target.growl(\\\"对应的组太视图保存成功。\\\")\\n              }\\n            }\\n          },{\\n            type : \\\"button\\\",\\n            value : \\\"取消\\\",\\n            icon : \\\"glyphicon glyphicon-remove\\\",\\n            btnclass : \\\"btn btn-default\\\",\\n            on : {\\n              click : function(elem){\\n                  target.cancel();\\n              }\\n            }\\n          }]\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:1468\"},{\"label\":\"选择组太视图\",\"path\":\"selecttopo\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var view = target.getPopupData();\\n      if(view){\\n         view = [view];\\n      }\\n      target.getAllMyViews(function(views){\\n        views = views.filter(function(view){\\n            return view.viewType == \\\"configure\\\";\\n        })\\n        view = view || [views[0]];\\n        var render = function(){\\n          target.setValue(\\\"domainAreaLineTree/view\\\", view[0]);\\n          target.trigger(\\\"topoViewChange\\\", view[0].viewId);\\n          var ctrlGroups = [\\n            [{\\n              type : \\\"checkboxlist\\\",\\n              multiselect : false,\\n              value : [view[0].viewId],\\n              on : {\\n                change : function(elem){\\n                  view = elem.value;\\n                  debugger;\\n                  render();\\n                }\\n              },\\n              options : views,\\n              format : {\\n                \\\"id\\\" : \\\"viewId\\\",\\n                \\\"label\\\" : \\\"viewTitle\\\"\\n              }\\n            }]\\n          ];\\n          debugger;\\n          target.render(ctrlGroups);\\n        }\\n        render();\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n        \\\"init\\\" : function(event){\\n            var target = event.target;\\n            target.off(\\\"topoViewChange\\\");\\n            target.on(\\\"topoViewChange\\\", function(viewId){\\n                debugger;\\n                target.getViewById(viewId, function(view){\\n                    if(view.content){\\n                        var dt = JSON.parse(view.content);\\n                        target.render(dt);\\n                    }\\n                })\\n            });\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":546900339506066}],\"col\":9}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"buttonGroup\\\",\\n          class : \\\"col-md-12\\\",\\n          groupStyle : {\\n             float : \\\"right\\\"\\n            },\\n          content : [{\\n            type : \\\"button\\\",\\n            value : \\\"确定\\\",\\n            icon : \\\"glyphicon glyphicon-save\\\",\\n            btnclass : \\\"btn btn-primary\\\",\\n            on : {\\n              click : function(elem){\\n                  var view = target.getValue(\\\"domainAreaLineTree/view\\\");\\n                  debugger;\\n                  target.submit(view);\\n              }\\n            }\\n          },{\\n            type : \\\"button\\\",\\n            value : \\\"取消\\\",\\n            icon : \\\"glyphicon glyphicon-remove\\\",\\n            btnclass : \\\"btn btn-default\\\",\\n            on : {\\n              click : function(elem){\\n                  target.cancel();\\n              }\\n            }\\n          }]\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:1382\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢诊断分析一级框架_点检管理员",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      // 5 \\\"点检管理工作台\\\"\\n      var ROLE = 5;\\n      if(ROLE == 0){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/alert/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/alert/area\\\"\\n          }];\\n      } else if(ROLE == 1){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 2,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 3,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 4,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 2){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/corporation/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          }];\\n      }  else if(ROLE == 3){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"审核\\\",\\n            default : \\\"baogang/critisize\\\"\\n          },{\\n            id : 2,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 3,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 4,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 5,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 4){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"关键指标跟踪\\\",\\n            default : \\\"baogang/decider/kpitracker\\\"\\n          },{\\n            id : 2,\\n            label : \\\"关键指标对比\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          }];\\n      }else if(ROLE == 5){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/checker/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准维护\\\",\\n            default : \\\"baogang/checker/biaozhunweihu\\\"\\n          },{\\n            id : 2,\\n            label : \\\"点检计划\\\",\\n            default : \\\"baogang/checker/dianjianjihua\\\"\\n          },{\\n            id : 3,\\n            label : \\\"故障管理\\\",\\n            default : \\\"baogang/checker/guzhangguanli\\\"\\n          },{\\n            id : 4,\\n            label : \\\"检修委托\\\",\\n            default : \\\"baogang/checker/jianxiuweituo\\\"\\n          },{\\n            id : 5,\\n            label : \\\"备修委托\\\",\\n            default : \\\"baogang/checker/beixiuweituo\\\"\\n          },{\\n            id : 6,\\n            label : \\\"统计分析\\\",\\n            default : \\\"baogang/checker/tongjifenxi\\\"\\n          }];\\n      };\\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n          CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\";\\n      // ------------------- 初始化内容在这里设置\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var param = target.getParameter(\\\"main\\\");\\n      var main, path;\\n      if(param instanceof Array){\\n          main = param[0];\\n          path = param[1];\\n      } else {\\n          main = param\\n      }\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        console.log(obj);\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item, path){\\n        var viewId = item.viewId;\\n        target.trigger(CHANGENAVEEVENT, {\\n            item : item,\\n            path : path\\n        });\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n              var viewTitle = item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n              target.getAllMyViews(function(views){\\n                 var find = views.find(function(view){\\n                     viewTitle == view.viewTitle;\\n                 });\\n                 if(find){\\n                     item.viewId = find.viewId;\\n                     callback(find);\\n                 } else {\\n                    target.addView({\\n                      viewTitle : item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                      viewType : \\\"dashboard\\\",\\n                      content : json ? json : null,\\n                    }, function(data){\\n                      item.viewId = data.data.viewId;\\n                      callback(data);\\n                    }) \\n                 }\\n              });\\n            \\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n          debugger;\\n          console.log(status);\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                //console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : elem.id\\n                    }, \\\"self\\\")\\n                  //target.tabInx = tabFilter.indexOf(elem);\\n                  //render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == main;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1;\\n            };\\n            select(concat[target.tabInx], path);\\n            //selece(contact[])\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -2,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-transfer\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"viewpare\\\", {\\n                      title : \\\"配置区域，产线，设备对应的组太视图\\\",\\n                      theme : \\\"system\\\",\\n                      width : 700,\\n                      on : {\\n                        submit : function(data){\\n                          \\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n                class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          /**\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            \\n            target.render(json);\\n          });*/\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(data){\\n            var view = data.item;\\n            var path = data.path;\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}],\"url\":\"images/map/map1.png\"}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\",\"alertObj\":{\"542059861046087\":{\"eventId\":544241138966070,\"alertId\":542059861046087,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [1] 异常\",\"arisingTime\":\"2017-11-13T05:09:27.126+0000\",\"receiveTime\":\"2017-11-13T05:09:27.126+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-13T05:09:27.126+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-13T13:05:57.024+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-14T10:52:37.800+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"537783494437643\":{\"eventId\":539009142136470,\"alertId\":537783494437643,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [2] 异常\",\"arisingTime\":\"2017-11-11T07:16:16.725+0000\",\"receiveTime\":\"2017-11-11T07:16:16.725+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-11T07:15:16.731+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-11T15:12:46.633+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-13T02:03:00.641+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536687391997414\":{\"eventId\":538746819166095,\"alertId\":536687391997414,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"6\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:5.0 [2] 异常\",\"arisingTime\":\"2017-11-10T07:47:16.841+0000\",\"receiveTime\":\"2017-11-10T07:47:16.841+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T07:46:16.845+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T15:43:46.743+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T07:47:47.994+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536859189296064\":{\"eventId\":538540371966064,\"alertId\":536859189296064,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"4\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:6.0 [13] 异常\",\"arisingTime\":\"2017-11-10T01:41:57.515+0000\",\"receiveTime\":\"2017-11-10T01:41:57.515+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":7,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:35:58.068+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:38:27.436+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T04:42:00.762+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"540911188148124\":{\"eventId\":538517251976594,\"alertId\":540911188148124,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"2\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:9.0 [6] 异常\",\"arisingTime\":\"2017-11-10T01:07:03.606+0000\",\"receiveTime\":\"2017-11-10T01:07:03.606+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":6,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:02:03.603+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:03:33.483+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T06:26:53.346+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}}},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"导航页\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"导航页\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "报告编制(工作台:baogang/diagnose/report",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      var render = function(devName,devId){\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"设备名称\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+devName+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"设备编号\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n         value : \\\"\\\"+devId+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n      }\\n      render(resource.label,resource.id);\\n     target.on(\\\"tree_resourceChange\\\", function(obj){\\n         console.info(\\\"tree_resourceChange===\\\",obj);\\n       render(obj.resource.label,obj.resource.id);\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var ctrlGroupsObj = {};\\n      var myDicts = {};\\n      var protocol = window.location.protocol;\\n      var host = window.location.host;\\n      var lc= protocol+\\\"//\\\"+host;\\n      var configParam = {\\n          \\\"resourceId\\\": \\\"5555555\\\",\\n          \\\"label\\\": \\\"test\\\",\\n          \\\"description\\\": \\\"base\\\",\\n          \\\"type\\\":\\\"gatewayModel\\\"\\n        };\\n        \\n      var ticket = target.getParameter(\\\"ticket\\\");\\n      console.info(\\\"ticket=====\\\",ticket);\\n      var imagesList = [];\\n      var fileList = [];\\n      var ctrlGroups = [[{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"设备告警信息\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            var param = {taskId: elem.value.id};\\n            // target.trigger(\\\"task_detail\\\",param);\\n            // var taskId = elem.value.id;\\n        //   event.global.fire(\\\"refreshattr\\\", param);\\n         event.global.fire(\\\"savetask\\\",param);\\n          }\\n        },\\n       options : [],\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }],[{\\n        type : \\\"label\\\",\\n        class:\\\"col-md-2\\\",\\n        value : \\\"异常现象\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"detailTask===\\\",event.global.detailTask); \\n             if(event.global.detailTask.values && event.global.detailTask.values.abnPhenomenon != undefined){\\n                event.global.detailTask.values.abnPhenomenon = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }],[{\\n        type : \\\"label\\\",\\n        class:\\\"col-md-2\\\",\\n        value : \\\"工艺状况\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.technicsStatus != undefined){\\n                event.global.detailTask.values.technicsStatus = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }],[{\\n        type : \\\"label\\\",\\n        class:\\\"col-md-2\\\",\\n        value : \\\"检测部位\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.position != undefined){\\n                event.global.detailTask.values.position = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"注意事项\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.attention != undefined){\\n                event.global.detailTask.values.attention = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options :[],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n        class:\\\"col-md-2\\\",\\n        value : \\\"判断标准\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.standard != undefined){\\n                event.global.detailTask.values.standard = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options :[],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"判断依据\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.basis != undefined){\\n                event.global.detailTask.values.basis = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n           type : \\\"label\\\",\\n           value : \\\"判断依据图片\\\"\\n       },{\\n          type : \\\"uploadFile2\\\",\\n          icon : \\\"glyphicon glyphicon-file\\\",\\n          class : \\\"col-md-6\\\",\\n          group : \\\"enterprisesImages\\\",\\n          url:\\\"api/rest/upload/resourceFileUIService/uploadResourceFile\\\",\\n          groupId:\\\"groupImg\\\",\\n        //   fileFormat:\\\"|txt|xlsx|docx|pdf|doc|\\\",\\n          formData:configParam,\\n          on : {\\n            submit : function(elem){\\n                event.target.growl(\\\"上传文件成功\\\",\\\"success\\\");\\n              //这里返回上传文件的全局变量，属性里面有服务器地址\\n              console.log(\\\"上传文件成功\\\", elem);\\n              var imagesObj = {\\\"label\\\":\\\"\\\",\\\"value\\\":\\\"\\\"};\\n              imagesObj.label = elem.label;\\n              imagesObj.value = elem.value.qualifiedName;\\n              imagesList.push(imagesObj);\\n              if(event.global.detailTask.values && event.global.detailTask.values.basisImage != undefined){\\n                event.global.detailTask.values.basisImage = imagesList;\\n             }\\n              $(\\\"#groupImg\\\").before(\\\"<a href='\\\"+lc+\\\"\\\"+elem.value.qualifiedName+\\\"' target= '_blank'><img src='\\\"+lc+\\\"\\\"+elem.value.qualifiedName+\\\"'  style='width: 200px;height: 200px;margin-right: 10px;' /></a>\\\");\\n            }\\n          }\\n        }],[{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"综合状态等级\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       options :[],\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.statusGrade != undefined){\\n                event.global.detailTask.values.statusGrade = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }],[{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"异常部位\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.abnPosition != undefined){\\n                event.global.detailTask.values.abnPosition = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options :[],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"故障产生原因\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.failureRepairReson != undefined){\\n                event.global.detailTask.values.failureRepairReson = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }], [{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"综合判断结论\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [],\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.multipleConclusion != undefined){\\n                event.global.detailTask.values.multipleConclusion = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }],[{\\n        type : \\\"label\\\",\\n         class:\\\"col-md-2\\\",\\n        value : \\\"处理方案建议\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       options : [],\\n        on : {\\n          change : function(elem){\\n             if(event.global.detailTask.values && event.global.detailTask.values.cessingScheme != undefined){\\n                event.global.detailTask.values.cessingScheme = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }],\\n      [{\\n            type : \\\"label\\\",\\n            value : \\\"备注\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"textarea\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values && event.global.detailTask.values.remark != undefined){\\n                   event.global.detailTask.values.remark = elem.value;\\n                }\\n              }\\n            }\\n          }],[{\\n        type : \\\"label\\\",\\n        value : \\\"上传附件\\\"\\n      },{\\n          type : \\\"uploadFile2\\\",\\n          icon : \\\"glyphicon glyphicon-file\\\",\\n          class : \\\"col-md-6\\\",\\n          group : \\\"enterprisesImages\\\",\\n          url:\\\"api/rest/upload/resourceFileUIService/uploadResourceFile\\\",\\n          fileFormat:\\\"|txt|xlsx|docx|pdf|doc|\\\",\\n          formData:configParam,\\n          groupId:\\\"uploadFileDis\\\",\\n          on : {\\n            submit : function(elem){\\n                event.target.growl(\\\"上传文件成功\\\",\\\"success\\\");\\n              //这里返回上传文件的全局变量，属性里面有服务器地址\\n              console.log(\\\"上传文件成功\\\", elem);\\n              $(\\\"#uploadFileDis\\\").before(\\\"<a href='\\\"+lc+\\\"\\\"+elem.value.qualifiedName+\\\"' style='margin-right: 10px;'>\\\"+elem.label+\\\"</a>\\\");\\n              var fileObj = {\\\"label\\\":\\\"\\\",\\\"value\\\":\\\"\\\"};\\n              fileObj.label = elem.label;\\n              fileObj.value = elem.value;\\n              fileList.push(fileObj);\\n              if(event.global.detailTask.values && event.global.detailTask.values.attUpload != undefined){\\n                event.global.detailTask.values.attUpload = fileList;\\n              }\\n            }\\n          }\\n        }]];\\n        event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n            if(returnObj.code == 0){\\n                var dic = {};\\n                for(var i in returnObj.data) {\\n                  var obj = returnObj.data[i];\\n                  if(dic[obj.dictCode]) {\\n                    dic[obj.dictCode].push(obj);\\n                  } else {\\n                    dic[obj.dictCode] = [];\\n                    dic[obj.dictCode].push(obj);\\n                  }\\n                }\\n                for(var items in dic) {\\n                  myDicts[items] = dic[items];\\n                }\\n            \\n            ctrlGroups[1][1].options = myDicts[\\\"abnPhenomenon\\\"];  \\n            ctrlGroups[2][1].options = myDicts[\\\"technicsStatus\\\"];    \\n            ctrlGroups[3][1].options = myDicts[\\\"position\\\"];    \\n            ctrlGroups[4][1].options = myDicts[\\\"attention\\\"];    \\n            ctrlGroups[5][1].options = myDicts[\\\"standard\\\"];    \\n            ctrlGroups[6][1].options = myDicts[\\\"basis\\\"];    \\n            ctrlGroups[8][1].options = myDicts[\\\"statusGrade\\\"];    \\n            ctrlGroups[9][1].options = myDicts[\\\"abnPosition\\\"];     \\n            ctrlGroups[10][1].options = myDicts[\\\"failureRepairReson\\\"];     \\n            ctrlGroups[11][1].options = myDicts[\\\"multipleConclusion\\\"];        \\n            ctrlGroups[12][1].options = myDicts[\\\"cessingScheme\\\"];     \\n            var ticketTaskQueryModel = {\\\"taskStatus\\\":10};\\n            //这个需要根据设备ID查询\\n            event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n                if(tc.code == 0){\\n                    if(tc.data.length > 0){\\n                      var objArr = [];\\n                      var workData = tc.data;\\n                      for(var i in workData){\\n                        var workObj = {\\\"id\\\":workData[i].id,\\\"label\\\":\\\"\\\"};\\n                        if(workData[i].variables && workData[i].variables.alertTitle != undefined){\\n                            console.info(\\\"alertTitle=====\\\",workData[i].variables.alertTitle);\\n                          workObj.label = workData[i].variables.alertTitle;\\n                        }else{\\n                            workObj.label=  workData[i].ticketTitle;\\n                        }\\n                        objArr.push(workObj);\\n                      }\\n                      ctrlGroups[0][1].options = objArr;\\n                      if(ticket){\\n                         ctrlGroups[0][1].value = ticket; \\n                         event.global.fire(\\\"savetask\\\",{taskId: ticket});\\n                      }\\n                      \\n                    }\\n                  target.render(ctrlGroups);\\n                }\\n            })\\n            }\\n        })\\n    // target.on(\\\"task_detail\\\", function(obj){\\n    //      console.info(\\\"task_detail===\\\",obj);\\n    // });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //自定义输入\\n      var Dictionary = {\\n        warningMessage :  \\\"报告编号\\\",\\n        startTime : \\\"完成时间\\\",\\n        consultant : \\\"诊断责任人\\\",\\n        consultationParticipants : \\\"专业类型\\\",\\n        timejl : \\\"报告结论\\\",\\n        state : \\\"诊断描述\\\",\\n        jiuxiu : \\\"检修建议\\\",\\n        remark : \\\"备注\\\"\\n       \\n      };\\n      var simulate = {\\n        warningMessage:  function(inx, elem, attr){\\n           return elem.randomText(['test']);\\n        },\\n         startTime : function(inx, elem, attr){\\n          var current = target.dateHandler(new Date()).addDay(-10);\\n          return current.addHour(parseInt(inx) * 24).getDateString(\\\"yy/MM/dd,hh:mm:ss\\\");\\n        },\\n        consultant: function(inx, elem, attr){\\n          return elem.randomText(['诊断技术员']);\\n        },\\n       consultationParticipants : function(inx, elem, attr){\\n          return elem.randomText(['振动']);\\n        },\\n       timejl : function(inx, elem, attr){\\n          return elem.randomText(['警告']);\\n        },\\n        state :  function(inx, elem, attr){\\n          return elem.randomText(['叶片连接焊缝均发现线性缺陷显示', '风机加强板焊缝均有咬边']);\\n        },\\n        jiuxiu :  function(inx, elem, attr){\\n          return elem.randomText(['检修建议示']);\\n        },\\n        remark :  function(inx, elem, attr){\\n          return elem.randomText(['备注']);\\n        }\\n      \\n      };\\n      //自定义输入\\n      setTimeout(function(){\\n        target.getSimulateApi(simulate, 3, function(datas){\\n          var render = function(){\\n            var format = [];\\n            for(var i in Dictionary){\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            var search = target.getScopeValue(\\\"search\\\");\\n            var filter = datas.filter(function(elem){\\n              for(var i in search){\\n                var type = search[i].type;\\n                var value = search[i].value;\\n                if(type == \\\"between\\\"){\\n                  if(value){\\n                    var dt = target.dateHandler(elem[i]);\\n                    var dt0 = value[0];\\n                    var dt1 = value[1];\\n                    var rs = (dt0 ? dt.after(dt0) : true) && (dt1 ? dt.before(dt1) : true);\\n                    if(!rs){\\n                      return false;\\n                    };\\n                  } else {\\n                    return true;\\n                  }\\n\\n                } else if(type == \\\"inside\\\"){\\n                  var some = value.some(function(el){\\n                    return elem[i] == el.title || elem[i] == el.label;\\n                  });\\n                  if(!some){\\n                    return false;\\n                  }\\n                } else if(type == \\\"domains\\\"){\\n                  return elem.domains.indexOf(value.domains) != -1;\\n                }\\n              };\\n              return true;\\n            })\\n            target.render({\\n              data : filter,\\n              on : {\\n                rowClick : function(event){\\n                  target.createPopupBypath('analysis', {\\n                    title: \\\"诊断分析\\\",\\n                    theme : \\\"system\\\",\\n                    width: \\\"80%\\\"\\n                  }, {\\n                    message: \\\"诊断分析\\\"\\n                  })\\n                }\\n              },\\n              format : format\\n            });\\n          };\\n          target.off(\\\"search_toDolist\\\");\\n          target.on(\\\"search_toDolist\\\", function(){\\n            render();\\n          });\\n          render();\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"提   交\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            style: {\\n                width:\\\"600\\\",\\n                textAlign: \\\"right\\\"\\n            },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var checkStatus = true;\\n                console.info(\\\"提交======\\\",event.global.detailTask);\\n                if(event.global.detailTask != undefined){\\n                         //   if(event.global.detailTask.values){\\n                    //      if(!event.global.detailTask.values.alertTitle){\\n                    //          event.target.growl(\\\"请选择设备告警信息\\\",\\\"warning\\\");\\n                    //          checkStatus = false;\\n                    //          return;\\n                    //      }\\n                    //     }\\n                        if(event.global.detailTask.values && event.global.detailTask.values.technicsStatus !=undefined){\\n                         if(!event.global.detailTask.values.abnPhenomenon ){\\n                             event.target.growl(\\\"请选择异常现象\\\",\\\"warning\\\");\\n                             checkStatus = false;\\n                             return;\\n                         }\\n                        }\\n                       if(event.global.detailTask.values && event.global.detailTask.values.technicsStatus !=undefined){\\n                         if(!event.global.detailTask.values.technicsStatus){\\n                             event.target.growl(\\\"请选择工艺状况\\\",\\\"warning\\\");\\n                             checkStatus = false;\\n                             return;\\n                         }\\n                        }\\n                       if(event.global.detailTask.values && event.global.detailTask.values.position !=undefined){\\n                         if(!event.global.detailTask.values.position){\\n                             event.target.growl(\\\"请选择检测部位\\\",\\\"warning\\\");\\n                             checkStatus = false;\\n                             return;\\n                         }\\n                        }\\n                       if(event.global.detailTask.values && event.global.detailTask.values.attention !=undefined){\\n                         if(!event.global.detailTask.values.attention){\\n                             event.target.growl(\\\"请选择注意事项\\\",\\\"warning\\\");\\n                             checkStatus = false;\\n                             return;\\n                         }\\n                        }\\n                       if(event.global.detailTask.values && event.global.detailTask.values.standard !=undefined){\\n                         if(!event.global.detailTask.values.standard){\\n                             event.target.growl(\\\"请选择判断标准\\\",\\\"warning\\\");\\n                             checkStatus = false;\\n                             return;\\n                         }\\n                        }\\n                       if(event.global.detailTask.values && event.global.detailTask.values.basis !=undefined){\\n                         if(!event.global.detailTask.values.basis){\\n                             event.target.growl(\\\"请选择判断依据\\\",\\\"warning\\\");\\n                             checkStatus = false;\\n                             return;\\n                         }\\n                        }\\n                       if(event.global.detailTask.values && event.global.detailTask.values.statusGrade !=undefined){\\n                         if(!event.global.detailTask.values.statusGrade){\\n                             event.target.growl(\\\"请选择综合状态等级\\\",\\\"warning\\\");\\n                             checkStatus = false;\\n                             return;\\n                         }\\n                        }\\n                       if(event.global.detailTask.values && event.global.detailTask.values.failureRepairReson !=undefined){\\n                         if(!event.global.detailTask.values.failureRepairReson){\\n                             event.target.growl(\\\"请选择故障产生原因\\\",\\\"warning\\\");\\n                             checkStatus = false;\\n                             return;\\n                         }\\n                        }\\n                       if(event.global.detailTask.values && event.global.detailTask.values.multipleConclusion !=undefined){\\n                         if(!event.global.detailTask.values.multipleConclusion){\\n                             event.target.growl(\\\"请选择综合判断结论\\\",\\\"warning\\\");\\n                             checkStatus = false;\\n                             return;\\n                         }\\n                        }\\n                       if(event.global.detailTask.values && event.global.detailTask.values.cessingScheme !=undefined){\\n                         if(!event.global.detailTask.values.cessingScheme){\\n                             event.target.growl(\\\"请选择处理方案建议\\\",\\\"warning\\\");\\n                             checkStatus = false;\\n                             return;\\n                         }\\n                        }\\n                        if(checkStatus){\\n                            event.global.detailTask.taskStatus = 200;\\n                            event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", event.global.detailTask, function(tc){\\n                                if(tc.code == 0){\\n                                  event.target.growl(\\\"报诊断报告提交成功，等待审核\\\",\\\"success\\\");\\n                                  target.navigateTo(\\\"page0\\\");\\n                                }else{\\n                        \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                                }\\n                            })\\n                        }\\n                    }else{\\n                     event.target.growl(\\\"请选择设备告警信息\\\",\\\"warning\\\");   \\n                    }\\n           \\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"取   消\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n             style: {\\n                width:\\\"400\\\",\\n                textAlign: \\\"left\\\"\\n            },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                target.navigateTo(\\\"page0\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n        var taskId = event.params.taskId;\\n        event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n            if(tc.code == 0){\\n              tc.data.values = {};\\n              tc.data.values[\\\"abnPhenomenon\\\"] = \\\"\\\";\\n              tc.data.values[\\\"technicsStatus\\\"] = \\\"\\\";\\n              tc.data.values[\\\"position\\\"] = \\\"\\\";\\n              tc.data.values[\\\"attention\\\"] = \\\"\\\";\\n              tc.data.values[\\\"standard\\\"] = \\\"\\\";\\n              tc.data.values[\\\"basis\\\"] = \\\"\\\";\\n              tc.data.values[\\\"basisImage\\\"] = \\\"\\\";\\n              tc.data.values[\\\"statusGrade\\\"] = \\\"\\\";\\n              tc.data.values[\\\"abnPosition\\\"] = \\\"\\\";\\n              tc.data.values[\\\"failureRepairReson\\\"] = \\\"\\\";\\n              tc.data.values[\\\"multipleConclusion\\\"] = \\\"\\\";\\n              tc.data.values[\\\"cessingScheme\\\"] = \\\"\\\";\\n              tc.data.values[\\\"auditor\\\"] = \\\"\\\";\\n              tc.data.values[\\\"attUpload\\\"] = \\\"\\\";\\n              tc.data.values[\\\"remark\\\"] = \\\"\\\";\\n              event.global.detailTask = tc.data;   \\n            }\\n            \\n        })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "协同诊断\tbaogang/diagnose/corporatio",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"协同列表\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var attr = {\\\"ticketStatus\\\":100,\\\"sendBeginTime\\\":\\\"\\\",\\\"sendEndTime\\\":\\\"\\\"};\\n      var params =  {values:{theTicketType:\\\"join\\\"}};\\n      var resourceArr = target.getValue(\\\"global/resource\\\");\\n      var resourceObj = {};\\n      var queryUser = [];\\n      if(resourceArr != undefined){\\n          resourceObj = resourceArr;\\n          if(resourceArr && resourceArr.id != undefined){\\n              params.values[\\\"deviceId\\\"] = resourceArr.id;\\n          }\\n      }else{\\n       target.on(\\\"tree_resourceChange\\\", function(obj){\\n          var resource = obj.resource;\\n          resourceObj = obj.resource;\\n          if(resource && resource.id != undefined){\\n              params.values[\\\"deviceId\\\"] = resource.id;\\n          }\\n       })\\n      }\\n      var timeSpan = null;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [ {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"协同申请\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                //  var obj={\\\"resource\\\":resourceObj,\\\"user\\\":queryUser};\\n                 var userArr = target.getValue(\\\"user\\\");\\n                 var myDicts = target.getValue(\\\"allDicts\\\");\\n                 var obj = {\\\"resource\\\":resourceObj,\\\"dicts\\\":myDicts,\\\"user\\\":userArr};\\n                  target.createSystemPopupByLocalPath(\\\"addxt\\\", {\\n                    width : \\\"40%\\\",\\n                    title : \\\"协同诊断申请\\\",   \\n                    on : {\\n                      submit : function(data){\\n                      if(data.statuc == \\\"success\\\"){\\n                         var popupObj = {ticketStatus:\\\"100\\\",values:{theTicketType:\\\"join\\\",deviceId:resourceObj.id}};\\n                          event.global.fire(\\\"highlight\\\", popupObj);\\n                      }\\n                      }\\n                    }\\n                  },obj);\\n\\n                //  target.createPopupBypath('popup2', {\\n                //         title: \\\"协同诊断申请\\\",\\n                //         theme : \\\"system\\\",\\n                //         width: \\\"40%\\\",\\n                //         on : {\\n                //           submit : function(data){\\n                //           if(data.statuc == \\\"success\\\"){\\n                //              var popupObj = {ticketStatus:\\\"100\\\",values:{theTicketType:\\\"join\\\",deviceId:resourceObj.id}};\\n                //               event.global.fire(\\\"highlight\\\", popupObj);\\n                //           }\\n                //           }\\n                //         }\\n                //  },obj);\\n              }\\n            }\\n          }, {\\n              type: \\\"label\\\",\\n              value: \\\"会诊参与人\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n            type: \\\"select\\\",\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n               if(params){\\n                 params.values[\\\"participant\\\"] = elem.value.userID;\\n                }\\n              }\\n            },\\n            options: [],\\n             format : {\\n              \\\"id\\\" : \\\"userID\\\",\\n              \\\"label\\\" : \\\"userName\\\"\\n            }\\n          }, /*{\\n            type: \\\"label\\\",\\n            value: \\\"检测技术\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"select\\\",\\n            value: opt2[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt2 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options2,\\n            format: {\\n              \\\"id\\\": \\\"id\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            },\\n          }, */\\n          {\\n            type: \\\"label\\\",\\n            value: \\\"起始时间\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: timeSpan,\\n            class: \\\"col-md-3\\\",\\n            on: {\\n              change: function (elem) {\\n                  if(params){\\n                      params[\\\"sendBeginTime\\\"] = elem.value.start;\\n                      params[\\\"sendEndTime\\\"] = elem.value.end;\\n                  }\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                event.global.fire(\\\"highlight\\\", params)\\n              }\\n            }\\n          }]\\n        ];\\n        var myDicts = {};\\n         event.target.postService(\\\"userUIService\\\", \\\"queryUserByCondition\\\", {}, function(returnObj){\\n         if(returnObj.code == 0){\\n          queryUser = returnObj.data ;\\n          ctrlGroups[0][2].options = returnObj.data;\\n          target.render(ctrlGroups);\\n         }\\n         })\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n       var resource = target.getValue(\\\"global/resource\\\");\\n      console.info(\\\"targettargettarget===\\\",target);\\n      var myDicts = {};\\n      var userObj ={};\\n      var render = function(workArray){\\n          var format = [{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"commitTime\\\",\\n              label : \\\"发起时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return new Date(data.format(\\\"yyyy-MM-dd HH:mm:ss\\\"));\\n              }\\n          },{\\n              name : \\\"sponsor\\\",\\n              label : \\\"会诊发起人\\\",\\n             render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"participant\\\",\\n              label : \\\"会诊参与人\\\",\\n             render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"timeLimit\\\",\\n              label : \\\"时限\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"tickeTaskStatus\\\",\\n              label : \\\"状态\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"诊断详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                     var obj = {\\\"task\\\":elem.row,\\\"option\\\":\\\"look\\\"};\\n                     console.info(\\\"诊断====\\\",elem.row);\\n                     \\n                      target.createSystemPopupByLocalPath(\\\"xtdetail\\\", {\\n                        width : \\\"40%\\\",\\n                        title : \\\"诊断详情\\\", \\n                        on : {\\n                         submit : function(data){\\n                          if(data.statuc == \\\"success\\\"){\\n                              event.global.fire(\\\"queryFinish\\\",{});\\n                          }\\n                         }\\n                       }\\n                      }, obj);\\n\\n                    //  target.createPopupBypath('diagnosis', {\\n                    //         title: \\\"诊断详情\\\",\\n                    //         theme : \\\"system\\\",\\n                    //         width: \\\"40%\\\",\\n                    //         on : {\\n                    //           submit : function(data){\\n                    //           if(data.statuc == \\\"success\\\"){\\n                    //               event.global.fire(\\\"queryFinish\\\",{});\\n                    //           }\\n                    //           }\\n                    //         }\\n                    //  },obj);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n       target.setValue(\\\"orderFormat\\\",format);\\n       target.render({\\n            data : workArray,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n       var readerData =  function(param){\\n        event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n         if(returnObj.code == 0){\\n            var dic = {};\\n            for(var i in returnObj.data) {\\n              var obj = returnObj.data[i];\\n              if(dic[obj.dictCode]) {\\n                dic[obj.dictCode].push(obj);\\n              } else {\\n                dic[obj.dictCode] = [];\\n                dic[obj.dictCode].push(obj);\\n              }\\n            }\\n            for(var items in dic) {\\n              myDicts[items] = dic[items];\\n            }\\n            target.setValue(\\\"allDicts\\\",myDicts);\\n            event.target.postService(\\\"userUIService\\\", \\\"queryUserByCondition\\\", {}, function(returnData){\\n                 if(returnData.code == 0){\\n                  var queryUser = returnData.data ;\\n                  target.setValue(\\\"user\\\",queryUser)\\n                  for(var i  in queryUser){\\n                      userObj[queryUser[i].userID] = queryUser[i];\\n                  }\\n                 target.setValue(\\\"userObj\\\",userObj);\\n    //   event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketsByCondition\\\",param, function(dt){\\n      event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\",param, function(dt){\\n        if(dt.code == 0){\\n        var workOrderData = dt.data;\\n        var workArray = [];\\n        for(var i in workOrderData){\\n            workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"specialtyType\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"sponsor\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"participant\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"timeLimit\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"report\\\"] = \\\"\\\";\\n           workOrderData[i][\\\"tickeTaskStatus\\\"] = \\\"待协同\\\";\\n            if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                if(workOrderData[i].variables && workOrderData[i].variables.customerName != undefined){\\n                  workOrderData[i].customerName = workOrderData[i].variables.customerName;\\n                }\\n                 if(workOrderData[i].variables && workOrderData[i].variables.devName != undefined){\\n                   workOrderData[i].devName =  workOrderData[i].variables.devName;\\n                }\\n                 if(workOrderData[i].variables && workOrderData[i].variables.appName != undefined){\\n                  workOrderData[i].appName =  workOrderData[i].variables.appName;\\n                }\\n                 if(workOrderData[i].variables && workOrderData[i].variables.alertTitle != undefined){\\n                  workOrderData[i].alertTitle = workOrderData[i].variables.alertTitle;\\n                }\\n                 if(workOrderData[i].variables && workOrderData[i].variables.severity != undefined){\\n                  workOrderData[i].severity = workOrderData[i].variables.severity;\\n                }\\n            }\\n              if(workOrderData[i].variables && workOrderData[i].variables.participant != undefined && userObj[workOrderData[i].variables.participant] != undefined){\\n                  workOrderData[i].participant = userObj[workOrderData[i].variables.participant].userName\\n                }\\n                if(workOrderData[i].variables && workOrderData[i].variables.sponsor != undefined && userObj[workOrderData[i].variables.sponsor] != undefined){\\n                  workOrderData[i].sponsor =  userObj[workOrderData[i].variables.sponsor].userName;\\n                }\\n                if(workOrderData[i].variables && workOrderData[i].variables.specialtyType != undefined){\\n                //   workOrderData[i].specialtyType = workOrderData[i].variables.specialtyType;\\n                   var specialtyType = myDicts[\\\"specialtyProps\\\"];\\n                     for(var s in specialtyType){\\n                         if(specialtyType[s].valueCode == workOrderData[i].variables.specialtyType){\\n                             workOrderData[i].specialtyType = specialtyType[s].label;\\n                             break;\\n                         }\\n                    }\\n                }\\n                if(workOrderData[i].variables && workOrderData[i].variables.report != undefined){\\n                  workOrderData[i].report = workOrderData[i].variables.report;\\n                }\\n                if(workOrderData[i].variables && workOrderData[i].variables.timeLimit != undefined){\\n                 var finshTimeType = myDicts[\\\"finshTimeType\\\"];\\n                 for(var f in finshTimeType){\\n                     if(finshTimeType[f].valueCode == workOrderData[i].variables.timeLimit){\\n                         workOrderData[i].timeLimit = finshTimeType[f].label;\\n                         break;\\n                     }\\n                 }\\n                }\\n                if( workOrderData[i].taskStatus == 200){\\n                 workOrderData[i].tickeTaskStatus = \\\"协同完毕\\\";\\n                }\\n            workArray.push(workOrderData[i]);\\n        }\\n        render(workArray);\\n        //event.target.render(projects);\\n        }else{\\n            console.log(\\\"接口异常\\\");\\n        }\\n      })\\n                 }\\n             })\\n         }\\n     })\\n      }\\n         var ticketQueryModel = {};\\n         if(resource != undefined){\\n              if(resource && resource.id != undefined){\\n                  ticketQueryModel[\\\"variables\\\"]={\\\"deviceId\\\":resource.id,\\\"theTicketType\\\":\\\"join\\\"};\\n      \\n              }\\n              readerData(ticketQueryModel);\\n          }else{\\n           target.on(\\\"tree_resourceChange\\\", function(obj){\\n                 console.info(\\\"tree_resourceChange===\\\",obj);\\n                 var resourceId = obj.resource;\\n                  if(resourceId && resourceId.id != undefined){\\n                    ticketQueryModel[\\\"variables\\\"]={\\\"deviceId\\\":resourceId.id,\\\"theTicketType\\\":\\\"join\\\"};\\n                  }\\n                  target.setValue(\\\"ticketParams\\\",ticketQueryModel);\\n                 readerData(ticketQueryModel);\\n              });\\n          }\\n    },\\n    highlight : function(event){\\n        console.log(event.params);\\n        var paramsStatus = event.params;\\n        var target = event.target;\\n        var myDicts = target.getValue(\\\"allDicts\\\");\\n        var userObj = target.getValue(\\\"userObj\\\");\\n        var render = function(workOrderData){\\n           var format = target.getValue(\\\"orderFormat\\\");\\n           target.render({\\n                data : workOrderData,\\n                format : format.map(function(elem){\\n                    return {\\n                    \\\"name\\\": elem.label,\\n                    \\\"value\\\": elem.name,\\n                    \\\"type\\\": elem.type || \\\"text\\\",\\n                    \\\"content\\\": elem.content\\n                  }\\n                })\\n              });\\n        }\\n        event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketsByCondition\\\",paramsStatus, function(dt){\\n            if(dt.code == 0){\\n           var workOrderData = dt.data;\\n        var workArray = [];\\n        for(var i in workOrderData){\\n            workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"specialtyType\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"sponsor\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"participant\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"timeLimit\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"report\\\"] = \\\"\\\";\\n           workOrderData[i][\\\"tickeTaskStatus\\\"] = \\\"待协同\\\";\\n            if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                if(workOrderData[i].variables && workOrderData[i].variables.customerName != undefined){\\n                  workOrderData[i].customerName = workOrderData[i].variables.customerName;\\n                }\\n                 if(workOrderData[i].variables && workOrderData[i].variables.devName != undefined){\\n                   workOrderData[i].devName =  workOrderData[i].variables.devName;\\n                }\\n                 if(workOrderData[i].variables && workOrderData[i].variables.appName != undefined){\\n                  workOrderData[i].appName =  workOrderData[i].variables.appName;\\n                }\\n                 if(workOrderData[i].variables && workOrderData[i].variables.alertTitle != undefined){\\n                  workOrderData[i].alertTitle = workOrderData[i].variables.alertTitle;\\n                }\\n                 if(workOrderData[i].variables && workOrderData[i].variables.severity != undefined){\\n                  workOrderData[i].severity = workOrderData[i].variables.severity;\\n                }\\n            }\\n              if(workOrderData[i].variables && workOrderData[i].variables.participant != undefined && userObj[workOrderData[i].variables.participant] != undefined){\\n                  workOrderData[i].participant = userObj[workOrderData[i].variables.participant].userName\\n                }\\n                if(workOrderData[i].variables && workOrderData[i].variables.sponsor != undefined && userObj[workOrderData[i].variables.sponsor] != undefined){\\n                  workOrderData[i].sponsor =  userObj[workOrderData[i].variables.sponsor].userName;\\n                }\\n                if(workOrderData[i].variables && workOrderData[i].variables.specialtyType != undefined){\\n                //   workOrderData[i].specialtyType = workOrderData[i].variables.specialtyType;\\n                   var specialtyType = myDicts[\\\"specialtyProps\\\"];\\n                     for(var s in specialtyType){\\n                         if(specialtyType[s].valueCode == workOrderData[i].variables.specialtyType){\\n                             workOrderData[i].specialtyType = specialtyType[s].label;\\n                             break;\\n                         }\\n                    }\\n                }\\n                if(workOrderData[i].variables && workOrderData[i].variables.report != undefined){\\n                  workOrderData[i].report = workOrderData[i].variables.report;\\n                }\\n                if(workOrderData[i].variables && workOrderData[i].variables.timeLimit != undefined){\\n                 var finshTimeType = myDicts[\\\"finshTimeType\\\"];\\n                 for(var f in finshTimeType){\\n                     if(finshTimeType[f].valueCode == workOrderData[i].variables.timeLimit){\\n                         workOrderData[i].timeLimit = finshTimeType[f].label;\\n                         break;\\n                     }\\n                 }\\n                }\\n                if( workOrderData[i].status == 200){\\n                 workOrderData[i].tickeTaskStatus = \\\"协同完毕\\\";\\n                }\\n            workArray.push(workOrderData[i]);\\n        }\\n            render(workArray);\\n            //event.target.render(projects);\\n            }else{\\n                console.log(\\\"接口异常\\\");\\n            }\\n          })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"$$hashKey\":\"object:1324\"},{\"label\":\"协同工作的弹出框\",\"path\":\"addxt\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var myDicts = target.getPopupData().dicts;\\n      var params = target.getPopupData().resource;\\n      var userList = target.getPopupData().user;\\n      var ticket = {\\\"title\\\":\\\"\\\",\\\"priorityCode\\\":100,\\\"ticketNo\\\":\\\"\\\",\\\"category\\\":\\\"60\\\",\\\"ticketCategoryId\\\":\\\"\\\",\\\"values\\\":{},\\\"deviceId\\\":params.id,\\\"faultId\\\":\\\"\\\", \\\"message\\\":\\\"\\\"};\\n      var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"设备信息\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"input\\\",\\n            class:\\\"col-md-9\\\",\\n            disabled:true,\\n            value:params.label,\\n            on : {\\n              change : function(elem){\\n                console.info(\\\"abnPhenomenon===\\\",elem.value);\\n              }\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"报警信息\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                 if(event.global.detailTask.values){\\n                    event.global.detailTask.values[\\\"parentTicketNo\\\"] = elem.value.taskNo;\\n                    event.global.detailTask.title = elem.value.alertTitle;\\n                 }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"taskNo\\\",\\n              \\\"label\\\" : \\\"alertTitle\\\"\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"会诊人员\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values){\\n                    event.global.detailTask.values[\\\"participant\\\"] = elem.value.userID;\\n                }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"userID\\\",\\n              \\\"label\\\" : \\\"userName\\\"\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"完成时限\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values){\\n                  event.global.detailTask.values[\\\"timeLimit\\\"] = elem.value.valueCode;\\n                }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"valueCode\\\",\\n              \\\"label\\\" : \\\"label\\\"\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"原因分析\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"textarea\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values){\\n                  event.global.detailTask.values[\\\"causes\\\"] = elem.value;\\n                }\\n              }\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"结论\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"textarea\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values){\\n                  event.global.detailTask.values[\\\"conclusion\\\"] = elem.value;\\n                }\\n              }\\n            }\\n          }]\\n      ];\\n      \\n    //   event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n    //      if(returnObj.code == 0){\\n    //         var dic = {};\\n    //         for(var i in returnObj.data) {\\n    //           var obj = returnObj.data[i];\\n    //           if(dic[obj.dictCode]) {\\n    //             dic[obj.dictCode].push(obj);\\n    //           } else {\\n    //             dic[obj.dictCode] = [];\\n    //             dic[obj.dictCode].push(obj);\\n    //           }\\n    //         }\\n    //         for(var items in dic) {\\n    //           myDicts[items] = dic[items];\\n    //         }\\n            var ticketTaskQueryModel = {\\\"taskStatus\\\":10};\\n\\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n\\t\\t        if(tc.code == 0){\\n\\t\\t          var list = tc.data;\\n\\t\\t          ctrlGroups[2][1].options = userList;\\n                  ctrlGroups[3][1].options = myDicts[\\\"finshTimeType\\\"];\\n\\t\\t          var array = [];\\n\\t\\t          for(var j in list){\\n\\t\\t              var obj = {\\\"taskNo\\\":\\\"\\\",\\\"alertTitle\\\":\\\"\\\"};\\n\\t\\t              if(list[j].variables && list[j].variables.ticketNo){\\n\\t\\t                obj.taskNo = list[j].variables.ticketNo;\\n\\t\\t              }\\n\\t\\t              if(list[j].variables && list[j].variables.alertTitle){\\n\\t\\t                obj.alertTitle = list[j].variables.alertTitle;\\n\\t\\t              }else{\\n\\t\\t               obj.alertTitle = list[j].ticketTitle;  \\n\\t\\t              }\\n\\t\\t             array.push(obj);\\n\\t\\t          }\\n\\t\\t          ctrlGroups[1][1].options = array;\\n\\t\\t          \\n\\t              event.target.postService(\\\"ticketCategoryService\\\", \\\"getTicketCategorys\\\", [], function(tc){\\n                    if(tc.code == 0){\\n                    var ticketData = tc.data;\\n                    var ticketSort = [];\\n                    for(var t in ticketData){\\n            \\t     if(ticketData[t].category == 60){\\n            \\t    \\tticketSort.push(ticketData[t]);\\n            \\t\\t }\\n            \\t\\t}\\n                  \\tticketSort.sort(function(a, b){\\n                       return a.createTime < b.createTime ? 1 : -1;\\n                    });\\n                    ticketCategorys = ticketSort[0];\\n            \\t\\tticket.ticketCategoryId = ticketCategorys.id;\\n            \\t    event.global.fire(\\\"savetask\\\",ticket)\\n                    target.render(ctrlGroups);  \\n                    }else{\\n                        console.log(\\\"流程关联接口异常\\\");\\n                    }\\n                  })\\n\\t\\t        }\\n\\t\\t    });\\n    //     }\\n    // })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"提   交\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            style: {\\n                width:\\\"600\\\",\\n                textAlign: \\\"right\\\"\\n            },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var checkStatus = true;\\n                console.info(\\\"提交======\\\",event.global.detailTask);\\n                 event.target.postService(\\\"userLoginUIService\\\", \\\"getCurrentUser\\\",null, function(user){\\n                    if(user.code == 0){\\n                        if(event.global.detailTask.values){\\n                            event.global.detailTask.values[\\\"sponsor\\\"] = user.data.userID;\\n                        }\\n                        event.target.postService(\\\"ticketTaskService\\\", \\\"commitTicket\\\", event.global.detailTask, function(tc){\\n                            if(tc.code == 0){\\n                              event.target.growl(\\\"协同诊断申请发送成功\\\",\\\"success\\\");\\n                              target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                            }else{\\n                    \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                            }\\n                        })\\n                    }else{\\n            \\t\\t event.target.growl(user.message,\\\"info\\\");\\n                    }\\n                })\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"取   消\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n             style: {\\n                width:\\\"400\\\",\\n                textAlign: \\\"left\\\"\\n            },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                target.submit({\\\"statuc\\\":\\\"success\\\"});\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1358\"},{\"label\":\"协同诊断详情\",\"path\":\"xtdetail\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var task = target.getPopupData().task;\\n       var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"设备名:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+task.variables.device.label+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"设备编号:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+task.variables.device.id+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var task = target.getPopupData().task;\\n      console.info(\\\"诊断详情\\\",task);\\n      var limit = new Date(task.sendTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"会诊发起人:　\\\"+task.sponsor+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"申请时间:　\\\"+limit+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"完成时限:　\\\"+task.timeLimit+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"原因分析:　\\\"+task.variables.causes+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"结论:　\\\"+task.variables.conclusion+\\\"\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":6},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var task = target.getPopupData().task;\\n      var option = target.getPopupData().option;\\n      var myDate = new Date().Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n      event.global.fire(\\\"savetask\\\",task);\\n      var editStatus = false;\\n      var teamworkReason = \\\"\\\";\\n      var teamworkVerdict = \\\"\\\";\\n      if(option == \\\"look\\\"){\\n          editStatus = true;\\n          if(task.values && task.values.teamworkReason != undefined){\\n            teamworkReason = task.values.teamworkReason;\\n          }\\n          if(task.values && task.values.teamworkVerdict != undefined){\\n            teamworkVerdict = task.values.teamworkVerdict;\\n          }\\n          if(task.values && task.values.teamworkTime != undefined){\\n            myDate = new Date(task.values.teamworkTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n          }\\n      }else{\\n         task.values = {\\\"teamworkTime\\\":new Date()};\\n      }\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"会诊参与人:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+task.participant+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"协同时间:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+myDate+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"原因分析:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          class : \\\"col-md-4\\\",\\n          value : \\\"\\\"+teamworkReason+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"结论:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          class : \\\"col-md-4\\\",\\n          value : \\\"\\\"+teamworkVerdict+\\\"\\\"\\n        }]\\n      ];\\n      console.log(\\\"teamworkVerdict===\\\"+option);\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":6}],\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = target.getPopupData().option;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"button\\\",\\n          value : \\\"提交\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\", \\n          style:{\\\"text-align\\\":\\\"right\\\"},\\n          on : {\\n            click : function(elem){\\n                    event.global.detailTask.taskStatus = 200;\\n                    console.info(\\\"detailTaskdetailTask======\\\", event.global.detailTask);\\n                    var detailString = JSON.stringify(event.global.detailTask) ;\\n                    event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", eval(\\\"(\\\" + detailString + \\\")\\\"), function(tc){\\n                    if(tc.code == 0){\\n                      event.target.growl(\\\"处理成功\\\",\\\"success\\\");\\n                      target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                })\\n            }\\n          }\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"取消\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n             target.submit({\\\"statuc\\\":\\\"error\\\"});\\n            }\\n          }\\n        }]\\n      ];\\n      if(option == \\\"edit\\\"){\\n        event.target.render(ctrlGroups);\\n      }\\n    },\\n    savetask:function(event){\\n        \\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:782\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "多专业诊断baogang/diagnose/multiArea",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var attr = {\\\"ticketStatus\\\":100,\\\"commitBeginTime\\\":\\\"\\\",\\\"commitEndTime\\\":\\\"\\\"};\\n      var params =  {ticketStatus:\\\"100\\\",values:{theTicketType:\\\"multi\\\"}};\\n      var resourceArr = target.getValue(\\\"global/resource\\\");\\n      var myDicts = {};\\n      var resourceObj = {};\\n      if(resourceArr != undefined){\\n          resourceObj = resourceArr;\\n          if(resourceArr && resourceArr.id != undefined){\\n              params.values[\\\"deviceId\\\"] = resourceArr.id;\\n          }\\n      }else{\\n       target.on(\\\"tree_resourceChange\\\", function(obj){\\n          var resource = obj.resource;\\n          resourceObj = obj.resource;\\n          if(resource && resource.id != undefined){\\n              params.values[\\\"deviceId\\\"] = resource.id;\\n          }\\n       })\\n      }\\n      var timeSpan = null;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [ {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"诊断申请\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                  var userArr = target.getValue(\\\"user\\\");\\n                  console.info(\\\"user===\\\",userArr);\\n                  var obj = {\\\"resource\\\":resourceObj,\\\"dicts\\\":myDicts,\\\"user\\\":userArr};\\n                   target.createSystemPopupByLocalPath(\\\"zdsq\\\", {\\n                    width : \\\"40%\\\",\\n                    title : \\\"多专业诊断申请\\\",\\n                  }, obj);\\n\\n                //  target.createPopupBypath('popup1', {\\n                //         title: \\\"多专业诊断申请\\\",\\n                //         theme : \\\"system\\\",\\n                //         width: \\\"40%\\\",\\n                //         on : {\\n                //           submit : function(data){\\n                //           if(data.statuc == \\\"success\\\"){\\n                //               var popupObj = {ticketStatus:\\\"100\\\",values:{theTicketType:\\\"multi\\\",deviceId:resourceObj.id}};\\n                //               event.global.fire(\\\"highlight\\\", popupObj)\\n                //           }\\n                //           }\\n                //         }\\n                //  },obj);\\n              }\\n            }\\n          }, {\\n              type: \\\"label\\\",\\n              value: \\\"专业类型\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n            type: \\\"select\\\",\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n               if(params){\\n                 params.values[\\\"specialtyType\\\"] = elem.value.valueCode;\\n                }\\n              }\\n            },\\n            options: [],\\n             format : {\\n              \\\"id\\\" : \\\"valueCode\\\",\\n              \\\"label\\\" : \\\"label\\\"\\n            }\\n          }, /*{\\n            type: \\\"label\\\",\\n            value: \\\"检测技术\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"select\\\",\\n            value: opt2[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt2 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options2,\\n            format: {\\n              \\\"id\\\": \\\"id\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            },\\n          }, */\\n          {\\n            type: \\\"label\\\",\\n            value: \\\"起始时间\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: timeSpan,\\n            class: \\\"col-md-3\\\",\\n            on: {\\n              change: function (elem) {\\n                  if(params){\\n                      params.values[\\\"commitBeginTime\\\"] = elem.value.start;\\n                      params.values[\\\"commitEndTime\\\"] = elem.value.end;\\n                  }\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                event.global.fire(\\\"highlight\\\", params)\\n              }\\n            }\\n          }]\\n        ];\\n         event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n         if(returnObj.code == 0){\\n            var dic = {};\\n            for(var i in returnObj.data) {\\n              var obj = returnObj.data[i];\\n              if(dic[obj.dictCode]) {\\n                dic[obj.dictCode].push(obj);\\n              } else {\\n                dic[obj.dictCode] = [];\\n                dic[obj.dictCode].push(obj);\\n              }\\n            }\\n            for(var items in dic) {\\n              myDicts[items] = dic[items];\\n            }\\n          ctrlGroups[0][2].options = myDicts[\\\"specialtyProps\\\"];\\n           target.setValue(\\\"myDicts\\\",myDicts);\\n             target.trigger(\\\"my_dicts_obj\\\", {\\\"myDicts\\\": myDicts});\\n          target.render(ctrlGroups);\\n         }\\n         })\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n       var resource = target.getValue(\\\"global/resource\\\");\\n      var myDicts = {};\\n      var render = function(workArray){\\n          var format = [{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"commitTime\\\",\\n              label : \\\"发起时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return new Date(data.format(\\\"yyyy-MM-dd HH:mm:ss\\\"));\\n              }\\n          },{\\n              name : \\\"specialtyType\\\",\\n              label : \\\"专业类型\\\",\\n             render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"sponsor\\\",\\n              label : \\\"会诊发起人\\\",\\n             render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"timeLimit\\\",\\n              label : \\\"时限\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"report\\\",\\n              label : \\\"多专业诊断报告\\\",\\n              type: \\\"customHtml\\\",\\n              content : \\\"<a href='#'>多专业诊断.pdf</a>\\\",\\n              render : function(){\\n                  return \\\"\\\";\\n              }\\n          }]\\n       target.setValue(\\\"orderFormat\\\",format);\\n       target.render({\\n            data : workArray,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      \\n      var userObj = {};\\n      var ticketQueryModel = {ticketStatus:100};\\n      var readerData =  function(param){\\n        event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n         if(returnObj.code == 0){\\n            var dic = {};\\n            for(var i in returnObj.data) {\\n              var obj = returnObj.data[i];\\n              if(dic[obj.dictCode]) {\\n                dic[obj.dictCode].push(obj);\\n              } else {\\n                dic[obj.dictCode] = [];\\n                dic[obj.dictCode].push(obj);\\n              }\\n            }\\n            for(var items in dic) {\\n              myDicts[items] = dic[items];\\n            }\\n            target.setValue(\\\"allDicts\\\",myDicts);\\n            event.target.postService(\\\"userUIService\\\", \\\"queryUserByCondition\\\", {}, function(returnData){\\n                 if(returnData.code == 0){\\n                  var queryUser = returnData.data ;\\n                  target.setValue(\\\"user\\\",queryUser)\\n                  for(var i  in queryUser){\\n                      userObj[queryUser[i].userID] = queryUser[i];\\n                  }\\n                 target.setValue(\\\"userObj\\\",userObj);\\n       event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketsByCondition\\\",param, function(dt){\\n        if(dt.code == 0){\\n        var workOrderData = dt.data;\\n        var workArray = [];\\n        for(var i in workOrderData){\\n            workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"specialtyType\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"sponsor\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"participant\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"timeLimit\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"report\\\"] = \\\"\\\";\\n            if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                if(workOrderData[i].values && workOrderData[i].values.customerName != undefined){\\n                  workOrderData[i].customerName = workOrderData[i].values.customerName;\\n                }\\n                 if(workOrderData[i].values && workOrderData[i].values.devName != undefined){\\n                   workOrderData[i].devName =  workOrderData[i].values.devName;\\n                }\\n                 if(workOrderData[i].values && workOrderData[i].values.appName != undefined){\\n                  workOrderData[i].appName =  workOrderData[i].values.appName;\\n                }\\n                 if(workOrderData[i].values && workOrderData[i].values.alertTitle != undefined){\\n                  workOrderData[i].alertTitle = workOrderData[i].values.alertTitle;\\n                }\\n                 if(workOrderData[i].values && workOrderData[i].values.severity != undefined){\\n                  workOrderData[i].severity = workOrderData[i].values.severity;\\n                }\\n            }\\n              if(workOrderData[i].values && workOrderData[i].values.participant != undefined && userObj[workOrderData[i].values.participant] != undefined){\\n                  workOrderData[i].participant = userObj[workOrderData[i].values.participant].userName\\n                }\\n                if(workOrderData[i].values && workOrderData[i].values.sponsor != undefined && userObj[workOrderData[i].values.sponsor] != undefined){\\n                  workOrderData[i].sponsor =  userObj[workOrderData[i].values.sponsor].userName;\\n                }\\n                if(workOrderData[i].values && workOrderData[i].values.specialtyType != undefined){\\n                //   workOrderData[i].specialtyType = workOrderData[i].values.specialtyType;\\n                   var specialtyType = myDicts[\\\"specialtyProps\\\"];\\n                     for(var s in specialtyType){\\n                         if(specialtyType[s].valueCode == workOrderData[i].values.specialtyType){\\n                             workOrderData[i].specialtyType = specialtyType[s].label;\\n                             break;\\n                         }\\n                    }\\n                }\\n                if(workOrderData[i].values && workOrderData[i].values.report != undefined){\\n                  workOrderData[i].report = workOrderData[i].values.report;\\n                }\\n                if(workOrderData[i].values && workOrderData[i].values.timeLimit != undefined){\\n                 var finshTimeType = myDicts[\\\"finshTimeType\\\"];\\n                 for(var f in finshTimeType){\\n                     if(finshTimeType[f].valueCode == workOrderData[i].values.timeLimit){\\n                         workOrderData[i].timeLimit = finshTimeType[f].label;\\n                         break;\\n                     }\\n                 }\\n                }\\n            workArray.push(workOrderData[i]);\\n        }\\n        render(workArray);\\n        //event.target.render(projects);\\n        }else{\\n            console.log(\\\"接口异常\\\");\\n        }\\n      })\\n                 }\\n             })\\n         }\\n     })\\n      }\\n      if(resource != undefined){\\n          if(resource && resource.id != undefined){\\n              ticketQueryModel[\\\"values\\\"]={\\\"deviceId\\\":resource.id,\\\"theTicketType\\\":\\\"multi\\\"};\\n  \\n          }\\n    //     target.on(\\\"my_dicts_obj\\\", function(dic){\\n    //      myDicts = dic.myDicts；\\n    //       console.info(\\\"my_dicts_obj====\\\", dic.myDicts);\\n    //     })\\n    \\n          readerData(ticketQueryModel);\\n      }else{\\n      target.on(\\\"tree_resourceChange\\\", function(obj){\\n             var resourceId = obj.resource;\\n              if(resourceId && resourceId.id != undefined){\\n                ticketQueryModel[\\\"values\\\"]={\\\"deviceId\\\":resourceId.id,\\\"theTicketType\\\":\\\"multi\\\"};\\n              }\\n    //           target.setValue(\\\"ticketParams\\\",ticketQueryModel);\\n    //             target.on(\\\"my_dicts_obj\\\", function(dic){\\n    //              myDicts = dic.myDicts；\\n    //               console.info(\\\"my_dicts_obj====\\\", dic.myDicts);\\n    //             })\\n              readerData(ticketQueryModel);\\n          });\\n      }\\n    \\n    },\\n    highlight : function(event){\\n        console.log(event.params);\\n        var paramsStatus = event.params;\\n        var target = event.target;\\n        var myDicts = target.getValue(\\\"allDicts\\\");\\n        var userObj = target.getValue(\\\"userObj\\\");\\n        var render = function(workOrderData){\\n           var format = target.getValue(\\\"orderFormat\\\");\\n           target.render({\\n                data : workOrderData,\\n                format : format.map(function(elem){\\n                    return {\\n                    \\\"name\\\": elem.label,\\n                    \\\"value\\\": elem.name,\\n                    \\\"type\\\": elem.type || \\\"text\\\",\\n                    \\\"content\\\": elem.content\\n                  }\\n                })\\n              });\\n        }\\n        event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketsByCondition\\\",paramsStatus, function(dt){\\n            if(dt.code == 0){\\n            var workOrderData = dt.data;\\n        var workArray = [];\\n        for(var i in workOrderData){\\n            workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"specialtyType\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"sponsor\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"participant\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"timeLimit\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"report\\\"] = \\\"\\\";\\n            if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                if(workOrderData[i].values && workOrderData[i].values.customerName != undefined){\\n                  workOrderData[i].customerName = workOrderData[i].values.customerName;\\n                }\\n                 if(workOrderData[i].values && workOrderData[i].values.devName != undefined){\\n                   workOrderData[i].devName =  workOrderData[i].values.devName;\\n                }\\n                 if(workOrderData[i].values && workOrderData[i].values.appName != undefined){\\n                  workOrderData[i].appName =  workOrderData[i].values.appName;\\n                }\\n                 if(workOrderData[i].values && workOrderData[i].values.alertTitle != undefined){\\n                  workOrderData[i].alertTitle = workOrderData[i].values.alertTitle;\\n                }\\n                 if(workOrderData[i].values && workOrderData[i].values.severity != undefined){\\n                  workOrderData[i].severity = workOrderData[i].values.severity;\\n                }\\n            }\\n              if(workOrderData[i].values && workOrderData[i].values.participant != undefined && userObj[workOrderData[i].values.participant] != undefined){\\n                  workOrderData[i].participant = userObj[workOrderData[i].values.participant].userName\\n                }\\n                if(workOrderData[i].values && workOrderData[i].values.sponsor != undefined && userObj[workOrderData[i].values.sponsor] != undefined){\\n                  workOrderData[i].sponsor =  userObj[workOrderData[i].values.sponsor].userName;\\n                }\\n                if(workOrderData[i].values && workOrderData[i].values.specialtyType != undefined){\\n                //   workOrderData[i].specialtyType = workOrderData[i].values.specialtyType;\\n                   var specialtyType = myDicts[\\\"specialtyProps\\\"];\\n                     for(var s in specialtyType){\\n                         if(specialtyType[s].valueCode == workOrderData[i].values.specialtyType){\\n                             workOrderData[i].specialtyType = specialtyType[s].label;\\n                             break;\\n                         }\\n                    }\\n                }\\n                if(workOrderData[i].values && workOrderData[i].values.report != undefined){\\n                  workOrderData[i].report = workOrderData[i].values.report;\\n                }\\n                if(workOrderData[i].values && workOrderData[i].values.timeLimit != undefined){\\n                 var finshTimeType = myDicts[\\\"finshTimeType\\\"];\\n                 for(var f in finshTimeType){\\n                     if(finshTimeType[f].valueCode == workOrderData[i].values.timeLimit){\\n                         workOrderData[i].timeLimit = finshTimeType[f].label;\\n                         break;\\n                     }\\n                 }\\n                }\\n            workArray.push(workOrderData[i]);\\n        }\\n            render(workArray);\\n            //event.target.render(projects);\\n            }else{\\n                console.log(\\\"接口异常\\\");\\n            }\\n          })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"$$hashKey\":\"object:1430\"},{\"label\":\"诊断申请弹出框\",\"path\":\"zdsq\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var params = target.getPopupData().resource;\\n      var myDicts = target.getPopupData().dicts;\\n      var user = target.getPopupData().user;\\n      var ticket = {\\\"title\\\":\\\"\\\",\\\"priorityCode\\\":100,\\\"ticketNo\\\":\\\"\\\",\\\"category\\\":\\\"70\\\",\\\"ticketCategoryId\\\":\\\"\\\",\\\"values\\\":{},\\\"deviceId\\\":params.id,\\\"faultId\\\":\\\"\\\", \\\"message\\\":\\\"\\\"};\\n      var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"设备信息\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"input\\\",\\n            class:\\\"col-md-9\\\",\\n            disabled:true,\\n            value:params.label,\\n            on : {\\n              change : function(elem){\\n                console.info(\\\"abnPhenomenon===\\\",elem.value);\\n              }\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"报警信息\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                console.info(\\\"abnPhenomenon===\\\",elem.value);\\n                 if(event.global.detailTask.values){\\n                    event.global.detailTask.values[\\\"parentTicketNo\\\"] = elem.value.taskNo;\\n                    event.global.detailTask.title = elem.value.alertTitle;\\n                    event.global.detailTask.message = elem.value.message;\\n                 }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"taskNo\\\",\\n              \\\"label\\\" : \\\"alertTitle\\\"\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"会诊专业\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                console.info(\\\"abnPhenomenon===\\\",elem.value);\\n                if(event.global.detailTask.values){\\n                    event.global.detailTask.values[\\\"specialtyType\\\"] = elem.value.valueCode;\\n                }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"valueCode\\\",\\n              \\\"label\\\" : \\\"label\\\"\\n            }\\n          }],\\n        //   [{\\n        //     type : \\\"label\\\",\\n        //     value : \\\"会诊人员\\\",\\n        //     class:\\\"col-md-2\\\"\\n        //   },{\\n        //     type : \\\"select\\\",\\n        //     value : \\\"请选择\\\",\\n        //     on : {\\n        //       change : function(elem){\\n        //         console.info(\\\"abnPhenomenon===\\\",elem.value);\\n        //         if(event.global.detailTask.values){\\n        //             event.global.detailTask.values[\\\"participant\\\"] = elem.value.userID;\\n        //         }\\n        //       }\\n        //     },\\n        //     options : [],\\n        //     format : {\\n        //       \\\"id\\\" : \\\"userID\\\",\\n        //       \\\"label\\\" : \\\"userName\\\"\\n        //     }\\n        //   }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"完成时限\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values){\\n                  event.global.detailTask.values[\\\"timeLimit\\\"] = elem.value.valueCode;\\n                }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"valueCode\\\",\\n              \\\"label\\\" : \\\"label\\\"\\n            }\\n          }]\\n      ];\\n      \\n    //   event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n    //      if(returnObj.code == 0){\\n    //         var dic = {};\\n    //         for(var i in returnObj.data) {\\n    //           var obj = returnObj.data[i];\\n    //           if(dic[obj.dictCode]) {\\n    //             dic[obj.dictCode].push(obj);\\n    //           } else {\\n    //             dic[obj.dictCode] = [];\\n    //             dic[obj.dictCode].push(obj);\\n    //           }\\n    //         }\\n    //         for(var items in dic) {\\n    //           myDicts[items] = dic[items];\\n    //         }\\n           ctrlGroups[2][1].options = myDicts[\\\"specialtyProps\\\"];\\n          ctrlGroups[3][1].options = myDicts[\\\"finshTimeType\\\"];\\n        //   ctrlGroups[3][1].options = user;\\n            var ticketTaskQueryModel = {\\\"taskStatus\\\":10};\\n\\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n\\t\\t        if(tc.code == 0){\\n\\t\\t          var list = tc.data;\\n\\t\\t          var array = [];\\n\\t\\t          for(var j in list){\\n\\t\\t              var obj = {\\\"taskNo\\\":\\\"\\\",\\\"alertTitle\\\":\\\"\\\"};\\n\\t\\t              if(list[j].variables && list[j].variables.ticketNo){\\n\\t\\t                obj.taskNo = list[j].variables.ticketNo;\\n\\t\\t              }\\n\\t\\t              if(list[j].variables && list[j].variables.alertTitle){\\n\\t\\t                obj.alertTitle = list[j].variables.alertTitle;\\n\\t\\t              }else{\\n\\t\\t               obj.alertTitle = list[j].ticketTitle;  \\n\\t\\t              }\\n\\t\\t             array.push(obj);\\n\\t\\t          }\\n\\t\\t          ctrlGroups[1][1].options = array;\\n\\t\\t          \\n\\t              event.target.postService(\\\"ticketCategoryService\\\", \\\"getTicketCategorys\\\", [], function(tc){\\n                    if(tc.code == 0){\\n                    var ticketData = tc.data;\\n                    var ticketSort = [];\\n                    for(var t in ticketData){\\n            \\t     if(ticketData[t].category == 70){\\n            \\t    \\tticketSort.push(ticketData[t]);\\n            \\t\\t }\\n            \\t\\t}\\n                  \\tticketSort.sort(function(a, b){\\n                       return a.createTime < b.createTime ? 1 : -1;\\n                    });\\n                    ticketCategorys = ticketSort[0];\\n            \\t\\tconsole.info(\\\"queren===\\\",ticketCategorys);\\n            \\t\\tticket.ticketCategoryId = ticketCategorys.id;\\n            \\t    event.global.fire(\\\"savetask\\\",ticket)\\n                    target.render(ctrlGroups);  \\n                    }else{\\n                        console.log(\\\"流程关联接口异常\\\");\\n                    }\\n                  })\\n\\t\\t        }\\n\\t\\t  //  });\\n        // }\\n    })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"提   交\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            style: {\\n                width:\\\"600\\\",\\n                textAlign: \\\"right\\\"\\n            },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var checkStatus = true;\\n                console.info(\\\"提交======\\\",event.global.detailTask);\\n                  event.target.postService(\\\"userLoginUIService\\\", \\\"getCurrentUser\\\",null, function(user){\\n                    if(user.code == 0){\\n                        if(event.global.detailTask.values){\\n                            event.global.detailTask.values[\\\"sponsor\\\"] = user.data.userID;\\n                        }\\n                        event.target.postService(\\\"ticketTaskService\\\", \\\"commitTicket\\\", event.global.detailTask, function(tc){\\n                            if(tc.code == 0){\\n                              event.target.growl(\\\"诊断申请发送成功\\\",\\\"success\\\");\\n                              target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                            //   target.navigateTo(\\\"page0\\\");\\n                            }else{\\n                    \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                            }\\n                        })\\n                    }\\n                  })\\n                // }\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"取   消\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n             style: {\\n                width:\\\"400\\\",\\n                textAlign: \\\"left\\\"\\n            },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                target.submit({\\\"statuc\\\":\\\"success\\\"});\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1437\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "测试",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[\"rootCi\"],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true,\"kpi\":[]},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var workObj = {};\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"tickeTaskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"报告审核\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      taskId: elem.row.id\\n                    }\\n                     target.setValue(\\\"taskList\\\",  workObj[elem.row.ticketNo]);\\n                    target.navigateTo(\\\"page0\\\",param);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n          target.setValue(\\\"formatTask\\\",format);\\n       target.render({\\n            data : tasks,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n       event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n    \\t\\tif(dt.code == 0){\\n    \\t\\t    var workList = dt.data;\\n    \\t\\t    for(var i in workList){\\n    \\t\\t        workObj[workList[i].ticketNo] = workList[i];\\n    \\t\\t    }\\n    \\t\\t    target.setValue(\\\"workObj\\\",workObj);\\n    \\t\\t   \\n    \\t\\t    var ticketTaskQueryModel = {\\\"taskStatus\\\":10};\\n    \\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n                    if(tc.code == 0){\\n                        var taskList = tc.data;\\n                        var taskArr = [];\\n                        for(var j in taskList){\\n                            taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                            taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                            taskList[j][\\\"tickeTaskStatus\\\"] = \\\"\\\";\\n                            if(workObj[taskList[j].ticketNo] != undefined){\\n                                if(workObj[taskList[j].ticketNo].values != undefined){\\n                                 if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                                     taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                                     taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                                     taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                                     taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                                 }\\n                                if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                                     taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                                 }\\n                                 if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                                     if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待审核\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                                     }\\n                                      \\n                                 }\\n                                }\\n                            }\\n                            taskArr.push(taskList[j]);\\n                        }\\n                         render(taskArr);\\n                    }\\n    \\t\\t          \\n    \\t\\t      })\\n    \\t\\t}else{\\n    \\t\\t event.target.growl(tc.message,\\\"error\\\");\\n            }\\n       })\\n    },\\n    query:function(event){\\n         var target = event.target;\\n         var workObj = target.getValue(\\\"workObj\\\");\\n         var format = target.getValue(\\\"formatTask\\\");\\n        var  params=event.params;\\n         console.info(\\\"params====\\\",event.params);\\n         console.info(\\\"format====\\\",format);\\n         var render = function(alertData){\\n            target.render({\\n            data : alertData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n         }\\n         var queryItem = {\\\"taskStatus\\\":\\\"10\\\",\\\"sendBeginTime\\\":params.firstTimeFrom,\\\"sendEndTime\\\":params.firstTimeTo};\\n         var jsonToString = JSON.stringify(queryItem) ;\\n         event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", eval(\\\"(\\\" + jsonToString + \\\")\\\"), function(tc){\\n             if(tc.code == 0){\\n                var taskList = tc.data;\\n                var taskArr = [];\\n                for(var j in taskList){\\n                    taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                    taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                    taskList[j][\\\"tickeTaskStatus\\\"] = \\\"\\\";\\n                    if(workObj[taskList[j].ticketNo] != undefined){\\n                        if(workObj[taskList[j].ticketNo].values != undefined){\\n                         if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                             taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                             taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                             taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                             taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                             taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                         }\\n                         if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                              if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                             }\\n                         }\\n                        }\\n                    }\\n                    taskArr.push(taskList[j]);\\n                }\\n                 render(taskArr);\\n            }\\n         })\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"complete\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"complete\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"complete\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"complete\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"任务状态：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"待分析\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"checking\\\"});\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"待审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"auditing\\\"});\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"待反馈\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"reporting\\\"});\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"已完成\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"end\\\"});\\n              }\\n            }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var workObj = {};\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"tickeTaskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"过程跟踪\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                   target.navigateTo(\\\"page9\\\", {\\n                      main : [0,\\\"detail\\\"],\\n                      ticketNo : elem.row.ticketNo,\\n                \\n                     \\n                    }, \\\"self\\\");\\n                    //  var param = {\\n                    //   ticketNo : elem.row.ticketNo\\n                    // }\\n                    // // target.trigger(\\\"lv1moveTo\\\", \\\"detail\\\");\\n                    //   target.navigateTo(\\\"page8\\\",param);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n       target.setValue(\\\"completeFormat\\\",format); \\n       target.render({\\n            data : tasks,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      var taskStatusList = {};\\n        event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n    \\t\\tif(dt.code == 0){\\n    \\t\\t    var workList = dt.data;\\n    \\t\\t    for(var i in workList){\\n    \\t\\t        workObj[workList[i].ticketNo] = workList[i];\\n    \\t\\t    }\\n    \\t\\t    target.setValue(\\\"completeWorkObj\\\",workObj); \\n    \\t\\t    var ticketTaskQueryModel = {\\\"taskStatus\\\":200};\\n    \\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n                    if(tc.code == 0){\\n                        var taskList = tc.data;\\n                        var taskArr = [];\\n                        for(var j in taskList){\\n                            taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                            taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                            taskList[j][\\\"tickeTaskStatus\\\"] = \\\"\\\";\\n                            if(workObj[taskList[j].ticketNo] != undefined){\\n                                if(workObj[taskList[j].ticketNo].values != undefined){\\n                                 if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                                     taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                                     taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                                     taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                                     taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                                 }\\n                                if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                                     taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                                 }\\n                                if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                                   if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待审核\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                                     }\\n                                      \\n                                    if(taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] != undefined){\\n                                        taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                                    }else{\\n                                        taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] = [];\\n                                         taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                                    }\\n                                 }\\n                                }\\n                            }\\n                            taskArr.push(taskList[j]);\\n                        }\\n                        \\n                         target.setValue(\\\"taskStatusList\\\",taskStatusList); \\n                         render(taskArr);\\n                    }\\n    \\t\\t          \\n    \\t\\t      })\\n    \\t\\t}else{\\n    \\t\\t event.target.growl(tc.message,\\\"error\\\");\\n            }\\n       })\\n    },\\n  complete:function(event){\\n         var target = event.target;\\n         var workObj = target.getValue(\\\"completeWorkObj\\\");\\n         var format = target.getValue(\\\"completeFormat\\\");\\n        var  params=event.params;\\n         console.info(\\\"params====\\\",event.params);\\n         console.info(\\\"format====\\\",format);\\n         var render = function(alertData){\\n            target.render({\\n            data : alertData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n         }\\n         var tickeTaskStatusList = {};\\n         var queryItem = {\\\"taskStatus\\\":\\\"200\\\",\\\"sendBeginTime\\\":params.firstTimeFrom,\\\"sendEndTime\\\":params.firstTimeTo};\\n         var jsonToString = JSON.stringify(queryItem) ;\\n         event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", eval(\\\"(\\\" + jsonToString + \\\")\\\"), function(tc){\\n             if(tc.code == 0){\\n                var taskList = tc.data;\\n                var taskArr = [];\\n                for(var j in taskList){\\n                    taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                    taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                    if(workObj[taskList[j].ticketNo] != undefined){\\n                        if(workObj[taskList[j].ticketNo].values != undefined){\\n                         if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                             taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                             taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                             taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                             taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                             taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                         }\\n                         if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                             if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                             }\\n                             if(tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] != undefined){\\n                                 tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                             }else{\\n                                 tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] = [];\\n                                 tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                             }\\n                         }\\n                         \\n                        }\\n                    }\\n                    taskArr.push(taskList[j]);\\n                }\\n                 target.setValue(\\\"tickeTaskStatusList====\\\",tickeTaskStatusList); \\n                 render(taskArr);\\n            }\\n         })\\n     },\\n     taskstatusquery:function(event){\\n        var target = event.target;\\n        var getTaskList = target.getValue(\\\"taskStatusList\\\");\\n        var taskStatus = event.params.status;\\n        var format =  target.getValue(\\\"completeFormat\\\");\\n        console.info(\\\"taskStatus====\\\",taskStatus);\\n        console.info(\\\"getTaskList====\\\",getTaskList);\\n        console.info(\\\"format====\\\",format);\\n        \\n         var render = function(taskData){\\n            target.render({\\n            data : taskData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n        }\\n        if(getTaskList[taskStatus]){\\n          render(getTaskList[taskStatus]);\\n         }else{\\n           render([]);\\n         }\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"}}]}]}]}],\"url\":\"images/map/map1.png\"}],\"col\":12,\"alertObj\":{\"542059861046087\":{\"eventId\":544241138966070,\"alertId\":542059861046087,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [1] 异常\",\"arisingTime\":\"2017-11-13T05:09:27.126+0000\",\"receiveTime\":\"2017-11-13T05:09:27.126+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-13T05:09:27.126+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-13T13:05:57.024+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-21T17:54:22.070+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"537783494437643\":{\"eventId\":539009142136470,\"alertId\":537783494437643,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [2] 异常\",\"arisingTime\":\"2017-11-11T07:16:16.725+0000\",\"receiveTime\":\"2017-11-11T07:16:16.725+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-11T07:15:16.731+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-11T15:12:46.633+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-15T12:30:29.348+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536687391997414\":{\"eventId\":538746819166095,\"alertId\":536687391997414,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"6\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:5.0 [2] 异常\",\"arisingTime\":\"2017-11-10T07:47:16.841+0000\",\"receiveTime\":\"2017-11-10T07:47:16.841+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T07:46:16.845+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T15:43:46.743+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-20T18:49:02.240+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536859189296064\":{\"eventId\":538540371966064,\"alertId\":536859189296064,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"4\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:6.0 [13] 异常\",\"arisingTime\":\"2017-11-10T01:41:57.515+0000\",\"receiveTime\":\"2017-11-10T01:41:57.515+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":7,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:35:58.068+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:38:27.436+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-22T01:47:41.651+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}},\"alertParams\":{}},\"$$hashKey\":\"object:1431\"},{\"label\":\"审核页面中的报告编制\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"page1\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var workObj = target.getValue(\\\"taskList\\\");\\n      console.info(\\\"workObj===\\\",workObj);\\n      var dName = \\\"设备名称:\\\";\\n      var numberD = \\\"设备编号:\\\";\\n      if(workObj.values.devName != undefined){\\n         dName = \\\"设备名称:\\\"+workObj.values.devName+\\\"\\\";\\n      }\\n      if(workObj.values.deviceId != undefined){\\n        numberD = \\\"设备编号:\\\"+workObj.values.deviceId+\\\"\\\";\\n      }\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : dName,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : numberD,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var taskId = event.target.getParameter(\\\"taskId\\\");\\n      var taskList = target.getValue(\\\"taskList\\\");\\n      var protocol = window.location.protocol;\\n      var host = window.location.host;\\n      var lc= protocol+\\\"//\\\"+host;\\n      var myDicts = {};\\n      console.info(\\\"pathname====\\\",window.location.protocol);\\n       var ctrlGroupsObj = {};\\n     \\n      var ctrlGroups = [];\\n      \\n         event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n             if(returnObj.code == 0){\\n                  var dic = {};\\n                    for(var i in returnObj.data) {\\n                      var obj = returnObj.data[i];\\n                      if(dic[obj.dictCode]) {\\n                        dic[obj.dictCode].push(obj);\\n                      } else {\\n                        dic[obj.dictCode] = [];\\n                        dic[obj.dictCode].push(obj);\\n                      }\\n                    }\\n                    for(var items in dic) {\\n                      myDicts[items] = dic[items];\\n                    }\\n                   event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n                    if(tc.code == 0){\\n                         ctrlGroupsObj = tc.data.variables;\\n                    if(ctrlGroupsObj.alertTitle !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"设备告警信息\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.alertTitle\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.abnPhenomenon !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"异常现象\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.abnPhenomenon\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.technicsStatus !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"工艺状况\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.technicsStatus\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.position !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"检测部位\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.position\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.attention !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"注意事项\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.attention\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.standard !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断标准\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.standard\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.basis !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断依据\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.basis\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.basisImage !=undefined){\\n                        var str = \\\"\\\";\\n                        if(ctrlGroupsObj.basisImage.length >0){\\n                           var arr = ctrlGroupsObj.basisImage;\\n                           for(var j in arr){\\n                               str +=\\\"<img src='\\\"+lc+\\\"\\\"+arr[j].value+\\\"' style='width: 200px;height: 200px;margin-right: 10px;' />\\\";\\n                           }\\n                        }\\n                        console.info(\\\"customHtml\\\",str);\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断依据图片\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"customHtml\\\",\\n                                disabled:true,\\n                                value : str\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.statusGrade !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"综合状态等级\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.statusGrade\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.abnPosition !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"异常部位\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.abnPosition\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.failureRepairReson !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"故障产生原因\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.failureRepairReson\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.multipleConclusion !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"综合判断结论\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.multipleConclusion\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.cessingScheme !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"处理方案建议\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.cessingScheme\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.attUpload !=undefined){\\n                         var str = \\\"\\\";\\n                        if(ctrlGroupsObj.attUpload.length >0){\\n                           var arr = ctrlGroupsObj.attUpload;\\n                           for(var j in arr){\\n                               str +=\\\"<a href='\\\"+lc+\\\"\\\"+arr[j].value+\\\"' target='_blank' style='margin-right:10px;'>\\\"+arr[j].label+\\\"</a>\\\";\\n                           }\\n                        }\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"附件\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"customHtml\\\",\\n                                disabled:true,\\n                                value : str\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                     event.global.fire(\\\"savetask\\\",tc.data)\\n                     event.target.render(ctrlGroups);\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                  })\\n             }\\n         });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"通   过\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                \\n                var obj = {\\\"isAudit\\\":1,\\\"auditOpinion\\\":\\\"\\\"};\\n                event.global.detailTask.taskStatus = 200;\\n               event.global.detailTask.values = obj;\\n                console.info(\\\"通   过======\\\",event.global.detailTask);\\n                  var taskObj = {\\\"detailTask\\\":event.global.detailTask};\\n                  target.createPopupBypath(\\\"popup1\\\", {\\n                        title : \\\"审核\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        on : {\\n                          submit : function(data){\\n                           console.info(\\\"submitsubmit====\\\",data);\\n                           if(data.statuc == \\\"success\\\"){\\n                            target.navigateTo(\\\"page0\\\");\\n                           }\\n                          }\\n                        }\\n                      }, taskObj);\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"驳   回\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                  var obj = {\\\"isAudit\\\":0,\\\"auditOpinion\\\":\\\"\\\"};\\n                   event.global.detailTask.taskStatus = 200;\\n                   event.global.detailTask.values = obj;\\n                 console.info(\\\"驳   回======\\\",event.global.detailTask);\\n                 var taskObj = {\\\"detailTask\\\":event.global.detailTask};\\n                  target.createPopupBypath(\\\"popup1\\\", {\\n                        title : \\\"审核\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        on : {\\n                          submit : function(data){\\n                           if(data.statuc == \\\"success\\\"){\\n                            target.navigateTo(\\\"page0\\\");\\n                           }\\n                          }\\n                        }\\n                      }, taskObj);\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1438\"},{\"label\":\"两级导航切换修改\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"margin\":\"5px\",\"padding\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"时 间:\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\"\\n          }]\\n        ];\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                  width:\\\"55px\\\",\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日报警\\\",\\n              btnclass:currStatus==\\\"today\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               event.global.fire(\\\"getAlertByPage\\\",timeObj)\\n               currStatus = \\\"today\\\";\\n               render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周报警\\\",\\n              btnclass:currStatus==\\\"bz\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n               event.global.fire(\\\"getAlertByPage\\\",timeObj)\\n               currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月报警\\\",\\n              btnclass:currStatus==\\\"month\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               event.global.fire(\\\"getAlertByPage\\\",timeObj)\\n               currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    if(inpStatus){\\n                      event.global.fire(\\\"getAlertByPage\\\",timeObj);\\n                       currStatus = \\\"\\\";\\n                       inpStatus = false;\\n                    //   render();\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"报警通知\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var ticketCategorys = {};\\n      var deviceDic = {};\\n      var getDataByJquerySync = function(service,method,param){\\n        var ret;\\n        $.ajax({\\n          url : \\\"/api/rest/post/\\\" + service + \\\"/\\\" + method,\\n          type : \\\"post\\\",\\n          async : false,\\n          contentType : 'application/json',\\n          data : param ? JSON.stringify(param) : \\\"[]\\\",\\n          dataType : \\\"json\\\",\\n          success : function(data) {\\n            //console.log(\\\"函数回调\\\",data);\\n            if(data.code == '0'){\\n              ret = data.data;\\n            }\\n          }\\n        });\\n        return ret;\\n      };\\n      var render = function(alertData){\\n        var format = [{\\n          name : \\\"customerName\\\",\\n          label : \\\"产线\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"devName\\\",\\n          label : \\\"设备信息\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"appName\\\",\\n          label : \\\"报警来源\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"title\\\",\\n          label : \\\"报警消息\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"severity\\\",\\n          label : \\\"报警级别\\\",\\n          type : \\\"priority\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"firstArisingTime\\\",\\n          label : \\\"报警时间\\\",\\n          type : \\\"date\\\",\\n          render : function(data, type, full){\\n\\n            return new Date(data.format(\\\"yyyy-MM-dd HH:mm:ss\\\"));\\n          }\\n        },{\\n          name : \\\"state\\\",\\n          label : \\\"报警状态\\\",\\n          type : \\\"status\\\",\\n          render : function(data, type, full){\\n            return data;\\n          }\\n        },{\\n          name : \\\"handel\\\",\\n          label : \\\"操作\\\",\\n          type: \\\"buttonGroupAlert\\\",\\n          content : [{\\n            label : \\\"确认\\\",\\n            icon: \\\"null\\\",\\n            name:\\\"confirm\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            on : {\\n              click : function(elem){\\n                if(elem.row.state == 0 || elem.row.state == 5){\\n                  var severity = elem.row.severity;\\n                  if(severity == 1 || severity == 2) {\\n                    severity = 0;\\n                  } else if(severity == 3) {\\n                    severity = 100;\\n                  } else if(severity == 5 || severity == 4) {\\n                    severity = 200;\\n                  }\\n                  event.target.postService(\\\"resourceUIService\\\", \\\"getKpisByKpiIds\\\", [[elem.row.kpiCode]], function(kpi){\\n                    if(kpi.code == 0){\\n                      var MaintainPerson = deviceDic[elem.row.nodeId].values.MaintainPerson;\\n                      var AuditPersonObj = eval(\\\"(\\\" +deviceDic[elem.row.nodeId].values.AuditPerson + \\\")\\\");\\n                      var ResponsiblePersonObj =eval(\\\"(\\\" + deviceDic[elem.row.nodeId].values.ResponsiblePerson + \\\")\\\");\\n                      var auditStr = \\\"\\\";\\n                      var personStr = \\\"\\\";\\n                      if(kpi.data.length > 0){\\n                        auditStr = AuditPersonObj[\\\"\\\"+kpi.data[0].specialtyProp+\\\"\\\"];\\n                        personStr = ResponsiblePersonObj[\\\"\\\"+kpi.data[0].specialtyProp+\\\"\\\"];\\n                      }else{\\n                        auditStr = AuditPersonObj.Z;\\n                        personStr = ResponsiblePersonObj.Z;\\n                      }\\n                      var valuesObj = {\\\"customerName\\\":elem.row.customerName,\\\"devName\\\":elem.row.devName,\\\"appName\\\":elem.row.appName,\\n                        \\\"alertTitle\\\":elem.row.title,\\\"severity\\\":elem.row.severity,\\\"AuditPerson\\\":auditStr,\\n                        \\\"CheckPerson\\\":deviceDic[elem.row.nodeId].values.CheckPerson,\\\"ResponsiblePerson\\\":personStr,\\\"MaintainPerson\\\":MaintainPerson};\\n                      var alertInfo = {\\n                        \\\"actionType\\\": \\\"forward\\\",\\n                        \\\"alertIds\\\": [elem.row.alertId],\\n                        \\\"severity\\\": 0,\\n                        \\\"target\\\": \\\"EOMS://auttest/auttest\\\"\\n                      };\\n                      var ticket = {\\n                        \\\"title\\\": elem.row.title,\\n                        \\\"category\\\": ticketCategorys.category,\\n                        \\\"ticketCategoryId\\\": ticketCategorys.id,\\n                        \\\"priorityCode\\\": severity,\\n                        \\\"faultId\\\": \\\"\\\",\\n                        \\\"deviceId\\\": elem.row.nodeId,\\n                        \\\"message\\\": elem.row.message,\\n                        \\\"values\\\":valuesObj\\n                      };\\n\\n                      var claimObj ={\\\"actionType\\\":\\\"claim\\\",\\\"alertIds\\\":[elem.row.alertId]};\\n                      event.target.postService(\\\"alertManageFlexService\\\", \\\"sendForwardAction\\\", [alertInfo,ticket], function(tc){\\n                        if(tc.code == 0){\\n                          event.target.postService(\\\"alertManageFlexService\\\", \\\"sendClaimAction\\\", [claimObj], function(claimData){\\n                            if(claimData.code == 0){\\n                              event.target.growl(\\\"报警处理成功，已发送给相关负责人\\\",\\\"success\\\");\\n                              event.global.fire(\\\"getAlertByPage\\\",{});\\n\\n                            }\\n                          });\\n                        }else{\\n                          event.target.growl(tc.message,\\\"info\\\");\\n                        }\\n                      })\\n                    }\\n\\n                  })\\n\\n                }else{\\n                  event.target.growl(\\\"不能转工单\\\",\\\"warning\\\");\\n                }\\n\\n              }\\n            }\\n          },{\\n            label : \\\"忽略\\\",\\n            icon: \\\"null\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            name:\\\"ignore\\\",\\n            on : {\\n              click : function(elem){\\n                console.info(\\\"忽略===\\\",elem);\\n                var alertObj = {\\\"alertObj\\\":elem.row};\\n                target.createPopupBypath(\\\"popup\\\", {\\n                  title : \\\"处理\\\",\\n                  width : \\\"40%\\\",\\n                  theme : \\\"system\\\",\\n                  on : {\\n                    submit : function(data){\\n                      console.info(\\\"submitsubmit====\\\",data);\\n                      if(data.statuc == \\\"success\\\"){\\n                        event.global.fire(\\\"getAlertByPage\\\",{});\\n                      }\\n                    }\\n                  }\\n                }, alertObj);\\n              }\\n            }\\n          }],\\n          render : function(){\\n            return \\\"\\\"\\n          }\\n        }]\\n\\n        target.setValue(\\\"format\\\",format);\\n        target.render({\\n          data : alertData,\\n          format : format.map(function(elem){\\n            return {\\n              \\\"name\\\": elem.label,\\n              \\\"value\\\": elem.name,\\n              \\\"type\\\": elem.type || \\\"text\\\",\\n              \\\"content\\\": elem.content\\n            }\\n          })\\n        });\\n      }\\n      var customersList = getDataByJquerySync(\\\"customerUIService\\\",\\\"findCustomersByCondition\\\",[{}]);\\n      var customersDic = {};\\n      if(customersList){\\n        customersList.forEach(function(u){\\n          customersDic[u.id] = u;\\n        });\\n      }\\n\\n      var deviceList = getDataByJquerySync(\\\"resourceUIService\\\",\\\"getDevicesByCondition\\\",[{}]);\\n      if(deviceList){\\n        deviceList.forEach(function(u){\\n          deviceDic[u.id] = u;\\n        });\\n      }\\n      target.setValue(\\\"customersDic\\\",customersDic);\\n      target.setValue(\\\"deviceDic\\\",deviceDic);\\n      var queryItem = {\\\"severities\\\":\\\"1,2,3,4\\\",\\\"states\\\":\\\"0,5,10\\\"};\\n      var pageRequest = {\\\"start\\\":0,\\\"length\\\":500,\\\"statCount\\\":true};\\n      var alertList = getDataByJquerySync(\\\"alertQueryFlexService\\\",\\\"getAlertByPage\\\",[queryItem,pageRequest]);\\n      var alertArr = [];\\n      var alertDic = {};\\n      if(alertList.data.length > 0){\\n        for(var i in alertList.data){\\n          alertList.data[i][\\\"nodeName\\\"] = \\\"\\\";\\n          alertList.data[i][\\\"customerName\\\"] = \\\"\\\";\\n          if(alertList.data[i].nodeId &&  deviceDic[alertList.data[i].nodeId] != undefined){\\n            var customersId = deviceDic[alertList.data[i].nodeId].customerId;\\n            if(customersDic[customersId] != undefined){\\n              alertList.data[i].customerName = customersDic[customersId].customerName;\\n            }\\n          }\\n          alertDic[alertList.data[i].alertId] = alertList.data[i];\\n          alertArr.push(alertList.data[i]);\\n        }\\n      }\\n      event.global.fire(\\\"accept\\\",alertDic)\\n      target.setValue(\\\"alertArr\\\",alertArr);\\n      event.target.postService(\\\"ticketCategoryService\\\", \\\"getTicketCategorys\\\", [], function(tc){\\n        if(tc.code == 0){\\n          var ticketData = tc.data;\\n          var ticketSort = [];\\n          for(var t in ticketData){\\n            if(ticketData[t].category == 50){\\n              ticketSort.push(ticketData[t]);\\n            }\\n          }\\n          ticketSort.sort(function(a, b){\\n            return a.createTime < b.createTime ? 1 : -1;\\n          });\\n          ticketCategorys = ticketSort[0];\\n         \\n          setInterval(function(){\\n              var queryParam = event.global.alertParams == undefined ? {} : event.global.alertParams;\\n              event.global.fire(\\\"getAlertByPage\\\",queryParam);\\n          }, 1000*60);\\n          render(alertArr);\\n        }else{\\n          console.log(\\\"流程关联接口异常\\\");\\n        }\\n      })\\n    },\\n    refresh:function(event){\\n      var target = event.target;\\n    },\\n    getAlertByPage:function(event){\\n      var target = event.target;\\n      var customersDic = target.getValue(\\\"customersDic\\\");\\n      var deviceDic = target.getValue(\\\"deviceDic\\\");\\n      var format = target.getValue(\\\"format\\\");\\n      var  params=event.params;\\n      console.info(\\\"params====\\\",event.params);\\n      event.global.alertParams = event.params;\\n      var render = function(alertData){\\n        target.render({\\n          data : alertData,\\n          format : format.map(function(elem){\\n            return {\\n              \\\"name\\\": elem.label,\\n              \\\"value\\\": elem.name,\\n              \\\"type\\\": elem.type || \\\"text\\\",\\n              \\\"content\\\": elem.content\\n            }\\n          })\\n        });\\n      }\\n      var queryItem = {\\\"severities\\\":\\\"1,2,3,4\\\",\\\"states\\\":\\\"0,5,10\\\",\\\"firstTimeFrom\\\":params.firstTimeFrom,\\\"firstTimeTo\\\":params.firstTimeTo};\\n      var pageRequest = {\\\"start\\\":0,\\\"length\\\":500,\\\"statCount\\\":true};\\n      var jsonToString = JSON.stringify(queryItem) ;\\n      event.target.postService(\\\"alertQueryFlexService\\\", \\\"getAlertByPage\\\", [eval(\\\"(\\\" + jsonToString + \\\")\\\"),pageRequest], function(tc){\\n        if(tc.code == 0){\\n          var alertList = tc.data.data;\\n          var alertArr = [];\\n          var alertDic = {};\\n          if(alertList.length > 0){\\n            for(var i in alertList){\\n              alertList[i][\\\"nodeName\\\"] = \\\"\\\";\\n              alertList[i][\\\"customerName\\\"] = \\\"\\\";\\n              if(alertList[i].nodeId &&  deviceDic[alertList[i].nodeId] != undefined){\\n                var customersId = deviceDic[alertList[i].nodeId].customerId;\\n                if(customersDic[customersId] != undefined){\\n                  alertList[i].customerName = customersDic[customersId].customerName;\\n                }\\n              }\\n              alertDic[alertList[i].alertId] = alertList[i];\\n              alertArr.push(alertList[i]);\\n            }\\n          }\\n          render(alertArr);\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var currStatus = \\\"\\\";\\n      var id = \\\"\\\";\\n      var render = function(){\\n     var list = [{\\n          id : 1,\\n          title : \\\"当日报警\\\",\\n          value : 0,\\n          btnclass:id == 1?\\\"btn-primary\\\" : \\\"btn btn-default\\\",\\n          type:\\\"button\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 2,\\n          title : \\\"本周报警\\\",\\n          value : \\\"checking\\\",\\n          btnclass:id == 2?\\\"btn-primary\\\" : \\\"btn btn-default\\\",\\n          type:\\\"button\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          title : \\\"当月报警\\\",\\n          id : 3,\\n          value : \\\"auditing\\\",\\n          btnclass:id == 3?\\\"btn-primary\\\" : \\\"btn btn-default\\\",\\n          type:\\\"button\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          type: \\\"dateRangePicker\\\",\\n          value: \\\"\\\",          \\n          id : 4,\\n          class: \\\"col-md-5\\\",\\n          style: {\\n              width:\\\"200px\\\",\\n            textAlign: \\\"center\\\"\\n          }\\n        },{\\n          id : 5,\\n          title : \\\"查 询\\\",\\n          btnclass:id == 5?\\\"btn-primary\\\" : \\\"btn btn-default\\\",\\n          type:\\\"button\\\",\\n          activeclass:\\\"\\\"\\n      }]\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"时    间:\\\",\\n            style:{\\n                textAlign:\\\"right\\\",\\n                width:\\\"100px\\\"\\n            }\\n          }]\\n        ];\\n        for(var i in list){\\n           var onChang = {};    \\n             if(list[i].id == 1){\\n                    onChang[\\\"click\\\"] = function(elem){ \\n                       id =  elem.current.id;\\n                       var today = new Date();\\n                        today.setHours(0);\\n                        today.setMinutes(0);\\n                        today.setSeconds(0);\\n                        today.setMilliseconds(0);\\n                        event.global.fire(\\\"highlight\\\", {\\\"commitBeginTime\\\": today,\\\"commitEndTime\\\": now,optionType: \\\"time\\\"});    \\n                  \\n                        event.global.fire(\\\"statusRef\\\",{});\\n                        render()\\n                    }\\n              }else if(list[i].id == 2){\\n                   onChang[\\\"click\\\"] = function(elem){\\n                       id =  elem.current.id;\\n                        //获得本周的开端日期 \\n                    function getWeekStartDate() { \\n                       \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                    \\tvar nowDay = now.getDate(); //当前日 \\n                    \\tvar nowMonth = now.getMonth(); //当前月 \\n                    \\tvar nowYear = now.getFullYear(); //当前年 \\n                    \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                     return weekStartDate; \\n                    } \\n                   timeObj.firstTimeFrom = getWeekStartDate();\\n                   timeObj.firstTimeTo = now;\\n                   event.global.fire(\\\"highlight\\\", {\\\"commitBeginTime\\\": timeObj.firstTimeFrom,\\\"commitEndTime\\\": timeObj.firstTimeTo,optionType: \\\"time\\\"});\\n            \\n                        event.global.fire(\\\"statusRef\\\",{});\\n                        render()\\n                    }\\n              }else if(list[i].id == 3){\\n                   onChang[\\\"click\\\"] = function(elem){\\n                       id =  elem.current.id;\\n                   //当前月的第一天\\n                    function getCurrentMonthFirst(){\\n                     var date=new Date();\\n                     date.setDate(1);\\n                     return date;\\n                    }\\n                   timeObj.firstTimeFrom = getCurrentMonthFirst();\\n                   timeObj.firstTimeTo = now;\\n                   event.global.fire(\\\"highlight\\\", {\\\"commitBeginTime\\\": timeObj.firstTimeFrom,\\\"commitEndTime\\\": timeObj.firstTimeTo,optionType: \\\"time\\\"});\\n             \\n                        event.global.fire(\\\"statusRef\\\",{});\\n                        render()\\n                   }\\n              }else if(list[i].id == 4){\\n                   onChang[\\\"change\\\"] = function(elem){\\n                     timeObj.firstTimeFrom = elem.value.start;\\n                     timeObj.firstTimeTo = elem.value.end;\\n                     if(elem.value.start){\\n                       inpStatus = true;\\n                     }\\n                   }\\n              }else if(list[i].id == 5){\\n                 onChang[\\\"click\\\"] = function(elem){\\n                    if(inpStatus){\\n                     event.global.fire(\\\"highlight\\\", {\\\"commitBeginTime\\\": timeObj.firstTimeFrom,\\\"commitEndTime\\\": timeObj.firstTimeTo,optionType: \\\"time\\\"});\\n                     event.global.fire(\\\"statusRef\\\",{});\\n                     id =  elem.current.id;\\n                     render()\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }   \\n                 }\\n              }\\n               var obj = {\\n                    id : list[i].id,\\n                    type : list[i].type ?list[i].type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass :list[i].btnclass,\\n                    paramvalue:list[i].value,\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : onChang \\n                }\\n                ctrlGroups[0].push(obj);\\n            }\\n        event.target.render(ctrlGroups);\\n      }\\n       render()\\n       target.on(\\\"refresh_time_status\\\", function(e){\\n          id = \\\"\\\";\\n          render();\\n        });\\n    },\\n    btnStatus:function(event){\\n      var target = event.target;\\n      target.trigger(\\\"refresh_time_status\\\");\\n       \\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 1; \\n      var list = [{\\n          id : 1,\\n          title : \\\"全部\\\",\\n          value : 0,\\n          btnclass:\\\"btn btn-primary\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 2,\\n          title : \\\"待分析\\\",\\n          value : \\\"checking\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 3,\\n          title : \\\"待审批\\\",\\n          value : \\\"auditing\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 4,\\n          title : \\\"待委托\\\",\\n          value : \\\"trusting\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 5,\\n          title : \\\"待维修\\\",\\n          value : \\\"maintaining\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 6,\\n          title : \\\"待验收\\\",\\n          value : \\\"accepting\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 7,\\n          title : \\\"待评价\\\",\\n          value : \\\"assessing\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 8,\\n          title : \\\"待说明\\\",\\n          value : \\\"explaining\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 9,\\n          title : \\\"待关闭\\\",\\n          value : \\\"closing\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 10,\\n          title : \\\"已完成\\\",\\n          value : \\\"end\\\",\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      }]\\n      var render = function(){\\n     \\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"任务状态:\\\",\\n            style:{\\n                textAlign:\\\"right\\\",\\n                width:\\\"100px\\\"\\n            }\\n          }]\\n        ];\\n        for(var i in list){\\n           \\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass :list[i].btnclass,\\n                    paramvalue:list[i].value,\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        id = elem.current.id;\\n                        var value = elem.current.paramvalue;\\n                        event.global.fire(\\\"highlight\\\", {status: value,optionType: \\\"status\\\"});\\n                        event.global.fire(\\\"btnStatus\\\",{});\\n                        console.log(\\\"id=====\\\"+id);\\n                          for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].btnclass = \\\"btn btn-primary\\\";\\n                            } else {\\n                               list[i].btnclass = \\\"btn btn-default\\\"; \\n                            } \\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n     target.on(\\\"refresh_status_type\\\", function(e){\\n        id = 1; \\n        for(var i in list){\\n            if(list[i].id == id){\\n               list[i].btnclass = \\\"btn btn-primary\\\";\\n            } else {\\n               list[i].btnclass = \\\"btn btn-default\\\"; \\n            } \\n           \\n        }\\n          render();\\n     });\\n    },\\n    statusRef: function(event){\\n     console.log(\\\"刷新状态\\\");    \\n      var target = event.target;\\n      var global = event.global;\\n      target.trigger(\\\"refresh_status_type\\\");\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"任务跟踪\\\")\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var getDataByJquerySync = function(service,method,param){\\n\\t\\t\\tvar ret;\\n\\t\\t\\t$.ajax({\\n\\t\\t\\t  url : \\\"/api/rest/post/\\\" + service + \\\"/\\\" + method,\\n\\t\\t\\t  type : \\\"post\\\",\\n\\t\\t\\t  async : false,\\n\\t\\t\\t  contentType : 'application/json',\\n\\t\\t\\t  data : param ? JSON.stringify(param) : \\\"[]\\\",\\n\\t\\t\\t  dataType : \\\"json\\\",\\n\\t\\t\\t  success : function(data) {\\n\\t\\t\\t    //console.log(\\\"函数回调\\\",data);\\n\\t\\t\\t\\tif(data.code == '0'){\\n\\t\\t\\t\\t\\tret = data.data;\\n\\t\\t\\t\\t}\\n\\t\\t\\t  }\\n\\t\\t\\t});\\n\\t\\t\\treturn ret;\\n\\t\\t};\\n      var render = function(workOrderData){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"commitTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return new Date(data.format(\\\"yyyy-MM-dd HH:mm:ss\\\"));\\n              }\\n          },{\\n              name : \\\"candidateUserOrGroup\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"statusLabel\\\",\\n              label : \\\"任务状态\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"过程跟踪\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      ticketNo : elem.row.ticketNo\\n                    }\\n                    console.log(\\\"ticketNo=====\\\",elem.row.ticketNo);\\n                    target.navigateTo(\\\"page1\\\",param,\\\"self\\\");\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        target.setValue(\\\"orderFormat\\\",format);\\n       target.render({\\n            data : workOrderData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      var ticketQueryModel = {};\\n      event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketsByCondition\\\",ticketQueryModel, function(dt){\\n        if(dt.code == 0){\\n        var workOrderData = dt.data;\\n        var workArray = [];\\n        var alertObj = event.global.alertObj;\\n        for(var i in workOrderData){\\n            workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"statusLabel\\\"] = \\\"\\\";\\n            \\n            if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                if(alertObj != undefined){\\n                    if(alertObj[workOrderData[i].origId[0]] != undefined){\\n                        workOrderData[i].customerName = alertObj[workOrderData[i].origId[0]].customerName;\\n                        workOrderData[i].devName = alertObj[workOrderData[i].origId[0]].devName;\\n                        workOrderData[i].appName = alertObj[workOrderData[i].origId[0]].appName;\\n                        workOrderData[i].alertTitle = alertObj[workOrderData[i].origId[0]].title;\\n                        workOrderData[i].severity = alertObj[workOrderData[i].origId[0]].severity;\\n               \\n                    }\\n                }\\n            }\\n            if(workOrderData[i].values && workOrderData[i].values.tickeTaskStatus != undefined){\\n                if(workOrderData[i].values.tickeTaskStatus == \\\"checking\\\"){\\n                  workOrderData[i].statusLabel = \\\"待分析\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"auditing\\\"){\\n                  workOrderData[i].statusLabel = \\\"待审批\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"trusting\\\"){\\n                  workOrderData[i].statusLabel = \\\"待委托\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"maintaining\\\"){\\n                  workOrderData[i].statusLabel = \\\"待维修\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"accepting\\\"){\\n                  workOrderData[i].statusLabel = \\\"待验收\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"assessing\\\"){\\n                  workOrderData[i].statusLabel = \\\"待评价\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"explaining\\\"){\\n                  workOrderData[i].statusLabel = \\\"待说明\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"closing\\\"){\\n                  workOrderData[i].statusLabel = \\\"已完成\\\";\\n                }\\n            }\\n            workArray.push(workOrderData[i]);\\n        }\\n             \\n        render(workArray);\\n        //event.target.render(projects);\\n        }else{\\n            console.log(\\\"接口异常\\\");\\n        }\\n      })\\n    },\\n    highlight : function(event){\\n    //   event.element.render(event.params)\\n    console.log(event.params);\\n    var paramsStatus = event.params;\\n    var target = event.target;\\n\\n      var render = function(workOrderData){\\n       var format = target.getValue(\\\"orderFormat\\\");\\n       target.render({\\n            data : workOrderData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      \\n     var ticketQueryModel = {};\\n     if(paramsStatus.optionType == \\\"time\\\"){\\n          ticketQueryModel[\\\"commitBeginTime\\\"] = paramsStatus.commitBeginTime;\\n          ticketQueryModel[\\\"commitEndTime\\\"] = paramsStatus.commitEndTime;\\n     }else if(paramsStatus.optionType == \\\"status\\\"){\\n      if(paramsStatus.status != 0){\\n          ticketQueryModel[\\\"tickeTaskStatus\\\"] = paramsStatus.status;\\n      }\\n     }\\n      event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketsByCondition\\\",ticketQueryModel, function(dt){\\n        if(dt.code == 0){\\n            var workOrderData = dt.data;\\n            var alertObj = event.global.alertObj;\\n            var workArray = [];\\n            for(var i in workOrderData){\\n                workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"statusLabel\\\"] = \\\"\\\";\\n                if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                    if(alertObj != undefined){\\n                        if(alertObj[workOrderData[i].origId[0]] != undefined){\\n                            workOrderData[i].customerName = alertObj[workOrderData[i].origId[0]].customerName;\\n                            workOrderData[i].devName = alertObj[workOrderData[i].origId[0]].devName;\\n                            workOrderData[i].appName = alertObj[workOrderData[i].origId[0]].appName;\\n                            workOrderData[i].alertTitle = alertObj[workOrderData[i].origId[0]].title;\\n                            workOrderData[i].severity = alertObj[workOrderData[i].origId[0]].severity;\\n                   \\n                        }\\n                    }\\n                }\\n                \\n            if(workOrderData[i].values && workOrderData[i].values.tickeTaskStatus != undefined){\\n                if(workOrderData[i].values.tickeTaskStatus == \\\"checking\\\"){\\n                  workOrderData[i].statusLabel = \\\"待分析\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"auditing\\\"){\\n                  workOrderData[i].statusLabel = \\\"待审批\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"trusting\\\"){\\n                  workOrderData[i].statusLabel = \\\"待委托\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"maintaining\\\"){\\n                  workOrderData[i].statusLabel = \\\"待维修\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"accepting\\\"){\\n                  workOrderData[i].statusLabel = \\\"待验收\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"assessing\\\"){\\n                  workOrderData[i].statusLabel = \\\"待评价\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"explaining\\\"){\\n                  workOrderData[i].statusLabel = \\\"待说明\\\";\\n                }else if(workOrderData[i].values.tickeTaskStatus == \\\"closing\\\"){\\n                  workOrderData[i].statusLabel = \\\"已完成\\\";\\n                }\\n            }\\n                workArray.push(workOrderData[i]);\\n            }\\n                 \\n            render(workArray);\\n        }else{\\n            console.log(\\\"接口异常\\\");\\n        }\\n      })\\n   \\n    },\\n    accept:function(event){\\n      console.info(\\\"接受告警数据===\\\",event.params);  \\n       event.global.alertObj = event.params;\\n        \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"}}]}],\"url\":\"images/map/map1.png\"}],\"col\":12,\"alertObj\":{\"542059861046087\":{\"eventId\":544241138966070,\"alertId\":542059861046087,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [1] 异常\",\"arisingTime\":\"2017-11-13T05:09:27.126+0000\",\"receiveTime\":\"2017-11-13T05:09:27.126+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-13T05:09:27.126+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-13T13:05:57.024+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-21T17:54:22.070+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"537783494437643\":{\"eventId\":539009142136470,\"alertId\":537783494437643,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [2] 异常\",\"arisingTime\":\"2017-11-11T07:16:16.725+0000\",\"receiveTime\":\"2017-11-11T07:16:16.725+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-11T07:15:16.731+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-11T15:12:46.633+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-15T12:30:29.348+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536687391997414\":{\"eventId\":538746819166095,\"alertId\":536687391997414,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"6\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:5.0 [2] 异常\",\"arisingTime\":\"2017-11-10T07:47:16.841+0000\",\"receiveTime\":\"2017-11-10T07:47:16.841+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T07:46:16.845+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T15:43:46.743+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-20T18:49:02.240+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536859189296064\":{\"eventId\":538540371966064,\"alertId\":536859189296064,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"4\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:6.0 [13] 异常\",\"arisingTime\":\"2017-11-10T01:41:57.515+0000\",\"receiveTime\":\"2017-11-10T01:41:57.515+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":7,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:35:58.068+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:38:27.436+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-22T01:47:41.651+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}},\"alertParams\":{}},\"id\":\"2\",\"$$hashKey\":\"object:1442\"},{\"label\":\"保存其它的例子\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n     width : \\\"auto\\\",\\n  on: {\\n    init: function (event) {\\n      //----------------------------自定义内容----------------------------\\n      //要进行搜索的变量名，对应列表里相应的变量\\n      var attr = \\\"sendTime\\\";\\n      var timeObj = {};\\n      var date = new Date();\\n      var list = [{\\n        id: 0,\\n        title: \\\"当日计划\\\",\\n        value: 0\\n      }, {\\n        id: 1,\\n        title: \\\"周计划\\\",\\n        value: 0\\n      }, {\\n        id: 2,\\n        title: \\\"月计划\\\",\\n        value: 0\\n      }, {\\n        id: 3,\\n        title: \\\"起始时间\\\",\\n        type: \\\"dateRangePicker\\\"\\n      }, {\\n        id: 4,\\n        title: \\\"查询\\\",\\n        type: \\\"query\\\"\\n      }]\\n      //----------------------------自定义内容----------------------------\\n      //注意，下面内容别动！！！\\n      var target = event.target;\\n      var global = event.global;\\n      target.setScopeValue(\\\"search/sendTime\\\", {\\n        type: \\\"between\\\",\\n        value: [null, null]\\n      });\\n      var timeBetween = function (item) {\\n        if (item.id == -1) {\\n          return null;\\n        } else if (item.id == 0) {\\n          var today = new Date();\\n          today.setHours(0);\\n          today.setMinutes(0);\\n          today.setSeconds(0);\\n          today.setMilliseconds(0);\\n          timeObj.startTime = today;\\n          timeObj.endTime = date;\\n          return timeObj;\\n        } else if (item.id == 1) {\\n          function getWeekStartDate() {\\n            var nowDayOfWeek = new Date().getDay(); //今天本周的第几天\\n            var nowDay = new Date().getDate(); //当前日\\n            var nowMonth = new Date().getMonth(); //当前月\\n            var nowYear = new Date().getFullYear(); //当前年\\n            var weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek);\\n            return weekStartDate;\\n          }\\n          timeObj.startTime = getWeekStartDate();\\n          timeObj.endTime = date;\\n          return timeObj;\\n        } else if (item.id == 2) {\\n          function getCurrentMonthFirst() {\\n            var date = new Date();\\n            date.setDate(1);\\n            return date;\\n          }\\n          timeObj.startTime = getCurrentMonthFirst();\\n          timeObj.endTime = date;\\n          return timeObj;\\n        }\\n      }\\n      var render = function () {\\n        var ctrlGroups = [\\n          [{\\n            type: \\\"label\\\",\\n            value: \\\"时 间:\\\",\\n            style: {\\n              textAlign: \\\"center\\\",\\n              width: \\\"80px\\\"\\n            }\\n          }]\\n        ];\\n\\n        for (var i in list) {\\n          if (list[i].type == \\\"query\\\") {\\n            ctrlGroups[0].push({\\n              id: list[i].id,\\n              type: \\\"button\\\",\\n              value: list[i].title,\\n              btnclass: \\\"btn btn-primary\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                  target.trigger(\\\"search_dealDolist\\\");\\n                  render()\\n                }\\n              }\\n            });\\n          } else if (list[i].type == \\\"label\\\") {\\n            ctrlGroups[0].push({\\n              id: list[i].id,\\n              type: \\\"label\\\",\\n              value: list[i].title,\\n            });\\n          } else if (list[i].type == \\\"dateRangePicker\\\") {\\n            ctrlGroups[0].push({\\n              type: \\\"label\\\",\\n              value: list[i].title,\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  var start = target.dateHandler(elem.value.start);\\n                  var end = target.dateHandler(elem.value.end);\\n                  var timeSpan = [start, end];\\n                  target.setScopeValue(\\\"advanceSearch/sendTime\\\", {\\n                    type: \\\"sendTime\\\",\\n                    value: timeSpan\\n                  });\\n                }\\n              },\\n            });\\n          } else {\\n            ctrlGroups[0].push({\\n              id: list[i].id,\\n              type: \\\"button\\\",\\n              value: list[i].title,\\n              btnclass: list[i].value == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n                border: \\\"#10a4fb solid 1px\\\"\\n              },\\n              on: {\\n                click: function (elem) {\\n                  elem.current.btnclass = \\\"btn btn-default\\\";\\n                  var id = elem.current.id;\\n                  var find;\\n                  for (var i in list) {\\n                    if (list[i].id == id) {\\n                      list[i].value = 1;\\n                      find = list[i];\\n                    } else {\\n                      list[i].value = 0;\\n                    }\\n                  }\\n\\n                  target.setScopeValue(\\\"advanceSearch/sendTime\\\", { \\n                    type: \\\"between\\\",\\n                    value: timeBetween(find)\\n                  });\\n                  target.trigger(\\\"search_dealDolist\\\");\\n                  render()\\n                }\\n              }\\n            });\\n          }\\n        }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n     width : \\\"auto\\\",\\n  on: {\\n    init: function (event) {\\n      //----------------------------自定义内容----------------------------\\n      //要进行搜索的变量名，对应列表里相应的变量\\n      var attr = \\\"sendTime\\\";\\n      var timeObj = {};\\n      var date = new Date();\\n      var list = [, {\\n        id: 0,\\n        title: \\\"待分析\\\",\\n        value: 0\\n      }, {\\n        id: 1,\\n        title: \\\"待审核\\\",\\n        value: 0\\n      }, {\\n        id: 2,\\n        title: \\\"待反馈\\\",\\n        value: 0\\n      }, {\\n        id: 3,\\n        title: \\\"已完成\\\",\\n      }]\\n      //----------------------------自定义内容----------------------------\\n      //注意，下面内容别动！！！\\n      var target = event.target;\\n      var global = event.global;\\n      target.setScopeValue(\\\"advanceSearch/status\\\", {\\n        type: \\\"between\\\",\\n        value: [null, null]\\n      });\\n      var timeBetween = function (item) {\\n        if (item.id == 0) {\\n        \\n          return \\\"checking\\\";\\n        } else if (item.id == 1) {\\n      \\n          return \\\"auditing\\\";\\n        } else if (item.id == 2) {\\n          return \\\"reporting\\\";\\n        }else if (item.id == 3) {\\n          return \\\"end\\\";\\n        }\\n      }\\n      var render = function () {\\n        var ctrlGroups = [\\n          [{\\n            type: \\\"label\\\",\\n            value: \\\"任务状态:\\\",\\n            style: {\\n              textAlign: \\\"center\\\",\\n              width: \\\"80px\\\"\\n            }\\n          }]\\n        ];\\n\\n        for (var i in list) {\\n          if (list[i].type == \\\"query\\\") {\\n            ctrlGroups[0].push({\\n              id: list[i].id,\\n              type: \\\"button\\\",\\n              value: list[i].title,\\n              btnclass: \\\"btn btn-primary\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                  target.trigger(\\\"search_dealDolist\\\");\\n                  render()\\n                }\\n              }\\n            });\\n          } else if (list[i].type == \\\"label\\\") {\\n            ctrlGroups[0].push({\\n              id: list[i].id,\\n              type: \\\"label\\\",\\n              value: list[i].title,\\n            });\\n          } else if (list[i].type == \\\"dateRangePicker\\\") {\\n            ctrlGroups[0].push({\\n              type: \\\"label\\\",\\n              value: list[i].title,\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  var start = target.dateHandler(elem.value.start);\\n                  var end = target.dateHandler(elem.value.end);\\n                  var timeSpan = [start, end];\\n                  target.setScopeValue(\\\"advanceSearch/sendTime\\\", {\\n                    type: \\\"sendTime\\\",\\n                    value: timeSpan\\n                  });\\n                }\\n              },\\n            });\\n          } else {\\n            ctrlGroups[0].push({\\n              id: list[i].id,\\n              type: \\\"button\\\",\\n              value: list[i].title,\\n              btnclass: list[i].value == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n                border: \\\"#10a4fb solid 1px\\\"\\n              },\\n              on: {\\n                click: function (elem) {\\n                  elem.current.btnclass = \\\"btn btn-default\\\";\\n                  var id = elem.current.id;\\n                  var find;\\n                  for (var i in list) {\\n                    if (list[i].id == id) {\\n                      list[i].value = 1;\\n                      find = list[i];\\n                    } else {\\n                      list[i].value = 0;\\n                    }\\n                  }\\n\\n                  target.setScopeValue(\\\"advanceSearch/status\\\", { \\n                    type: \\\"between\\\",\\n                    value: timeBetween(find)\\n                  });\\n                  target.trigger(\\\"search_dealDolist\\\");\\n                  render()\\n                }\\n              }\\n            });\\n          }\\n        }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"已办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //--------------------------自定义输入-----------------------------\\n\\n      //从结果返回数据中的一组，拷贝过来作为参照，使用完之后删掉\\n      var Dictionary = {\\n        ticketNo :  \\\"任务编号\\\",\\n        customerName :  \\\"产线\\\",\\n        devName : \\\"设备信息\\\",\\n        alertTitle : \\\"任务信息\\\",\\n        appName : \\\"来源\\\",\\n        sendTime : {\\n          label : \\\"任务接收时间\\\",\\n          type : \\\"label\\\",\\n        },\\n        tickeTaskStatus : \\\"任务状态\\\"\\n      };\\n\\n      function getTableData (time){\\n       var param = {\\n            //   \\\"variables\\\":{\\\"theTicketType\\\":\\\"normal\\\"},\\n            \\\"taskStatus\\\":10,\\n            \\\"sendBeginTime\\\": time?time.value.startTime:\\\"\\\",\\n            \\\"sendEndTime\\\": time?time.value.endTime:\\\"\\\",\\n          };\\n          var params = eval(\\\"(\\\" + JSON.stringify(param) + \\\")\\\");\\n          target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\",params, function(tc){\\n           if(tc.data){\\n            var datas = [];\\n            tc.data.forEach(function(ele){\\n              var data = ele.variables.ticket.values;\\n              if(ele.variables.ticket.values.tickeTaskStatus ==\\\"trusting\\\"){\\n                data.tickeTaskStatus = \\\"待委托\\\";\\n                data.tickeTaskStatusName = \\\"trusting\\\"\\n              }else if(ele.variables.ticket.values.tickeTaskStatus==\\\"accepting\\\"){\\n                data.tickeTaskStatus = \\\"待验收 \\\";\\n                data.tickeTaskStatusName = \\\"accepting\\\"\\n              }else if(ele.variables.ticket.values.tickeTaskStatus==\\\"assessing\\\"){\\n                data.tickeTaskStatus = \\\"待评价\\\"\\n                data.tickeTaskStatusName = \\\"accepting\\\"\\n              }\\n              data.sendTime = new Date(ele.sendTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n              datas.push(data);\\n            }) \\n            success(datas)\\n          }\\n        });  \\n        }\\n        getTableData();\\n      //--------------------------自定义输入-----------------------------\\n      //注意，下面内容别动！！！\\n      function success(datas){debugger\\n       var render = function(advsearch){\\n        var format = [];\\n        for(var i in Dictionary){\\n          var item = target.explainDic(i, Dictionary[i]);\\n          format.push(item);\\n        }\\n        var content;\\n        datas.forEach(function(ele){\\n          if(ele.tickeTaskStatusName == \\\"trusting\\\"){\\n            content =[{\\n              label : \\\"自行处理\\\",\\n              icon: \\\"null\\\",\\n              class: \\\"btn btn-default btn-sm\\\",\\n              on : {\\n                click : function(elem){\\n                  // 点检人员处理任务 2\\n                  elem.row.dealType = 2;\\n                  target.createSystemPopupByLocalPath(\\\"page1\\\", {\\n                    width : \\\"600px\\\",\\n                    title : \\\"自行处理说明\\\",\\n                  }, elem.row);\\n                //   target.setValue(\\\"global/resource\\\", elem.row.resource);\\n              }\\n            }\\n          },{\\n            label : \\\"发起委托\\\",\\n            icon: \\\"null\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            on : {\\n              click : function(elem){\\n                target.navigateTo(\\\"index\\\",{\\n                  main:2,\\n                  sub:0,\\n                },\\\"self\\\")\\n                target.setValue(\\\"global/resource\\\", elem.row.resource);\\n              }\\n            }\\n          },{\\n            label : \\\"暂不处理\\\",\\n            icon: \\\"null\\\",\\n            class: \\\"btn btn-default btn-sm\\\",\\n            on : {\\n              click : function(elem){\\n                var param = {\\n                  taskId: elem.row.id\\n                }\\n                  //   target.setValue(\\\"taskList\\\",  workObj[elem.row.ticketNo]);\\n                  //   target.navigateTo(\\\"page7\\\",param);\\n                //   target.setValue(\\\"global/resource\\\", param);\\n                //   target.trigger(\\\"navigateTo\\\", param);\\n                target.navigateTo(\\\"page8\\\",param);\\n              }\\n            }\\n          }]\\n        }else if(ele.tickeTaskStatusName == \\\"\\\"){\\n\\n        }\\n      })\\n        format.push({\\n          name : \\\"操作\\\",\\n          type: \\\"buttonGroup\\\",\\n          content :content ,\\n          render : function(){\\n            return \\\"\\\"\\n          }\\n        });\\n        target.render({\\n          data : datas,\\n          on : {\\n            rowClick : function(event){\\n                // target.createPopupBypath('analysis', {\\n                //   title: \\\"诊断分析\\\",\\n                //   theme : \\\"system\\\",\\n                //   width: \\\"80%\\\"\\n                // }, {\\n                //   message: \\\"诊断分析\\\"\\n                // })\\n              }\\n            },\\n            format : format\\n          });\\n      };\\n        // 点击查询按钮\\n        target.off(\\\"search_toDolist\\\");\\n        target.on(\\\"search_toDolist\\\", function(e){\\n          getTableData(target.getScopeValue(\\\"advanceSearch/sendTime\\\"))\\n          render();\\n        });\\n\\n        render();\\n      };\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:2058\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "上传图片组件",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"12px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"新建文字\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var protocol = window.location.protocol;\\n      var host = window.location.host;\\n      var lc= protocol+\\\"//\\\"+host;\\n      var configParam = {\\n          \\\"resourceId\\\": \\\"5555555\\\",\\n          \\\"label\\\": \\\"test\\\",\\n          \\\"description\\\": \\\"base\\\",\\n          \\\"type\\\":\\\"gatewayModel\\\"\\n        };\\n      var ctrlGroups = [\\n       [{\\n           type : \\\"label\\\",\\n           value : \\\"上传图片试例\\\",\\n           class : \\\"col-md-2\\\",\\n           style : {\\n               \\\"text-align\\\" : \\\"center\\\"\\n           }\\n       },{\\n          type : \\\"uploadFile\\\",\\n          icon : \\\"glyphicon glyphicon-file\\\",\\n          class : \\\"col-md-6\\\",\\n          group : \\\"enterprisesImages\\\",\\n          on : {\\n            submit : function(elem){\\n                event.target.growl(\\\"上传文件成功\\\",\\\"success\\\");\\n              //这里返回上传文件的全局变量，属性里面有服务器地址\\n            //   console.log(\\\"上传文件成功\\\", elem);\\n            //   $(\\\".btn-group\\\").before(\\\"<img src='\\\"+lc+\\\"\\\"+elem.value+\\\"' style='width: 200px;height: 200px;' />\\\");\\n            }\\n          }\\n        }],\\n       [{\\n           type : \\\"label\\\",\\n           value : \\\"上传图片试例扩展\\\",\\n           class : \\\"col-md-2\\\",\\n           style : {\\n               \\\"text-align\\\" : \\\"center\\\"\\n           }\\n       },{\\n          type : \\\"uploadFile2\\\",\\n          icon : \\\"glyphicon glyphicon-file\\\",\\n          class : \\\"col-md-6\\\",\\n          group : \\\"enterprisesImages\\\",\\n          url:\\\"api/rest/upload/resourceFileUIService/uploadResourceFile\\\",\\n          fileFormat:\\\"|txt|xlsx|docx|pdf|doc|\\\",\\n          formData:configParam,\\n          text:\\\"我的图片\\\",\\n          on : {\\n            submit : function(elem){\\n                event.target.growl(\\\"上传文件成功\\\",\\\"success\\\");\\n              //这里返回上传文件的全局变量，属性里面有服务器地址\\n              console.log(\\\"上传文件成功\\\", elem);\\n              $(\\\".btn-group\\\").before(\\\"<img src='\\\"+lc+\\\"\\\"+elem.value+\\\"' style='width: 200px;height: 200px;' />\\\");\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":12},\"$$hashKey\":\"object:942\"},{\"label\":\"导航页\",\"path\":\"image\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"图片\",\"type\":\"image\",\"source\":\"IMAGE\",\"parameters\":{\"imgSrc\":\"../images/machine/machine2.png\"},\"style\":{\"height\":300,\"margin\":\"5px\",\"background-color\":\"rgba(0,0,0,.1)\",\"border\":\"1px solid #ccc\"},\"advance\":{\"expression\":\"expressioin = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            var data = target.getPopupData();\\n            var file = data.file;\\n            target.readImageFile(file, function(url){\\n                target.setImage(url);\\n            });\\n            target.render();\\n        }\\n    }\\n}\"}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:976\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢诊断分析一级框架_报警管理员",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      // 5 \\\"点检管理工作台\\\"\\n      var ROLE = 0;\\n      if(ROLE == 0){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/alert/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 2,\\n            label : \\\"特别关注\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          }];\\n      } else if(ROLE == 1){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 2,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 3,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 4,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 2){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/corporation/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          }];\\n      }  else if(ROLE == 3){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"审核\\\",\\n            default : \\\"baogang/critisize\\\"\\n          },{\\n            id : 2,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 3,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 4,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 5,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 4){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"关键指标跟踪\\\",\\n            default : \\\"baogang/decider/kpitracker\\\"\\n          },{\\n            id : 2,\\n            label : \\\"关键指标对比\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          }];\\n      }else if(ROLE == 5){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准维护\\\",\\n            default : \\\"baogang/decider/biaozhunweihu\\\"\\n          },{\\n            id : 2,\\n            label : \\\"点检计划\\\",\\n            default : \\\"baogang/decider/dianjianjihua\\\"\\n          },{\\n            id : 3,\\n            label : \\\"故障管理\\\",\\n            default : \\\"baogang/decider/guzhangguanli\\\"\\n          },{\\n            id : 4,\\n            label : \\\"检修委托\\\",\\n            default : \\\"baogang/decider/jianxiuweituo\\\"\\n          },{\\n            id : 5,\\n            label : \\\"备修委托\\\",\\n            default : \\\"baogang/decider/beixiuweituo\\\"\\n          },{\\n            id : 6,\\n            label : \\\"统计分析\\\",\\n            default : \\\"baogang/decider/tongjifenxi\\\"\\n          }];\\n      };\\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n          CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\";\\n      // ------------------- 初始化内容在这里设置\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var main = target.getParameter(\\\"main\\\");\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        console.log(obj);\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n              var viewTitle = item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n              target.getAllMyViews(function(views){\\n                 var find = views.find(function(view){\\n                     viewTitle == view.viewTitle;\\n                 });\\n                 if(find){\\n                     item.viewId = find.viewId;\\n                     callback(find);\\n                 } else {\\n                    target.addView({\\n                      viewTitle : item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                      viewType : \\\"dashboard\\\",\\n                      content : json ? json : null,\\n                    }, function(data){\\n                      item.viewId = data.data.viewId;\\n                      callback(data);\\n                    }) \\n                 }\\n              });\\n            \\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                //console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : elem.id\\n                    }, \\\"self\\\")\\n                  //target.tabInx = tabFilter.indexOf(elem);\\n                  //render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == main;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1;\\n            };\\n            select(concat[target.tabInx]);\\n            //selece(contact[])\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup_old\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n                class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"0px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            var find = json.groups.find(function(elem){\\n              return elem.path == path;\\n            });\\n            json.layout = find.layout;\\n            target.render(json);\\n          });\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(view){\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\",\"alertObj\":{\"542059861046087\":{\"eventId\":544241138966070,\"alertId\":542059861046087,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [1] 异常\",\"arisingTime\":\"2017-11-13T05:09:27.126+0000\",\"receiveTime\":\"2017-11-13T05:09:27.126+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-13T05:09:27.126+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-13T13:05:57.024+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-15T13:52:40.534+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"537783494437643\":{\"eventId\":539009142136470,\"alertId\":537783494437643,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [2] 异常\",\"arisingTime\":\"2017-11-11T07:16:16.725+0000\",\"receiveTime\":\"2017-11-11T07:16:16.725+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-11T07:15:16.731+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-11T15:12:46.633+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-15T12:30:29.348+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536687391997414\":{\"eventId\":538746819166095,\"alertId\":536687391997414,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"6\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:5.0 [2] 异常\",\"arisingTime\":\"2017-11-10T07:47:16.841+0000\",\"receiveTime\":\"2017-11-10T07:47:16.841+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T07:46:16.845+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T15:43:46.743+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-20T18:49:02.240+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536859189296064\":{\"eventId\":538540371966064,\"alertId\":536859189296064,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"4\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:6.0 [13] 异常\",\"arisingTime\":\"2017-11-10T01:41:57.515+0000\",\"receiveTime\":\"2017-11-10T01:41:57.515+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":7,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:35:58.068+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:38:27.436+0000\",\"owner\":\"报警管理虚拟工作台\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-16T13:56:03.109+0000\",\"claimBy\":\"报警管理虚拟工作台\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}},\"alertParams\":{}},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup_old\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"导航页\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"导航页\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"},{\"label\":\"过程跟踪_top\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"index\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n      width: \\\"100%\\\",\\n      on: {\\n        init: function(event) {\\n          var target = event.target;\\n          var global = event.global;\\n          var ticketNo = event.target.getParameter(\\\"ticketNo\\\");\\n          var ctrlGroups = [{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>报警产生</a>\\\"\\n              }, {\\n                value: \\\"报警类型：振动报警\\\"\\n              }, {\\n                value: \\\"报警级别：警告\\\"\\n              }, {\\n                value: \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n              }]\\n            },{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user bg-aqua bg-orange\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\n              }]\\n            },{\\n              time: \\\"2017-11-12 12:30:10\\\",\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\n              disList: [{\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\n              }]\\n            }\\n          ];\\n          var dateToString = function(now) {\\n            var year = now.getFullYear();\\n            var month = (now.getMonth() + 1).toString();\\n            var day = (now.getDate()).toString();\\n            var hour = (now.getHours()).toString();\\n            var minute = (now.getMinutes()).toString();\\n            var second = (now.getSeconds()).toString();\\n            if(month.length == 1) {\\n              month = \\\"0\\\" + month;\\n            }\\n            if(day.length == 1) {\\n              day = \\\"0\\\" + day;\\n            }\\n            if(hour.length == 1) {\\n              hour = \\\"0\\\" + hour;\\n            }\\n            if(minute.length == 1) {\\n              minute = \\\"0\\\" + minute;\\n            }\\n            if(second.length == 1) {\\n              second = \\\"0\\\" + second;\\n            }\\n            var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day + \\\" \\\" + hour + \\\":\\\" + minute + \\\":\\\" + second;\\n            return dateTime;\\n          };\\n          if(ticketNo) {\\n              event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\", [ticketNo], function(dt) {\\n                  if(dt.code == 0) {\\n                      var ticketHistoryList = dt.data;\\n                      var arr = [];\\n                      for(var i in ticketHistoryList) {\\n                      var cantentList = [];\\n                      var historyList = {\\n                        time: \\\"\\\",\\n                        icon: \\\"\\\",\\n                        disList: \\\"\\\"\\n                      };\\n                      if(ticketHistoryList[i].logType == \\\"startEvent\\\") {\\n                        historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": ticketHistoryList[i].message\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"endEvent\\\") {\\n                        historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": ticketHistoryList[i].message\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"cancelEvent\\\") {\\n                        historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"已撤销\\\"\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"userTask\\\") {\\n                        if(ticketHistoryList[i].ticketTask.taskStatus == 200) {\\n                          historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                        } else {\\n                          historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                        }\\n                        var taskRemark = \\\"\\\";\\n                        if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined) {\\n                          taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                        }\\n                        var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"<a>\\\" + ticketHistoryList[i].message + \\\"</a>\\\"\\n                        });\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理人:\\\" + handlerName + \\\"\\\"\\n                        });\\n                        var foramTime = \\\"\\\";\\n                        if(ticketHistoryList[i].ticketTask.finishedTime) {\\n                          foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                        }\\n                        console.log(\\\"处理时间==\\\" + ticketHistoryList[i].ticketTask.finishedTime);\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理时间:\\\" + foramTime + \\\"\\\"\\n                        });\\n                      }\\n                      if(ticketHistoryList[i].logType == \\\"serviceTask\\\") {\\n                        historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                        cantentList.push({\\n                          \\\"value\\\": \\\"处理人:系统\\\"\\n                        });\\n                      }\\n                      historyList.disList = cantentList;\\n                      arr.push(historyList);\\n                    }\\n                      event.target.render(arr);\\n                  } else {\\n                    console.log(\\\"接口异常\\\");\\n                  }\\n              });\\n          } else {\\n              event.target.render(ctrlGroups);\\n          }\\n        }\\n      }\\n    }\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"}}]}]}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:520\"},{\"label\":\"忽略弹出框处理_top\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var params = target.getPopupData();\\n       console.info(\\\"alertObj===\\\",params);\\n       var objRemark={\\\"remark\\\":\\\"\\\"};\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"忽略原因:\\\",\\n          type : \\\"textarea\\\",\\n           on : {\\n            change : function(elem){\\n                objRemark.remark = elem.value;\\n              console.log(\\\"备注====\\\"+elem.value)\\n              \\n            }\\n          }\\n        }\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        obj.on = item.on;\\n        return [labelObj, obj];\\n      }\\n      for(var i in Dic){\\n        ctrlGroups.push(loop(Dic[i]))\\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        style:{\\\"text-align\\\":\\\"right\\\"},\\n        on : {\\n          click : function(elem){\\n              var ary = [];\\n              ary.push(params.alertObj.alertId);\\n              var alertInfo = {\\\"actionType\\\":\\\"recover\\\",\\\"alertIds\\\":ary,\\\"recoverAll\\\":true,\\\"resolved\\\":false,\\\"clearOut\\\":true,\\\"comment\\\":objRemark.remark};\\n              event.target.postService(\\\"alertManageFlexService\\\", \\\"sendRecoverAction\\\", [alertInfo], function(dt){\\n                  if(dt.code == 0){\\n                      event.target.growl(\\\"报警处理处理成功\\\",\\\"success\\\");\\n                      target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                  }\\n              })\\n            console.log(\\\"提交\\\"+objRemark.remark);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-default\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.cancel()\\n          }\\n        }\\n      }])\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:661\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "综合诊断(baogang/diagnose)",
      "viewType": "dashboard",
      "content": "{\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"overflow\":\"auto\",\"height\":\"calc( 100vh - 80px)\",\"background-color\":\"#04131e\",\"border\":\"0\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expression = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      /**\\n      var rootNode = {\\n        label : \\\"宝武集团\\\",\\n        showfold : false,\\n        searchable : false,\\n        children : []\\n      }*/\\n      var customers, projects, devices;\\n      var getData = function(returnData, callback, isDevices){\\n        var data = returnData.map(function(item){\\n          item.showfold = false;\\n          item.searchable = false;\\n          item.triggerEvent = \\\"fold\\\";\\n          item.icon = \\\"tag tag-green\\\";\\n          if(isDevices){\\n              item.on = {\\n                click : function(node){\\n                  node = node.node;\\n                  var str = node.label;\\n                  node.traverseParents(function(parent){\\n                    str = parent.label + \\\" / \\\" + str;\\n                  })\\n                  target.trigger(\\\"tree_resourceChange\\\", {\\n                      path : str,\\n                      resource : node\\n                  });\\n                }\\n              }\\n          };\\n          return item;\\n        });\\n        var Ids = data.map(function(item){\\n          return item.id;\\n        });\\n        target.getKpiValueCi(Ids, [999999], function(valuelist){\\n          for(var i in data){\\n            var find = valuelist.find(function(value){\\n              return value.nodeId == data[i].id;\\n            });\\n            if(find){\\n              if(find.value == 0){\\n                data[i].icon = \\\"tag tag-green\\\"\\n              } else if(find.value == 1){\\n                data[i].icon = \\\"tag tag-orange\\\"\\n              } else if(find.value == 2){\\n                data[i].icon = \\\"tag tag-red\\\"\\n              }\\n            }\\n          }\\n          callback(data);\\n        })\\n      }\\n      target.getResourceByModelId(301, function(data){\\n        getData(data, function(data){\\n          customers = data;\\n          target.getResourceByModelId(302, function(data){\\n            getData(data, function(data){\\n              projects = data;\\n              target.getDevicesByCondition({},function(data){\\n                getData(data, function(data){\\n                  devices = data;\\n                  target.queryDomainTree(function(domains){\\n                      var rootNode = domains[0];\\n                      var domainsArr = [];\\n                      var traverse = function(domain){\\n                          domain.children = domain.domainInfos || [];\\n                          domain.showfold = false;\\n                          domain.searchable = false;\\n                          domain.triggerEvent = \\\"fold\\\";\\n                          domain.icon = \\\"tag tag-green\\\";\\n                          delete domain.domainInfos;\\n                          var filter = customers.filter(function(customer){\\n                            return customer.domains == domain.domains + customer.id + \\\"/\\\";\\n                          });\\n                          Array.prototype.push.apply(domain.children, filter);\\n                          if(domain.children){\\n                            for(var i in domain.children){\\n                              traverse(domain.children[i])\\n                            }\\n                          }\\n                          domainsArr.push(domain)\\n                      }\\n                      traverse(rootNode);\\n                      for(var i in customers){\\n                        var filter = projects.filter(function(project){\\n                          return project.domains == customers[i].domains + project.id + \\\"/\\\";\\n                        });\\n                         console.log(\\\"customers\\\", filter)\\n                        customers[i].children = filter;\\n                      };\\n                      console.log(\\\"customers\\\", customers);\\n                      for(var i in projects){\\n                        var filter = devices.filter(function(device){\\n                          return device.domains == projects[i].domains;\\n                        });\\n                        projects[i].children = filter;\\n                      };\\n                      console.log(\\\"rootNode\\\", rootNode)\\n                      var treeDataMap = target.render(rootNode);\\n                      var firstNode = treeDataMap.children[0].children[0].children[0];\\n                      var str = firstNode.label;\\n                      firstNode.traverseParents(function(parent){\\n                        str = parent.label + \\\" / \\\" + str;\\n                      })\\n                      target.trigger(\\\"tree_resourceChange\\\", {\\n                          path : str,\\n                          resource : firstNode\\n                      });\\n                      treeDataMap.traverse(function(node){\\n                        if(node.level > 3){\\n                          if(typeof node.close == \\\"function\\\"){\\n                            node.close();\\n                          };\\n                        } else {\\n                          if(typeof node.open == \\\"function\\\"){\\n                            node.open();\\n                          };\\n                        }\\n                      })\\n                  });\\n                }, true);\\n              })\\n            });\\n          })\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"},\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px 15px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(str){\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"label\\\",\\n              value : str || \\\"普通标签\\\",\\n              style : {\\n                  \\\"font-weight\\\" : \\\"bold\\\",\\n                  \\\"color\\\" : \\\"#72b3d7\\\",\\n                  \\\"line-height\\\" : \\\"40px\\\"\\n              },\\n              class : \\\"col-md-12\\\"\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n      }\\n      render(\\\"读取中请稍后。。。\\\");\\n      target.on(\\\"tree_resourceChange\\\", function(data){\\n          render(data.path);\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\",\"color\":\"#72b3d7\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      // -------------- 初始化内容在这里设置;\\n      var tabs = [{\\n        id : 0,\\n        label : \\\"报告编制\\\",\\n        default : \\\"baogang/diagnose/report\\\",\\n        icon : \\\"glyphicon glyphicon-home\\\",\\n      },{\\n        id : 1,\\n        label : \\\"多专业诊断\\\",\\n        default : \\\"baogang/diagnose/multiArea\\\",\\n        icon : \\\"glyphicon glyphicon-home\\\",\\n      },{\\n        id : 2,\\n        label : \\\"协同诊断\\\",\\n        default : \\\"baogang/diagnose/corporation\\\",\\n        icon : \\\"glyphicon glyphicon-home\\\",\\n      },{\\n        id : 3,\\n        label : \\\"视频诊断\\\",\\n        default : \\\"baogang/diagnose/video\\\",\\n        icon : \\\"glyphicon glyphicon-home\\\",\\n      }];\\n      var CACHEDVALUENAME = \\\"controlPanelDiagnoseNavigation\\\";\\n      var CHANGENAVEEVENT = \\\"diagnoseviewchange\\\";\\n      var MOVETOEVENT = \\\"diagnosemoveto\\\";\\n      // ------------------- 初始化内容在这里设置\\n      var target = event.target;\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var editMode = true;\\n      console.log(target.getRootTarget());\\n\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        //console.log(\\\"trigger\\\", 40);\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n            //console.log(\\\"run\\\", json);\\n            target.addView({\\n              viewTitle : item.label + \\\"(工作台配置文件_\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n              viewType : \\\"dashboard\\\",\\n              content : json ? json : null,\\n            }, function(data){\\n              item.viewId = data.data.viewId;\\n              callback(data);\\n            })\\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n\\n            for(var i in tabs){\\n              var find = status.tabs.find(function(elem){\\n                return elem.id == tabs[i].id;\\n              })\\n              console.log(\\\"find\\\", find);\\n              if(find){\\n                tabs[i].viewId = find.viewId;\\n              }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.indexOf(elem);\\n                  render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  //select(elem)\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n\\n            if(view){\\n              target.tabInx = concat.indexOf(view);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n              target.tabInx = concat.length - 1\\n              //select(concat[target.tabInx]);\\n            };\\n            select(concat[target.tabInx]);\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist);\\n          };\\n          target.on(\\\"lv1naviTo\\\", function(id){\\n            var concat = tabs.concat(subTabs);\\n            var find = concat.find(function(elem){\\n              return elem.id == id;\\n            });\\n            render(find);\\n            if(find){\\n              select(find);\\n            }\\n          })\\n          render();\\n        }\\n        if(!status){\\n          target.saveConfigGroup({\\n            name : \\\"controlPanelLevel1Navigation\\\",\\n            label : \\\"工作台导航\\\",\\n            type : \\\"string\\\"\\n          }, function(data){\\n            configGroupFound();\\n          })\\n        } else {\\n          configGroupFound();\\n        }\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"min-height\":\"calc(100vh - 160px)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n      var MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n      target.on(MOVETOEVENT, function(path){\\n        var find = json.groups.find(function(elem){\\n          return elem.path == path;\\n        });\\n        json.layout = find.layout;\\n        target.render(json);\\n      });\\n      target.on(CHANGENAVEEVENT, function(view){\\n        var viewId = view.viewId;\\n        if(viewId){\\n          target.getViewById(viewId, function(view){\\n            var content = view.content;\\n            if(content){\\n              json = JSON.parse(content);\\n              target.render(json);\\n            } else {\\n              target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                target.render(nographe);\\n              });\\n            }\\n          });\\n        } else {\\n          var viewPath = view.default;\\n          target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n            target.render(json);\\n          });\\n        };\\n      })\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}],\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":9}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelDiagnoseNavigation\",\"CHANGENAVEEVENT\":\"diagnoseviewchange\",\"MOVETOEVENT\":\"diagnosemoveto\"},\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "决策者管理工作台_zxy复制",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"区域中心\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      // 5 \\\"点检管理工作台\\\"\\n      var ROLE = 4;\\n      if(ROLE == 0){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/alert/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/alert/area\\\"\\n          }];\\n      } else if(ROLE == 1){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 2,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 3,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 4,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 2){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/corporation/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          }];\\n      }  else if(ROLE == 3){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"审核\\\",\\n            default : \\\"baogang/critisize\\\"\\n          },{\\n            id : 2,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 3,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 4,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 5,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 4){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"关键指标跟踪\\\",\\n            default : \\\"baogang/decider/kpitracker\\\"\\n          },{\\n            id : 2,\\n            label : \\\"关键指标对比\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          }];\\n      }else if(ROLE == 5){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/checker/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准维护\\\",\\n            default : \\\"baogang/checker/biaozhunweihu\\\"\\n          },{\\n            id : 2,\\n            label : \\\"点检计划\\\",\\n            default : \\\"baogang/checker/dianjianjihua\\\"\\n          },{\\n            id : 3,\\n            label : \\\"故障管理\\\",\\n            default : \\\"baogang/checker/guzhangguanli\\\"\\n          },{\\n            id : 4,\\n            label : \\\"检修委托\\\",\\n            default : \\\"baogang/checker/jianxiuweituo\\\"\\n          },{\\n            id : 5,\\n            label : \\\"备修委托\\\",\\n            default : \\\"baogang/checker/beixiuweituo\\\"\\n          },{\\n            id : 6,\\n            label : \\\"统计分析\\\",\\n            default : \\\"baogang/checker/tongjifenxi\\\"\\n          }];\\n      };\\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n          CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\";\\n      // ------------------- 初始化内容在这里设置\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var param = target.getParameter(\\\"main\\\");\\n      var main, path;\\n      if(param instanceof Array){\\n          main = param[0];\\n          path = param[1];\\n      } else {\\n          main = param\\n      }\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        console.log(obj);\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item, path){\\n        var viewId = item.viewId;\\n        target.trigger(CHANGENAVEEVENT, {\\n            item : item,\\n            path : path\\n        });\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n              var viewTitle = item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n              target.getAllMyViews(function(views){\\n                 var find = views.find(function(view){\\n                     viewTitle == view.viewTitle;\\n                 });\\n                 if(find){\\n                     item.viewId = find.viewId;\\n                     callback(find);\\n                 } else {\\n                    target.addView({\\n                      viewTitle : item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                      viewType : \\\"dashboard\\\",\\n                      content : json ? json : null,\\n                    }, function(data){\\n                      item.viewId = data.data.viewId;\\n                      callback(data);\\n                    }) \\n                 }\\n              });\\n            \\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                //console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : elem.id\\n                    }, \\\"self\\\")\\n                  //target.tabInx = tabFilter.indexOf(elem);\\n                  //render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == main;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1;\\n            };\\n            select(concat[target.tabInx], path);\\n            //selece(contact[])\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -2,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-transfer\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"viewpare\\\", {\\n                      title : \\\"配置区域，产线，设备对应的组太视图\\\",\\n                      theme : \\\"system\\\",\\n                      width : 700,\\n                      on : {\\n                        submit : function(data){\\n                          \\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n                class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          /**\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            \\n            target.render(json);\\n          });*/\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(data){\\n            var view = data.item;\\n            var path = data.path;\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\"},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"编辑窗口\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-3\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-9\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"控制台属性界面\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"},{\"label\":\"对应视图设置\",\"path\":\"viewpare\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"0px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"overflow\":\"auto\",\"max-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expressiont = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      target.getDomainAreaLineTree(function(domaintree){\\n        target.setValue(\\\"domainAreaLineTree/domaintree\\\", domaintree);\\n        domaintree.traverse(function(node){\\n          if(node.parent){\\n            node.description = node.view ? \\\" - \\\" + node.view.viewTitle : \\\"\\\";\\n            node.triggerEvent = \\\"fold\\\";\\n            node.buttons = [{\\n              icon : node.view ? \\\"glyphicon glyphicon-edit\\\" : \\\"glyphicon glyphicon-plus\\\",\\n              label : node.view ? \\\"编辑\\\" : \\\"添加\\\",\\n              class : node.view ? \\\"btn btn-default\\\" : \\\"btn btn-primary\\\",\\n              on : {\\n                click : function(node){\\n                  target.createPopupBypath(\\\"selecttopo\\\", {\\n                    title : \\\"选择组太视图\\\",\\n                    theme : \\\"system\\\",\\n                    width : 900,\\n                    on : {\\n                      submit : function(view){\\n                        debugger;\\n                        node.view = view;\\n                        console.log(domaintree);\\n                        node.buttons[0].label = \\\"编辑\\\";\\n                        node.description = \\\" - \\\" +  view.viewTitle;\\n                        node.buttons[0].icon = \\\"glyphicon glyphicon-edit\\\";\\n                        node.buttons[0].class = \\\"btn btn-default\\\";\\n                        node.buttons[1].disabled = false;\\n                        node.update();\\n                      }\\n                    }\\n                  }, node.view);\\n                }\\n              }\\n            },{\\n              icon : \\\"glyphicon glyphicon-remove\\\",\\n              disabled : node.view ? false : true,\\n              class : \\\"btn btn-default\\\",\\n              label : \\\"删除\\\",\\n              on : {\\n                click : function(node){\\n\\n                }\\n              }\\n            }]\\n          } else {\\n            node.showfold = false;\\n          }\\n        })\\n        var treeDataMap = target.render(domaintree);\\n        treeDataMap.traverse(function(node){\\n          if(node.level > 2){\\n            if(node.close){\\n              node.close();\\n            };\\n          } else {\\n            if(node.open){\\n              node.open();\\n            }\\n          }\\n        })\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px 2px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"overflow\":\"auto\",\"max-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"buttonGroup\\\",\\n          class : \\\"col-md-12\\\",\\n          groupStyle : {\\n             float : \\\"right\\\"\\n            },\\n          content : [{\\n            type : \\\"button\\\",\\n            value : \\\"保存\\\",\\n            icon : \\\"glyphicon glyphicon-save\\\",\\n            btnclass : \\\"btn btn-primary\\\",\\n            on : {\\n              click : function(elem){\\n                 var domaintree = target.getValue(\\\"domainAreaLineTree/domaintree\\\");\\n                 target.saveDomainAreaLineTree(domaintree);\\n                 target.growl(\\\"对应的组太视图保存成功。\\\")\\n              }\\n            }\\n          },{\\n            type : \\\"button\\\",\\n            value : \\\"取消\\\",\\n            icon : \\\"glyphicon glyphicon-remove\\\",\\n            btnclass : \\\"btn btn-default\\\",\\n            on : {\\n              click : function(elem){\\n                  target.cancel();\\n              }\\n            }\\n          }]\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:1468\"},{\"label\":\"选择组太视图\",\"path\":\"selecttopo\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var view = target.getPopupData();\\n      if(view){\\n         view = [view];\\n      }\\n      target.getAllMyViews(function(views){\\n        views = views.filter(function(view){\\n            return view.viewType == \\\"configure\\\";\\n        })\\n        view = view || [views[0]];\\n        var render = function(){\\n          target.setValue(\\\"domainAreaLineTree/view\\\", view[0]);\\n          target.trigger(\\\"topoViewChange\\\", view[0].viewId);\\n          var ctrlGroups = [\\n            [{\\n              type : \\\"checkboxlist\\\",\\n              multiselect : false,\\n              value : [view[0].viewId],\\n              on : {\\n                change : function(elem){\\n                  view = elem.value;\\n                  debugger;\\n                  render();\\n                }\\n              },\\n              options : views,\\n              format : {\\n                \\\"id\\\" : \\\"viewId\\\",\\n                \\\"label\\\" : \\\"viewTitle\\\"\\n              }\\n            }]\\n          ];\\n          debugger;\\n          target.render(ctrlGroups);\\n        }\\n        render();\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n        \\\"init\\\" : function(event){\\n            var target = event.target;\\n            target.off(\\\"topoViewChange\\\");\\n            target.on(\\\"topoViewChange\\\", function(viewId){\\n                debugger;\\n                target.getViewById(viewId, function(view){\\n                    if(view.content){\\n                        var dt = JSON.parse(view.content);\\n                        target.render(dt);\\n                    }\\n                })\\n            });\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":546900339506066}],\"col\":9}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"buttonGroup\\\",\\n          class : \\\"col-md-12\\\",\\n          groupStyle : {\\n             float : \\\"right\\\"\\n            },\\n          content : [{\\n            type : \\\"button\\\",\\n            value : \\\"确定\\\",\\n            icon : \\\"glyphicon glyphicon-save\\\",\\n            btnclass : \\\"btn btn-primary\\\",\\n            on : {\\n              click : function(elem){\\n                  var view = target.getValue(\\\"domainAreaLineTree/view\\\");\\n                  debugger;\\n                  target.submit(view);\\n              }\\n            }\\n          },{\\n            type : \\\"button\\\",\\n            value : \\\"取消\\\",\\n            icon : \\\"glyphicon glyphicon-remove\\\",\\n            btnclass : \\\"btn btn-default\\\",\\n            on : {\\n              click : function(elem){\\n                  target.cancel();\\n              }\\n            }\\n          }]\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:1382\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "决策者管理工作台",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"区域中心\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      // 5 \\\"点检管理工作台\\\"\\n      var ROLE = 4;\\n      if(ROLE == 0){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/alert/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/alert/area\\\"\\n          }];\\n      } else if(ROLE == 1){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 2,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 3,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 4,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 2){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/corporation/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          }];\\n      }  else if(ROLE == 3){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"审核\\\",\\n            default : \\\"baogang/critisize\\\"\\n          },{\\n            id : 2,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 3,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 4,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 5,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 4){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"关键指标跟踪\\\",\\n            default : \\\"baogang/decider/kpitracker\\\"\\n          },{\\n            id : 2,\\n            label : \\\"关键指标对比\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          }];\\n      }else if(ROLE == 5){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/checker/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准维护\\\",\\n            default : \\\"baogang/checker/biaozhunweihu\\\"\\n          },{\\n            id : 2,\\n            label : \\\"点检计划\\\",\\n            default : \\\"baogang/checker/dianjianjihua\\\"\\n          },{\\n            id : 3,\\n            label : \\\"故障管理\\\",\\n            default : \\\"baogang/checker/guzhangguanli\\\"\\n          },{\\n            id : 4,\\n            label : \\\"检修委托\\\",\\n            default : \\\"baogang/checker/jianxiuweituo\\\"\\n          },{\\n            id : 5,\\n            label : \\\"备修委托\\\",\\n            default : \\\"baogang/checker/beixiuweituo\\\"\\n          },{\\n            id : 6,\\n            label : \\\"统计分析\\\",\\n            default : \\\"baogang/checker/tongjifenxi\\\"\\n          }];\\n      };\\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n          CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\";\\n      // ------------------- 初始化内容在这里设置\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var param = target.getParameter(\\\"main\\\");\\n      var main, path;\\n      if(param instanceof Array){\\n          main = param[0];\\n          path = param[1];\\n      } else {\\n          main = param\\n      }\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        console.log(obj);\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item, path){\\n        var viewId = item.viewId;\\n        target.trigger(CHANGENAVEEVENT, {\\n            item : item,\\n            path : path\\n        });\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n              var viewTitle = item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n              target.getAllMyViews(function(views){\\n                 var find = views.find(function(view){\\n                     viewTitle == view.viewTitle;\\n                 });\\n                 if(find){\\n                     item.viewId = find.viewId;\\n                     callback(find);\\n                 } else {\\n                    target.addView({\\n                      viewTitle : item.label + \\\"(\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                      viewType : \\\"dashboard\\\",\\n                      content : json ? json : null,\\n                    }, function(data){\\n                      item.viewId = data.data.viewId;\\n                      callback(data);\\n                    }) \\n                 }\\n              });\\n            \\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                //console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                    target.navigateTo(\\\"index\\\", {\\n                        main : elem.id\\n                    }, \\\"self\\\")\\n                  //target.tabInx = tabFilter.indexOf(elem);\\n                  //render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            var find = concat.find(function(elem){\\n                return elem.id == main;\\n            });\\n            if(find){\\n                target.tabInx = concat.indexOf(find);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1;\\n            };\\n            select(concat[target.tabInx], path);\\n            //selece(contact[])\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -2,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-transfer\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"viewpare\\\", {\\n                      title : \\\"配置区域，产线，设备对应的组太视图\\\",\\n                      theme : \\\"system\\\",\\n                      width : 700,\\n                      on : {\\n                        submit : function(data){\\n                          \\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n                class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          /**\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            \\n            target.render(json);\\n          });*/\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(data){\\n            var view = data.item;\\n            var path = data.path;\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                  if(path){\\n                      var find = json.groups.find(function(elem){\\n                        return elem.path == path;\\n                      });\\n                      json.layout = find.layout;\\n                  }\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\"},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"编辑窗口\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-3\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-9\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"控制台属性界面\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"},{\"label\":\"对应视图设置\",\"path\":\"viewpare\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"0px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"overflow\":\"auto\",\"max-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expressiont = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      target.getDomainAreaLineTree(function(domaintree){\\n        target.setValue(\\\"domainAreaLineTree/domaintree\\\", domaintree);\\n        domaintree.traverse(function(node){\\n          if(node.parent){\\n            node.description = node.view ? \\\" - \\\" + node.view.viewTitle : \\\"\\\";\\n            node.triggerEvent = \\\"fold\\\";\\n            node.buttons = [{\\n              icon : node.view ? \\\"glyphicon glyphicon-edit\\\" : \\\"glyphicon glyphicon-plus\\\",\\n              label : node.view ? \\\"编辑\\\" : \\\"添加\\\",\\n              class : node.view ? \\\"btn btn-default\\\" : \\\"btn btn-primary\\\",\\n              on : {\\n                click : function(node){\\n                  target.createPopupBypath(\\\"selecttopo\\\", {\\n                    title : \\\"选择组太视图\\\",\\n                    theme : \\\"system\\\",\\n                    width : 900,\\n                    on : {\\n                      submit : function(view){\\n                        debugger;\\n                        node.view = view;\\n                        console.log(domaintree);\\n                        node.buttons[0].label = \\\"编辑\\\";\\n                        node.description = \\\" - \\\" +  view.viewTitle;\\n                        node.buttons[0].icon = \\\"glyphicon glyphicon-edit\\\";\\n                        node.buttons[0].class = \\\"btn btn-default\\\";\\n                        node.buttons[1].disabled = false;\\n                        node.update();\\n                      }\\n                    }\\n                  }, node.view);\\n                }\\n              }\\n            },{\\n              icon : \\\"glyphicon glyphicon-remove\\\",\\n              disabled : node.view ? false : true,\\n              class : \\\"btn btn-default\\\",\\n              label : \\\"删除\\\",\\n              on : {\\n                click : function(node){\\n\\n                }\\n              }\\n            }]\\n          } else {\\n            node.showfold = false;\\n          }\\n        })\\n        var treeDataMap = target.render(domaintree);\\n        treeDataMap.traverse(function(node){\\n          if(node.level > 2){\\n            if(node.close){\\n              node.close();\\n            };\\n          } else {\\n            if(node.open){\\n              node.open();\\n            }\\n          }\\n        })\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px 2px\",\"margin\":\"0px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"overflow\":\"auto\",\"max-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"buttonGroup\\\",\\n          class : \\\"col-md-12\\\",\\n          groupStyle : {\\n             float : \\\"right\\\"\\n            },\\n          content : [{\\n            type : \\\"button\\\",\\n            value : \\\"保存\\\",\\n            icon : \\\"glyphicon glyphicon-save\\\",\\n            btnclass : \\\"btn btn-primary\\\",\\n            on : {\\n              click : function(elem){\\n                 var domaintree = target.getValue(\\\"domainAreaLineTree/domaintree\\\");\\n                 target.saveDomainAreaLineTree(domaintree);\\n                 target.growl(\\\"对应的组太视图保存成功。\\\")\\n              }\\n            }\\n          },{\\n            type : \\\"button\\\",\\n            value : \\\"取消\\\",\\n            icon : \\\"glyphicon glyphicon-remove\\\",\\n            btnclass : \\\"btn btn-default\\\",\\n            on : {\\n              click : function(elem){\\n                  target.cancel();\\n              }\\n            }\\n          }]\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:1468\"},{\"label\":\"选择组太视图\",\"path\":\"selecttopo\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var view = target.getPopupData();\\n      if(view){\\n         view = [view];\\n      }\\n      target.getAllMyViews(function(views){\\n        views = views.filter(function(view){\\n            return view.viewType == \\\"configure\\\";\\n        })\\n        view = view || [views[0]];\\n        var render = function(){\\n          target.setValue(\\\"domainAreaLineTree/view\\\", view[0]);\\n          target.trigger(\\\"topoViewChange\\\", view[0].viewId);\\n          var ctrlGroups = [\\n            [{\\n              type : \\\"checkboxlist\\\",\\n              multiselect : false,\\n              value : [view[0].viewId],\\n              on : {\\n                change : function(elem){\\n                  view = elem.value;\\n                  debugger;\\n                  render();\\n                }\\n              },\\n              options : views,\\n              format : {\\n                \\\"id\\\" : \\\"viewId\\\",\\n                \\\"label\\\" : \\\"viewTitle\\\"\\n              }\\n            }]\\n          ];\\n          debugger;\\n          target.render(ctrlGroups);\\n        }\\n        render();\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n        \\\"init\\\" : function(event){\\n            var target = event.target;\\n            target.off(\\\"topoViewChange\\\");\\n            target.on(\\\"topoViewChange\\\", function(viewId){\\n                debugger;\\n                target.getViewById(viewId, function(view){\\n                    if(view.content){\\n                        var dt = JSON.parse(view.content);\\n                        target.render(dt);\\n                    }\\n                })\\n            });\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":546900339506066}],\"col\":9}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"buttonGroup\\\",\\n          class : \\\"col-md-12\\\",\\n          groupStyle : {\\n             float : \\\"right\\\"\\n            },\\n          content : [{\\n            type : \\\"button\\\",\\n            value : \\\"确定\\\",\\n            icon : \\\"glyphicon glyphicon-save\\\",\\n            btnclass : \\\"btn btn-primary\\\",\\n            on : {\\n              click : function(elem){\\n                  var view = target.getValue(\\\"domainAreaLineTree/view\\\");\\n                  debugger;\\n                  target.submit(view);\\n              }\\n            }\\n          },{\\n            type : \\\"button\\\",\\n            value : \\\"取消\\\",\\n            icon : \\\"glyphicon glyphicon-remove\\\",\\n            btnclass : \\\"btn btn-default\\\",\\n            on : {\\n              click : function(elem){\\n                  target.cancel();\\n              }\\n            }\\n          }]\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:1382\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "粘贴",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":0,\"label\":\"导入JSON\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n         value : \\\"组件名称\\\", \\n         class : \\\"col-md-1\\\",\\n         type : \\\"label\\\"\\n       },{\\n          type : \\\"input\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-11\\\",\\n          on : {\\n            change : function(elem){\\n                target.setValue(\\\"importCode/title\\\", elem.value);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"代码编辑器\",\"type\":\"aceeditor\",\"source\":\"ACEEDITOR\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"height\":\"80vh\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.render();\\n            target.setValue(\\\"importCode/code\\\", \\\"\\\");\\n        },\\n        change : function(event){\\n            var target = event.target;\\n            var global = event.global;\\n            target.setValue(\\\"importCode/code\\\", event.value);\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var render = function(str){\\n          var ctrlGroups = [\\n            [{\\n              type : \\\"button\\\",\\n              value : \\\"导入JSON\\\",\\n              icon : \\\"glyphicon glyphicon-save\\\",\\n              btnclass : \\\"btn btn-primary\\\",\\n              class : \\\"col-md-12\\\",\\n              clipboardText : str,\\n              on : {\\n                click : function(){\\n                  target.submit(target.getValue(\\\"importCode\\\"));\\n                }\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      };\\n      render(\\\"\\\")\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":12},\"$$hashKey\":\"object:1294\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢诊断分析一级框架_协同管理员",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      // 5 \\\"点检管理工作台\\\"\\n      var ROLE = 2;\\n      if(ROLE == 0){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/alert/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          }];\\n      } else if(ROLE == 1){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 2,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 3,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 4,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 2){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/corporation/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          }];\\n      }  else if(ROLE == 3){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"审核\\\",\\n            default : \\\"baogang/critisize\\\"\\n          },{\\n            id : 2,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 3,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 4,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 5,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 4){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"关键指标跟踪\\\",\\n            default : \\\"baogang/decider/kpitracker\\\"\\n          },{\\n            id : 2,\\n            label : \\\"关键指标对比\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          }];\\n      }else if(ROLE == 5){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/decider/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准维护\\\",\\n            default : \\\"baogang/decider/kpitracker\\\"\\n          },{\\n            id : 2,\\n            label : \\\"点检计划\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          },{\\n            id : 3,\\n            label : \\\"点检计划\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          },{\\n            id : 4,\\n            label : \\\"点检计划\\\",\\n            default : \\\"baogang/decider/kpicompare\\\"\\n          }];\\n      }\\n      \\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n          CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\"\\n      // ------------------- 初始化内容在这里设置\\n      var target = event.target;\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        console.log(obj);\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        //console.log(\\\"trigger\\\", 40);\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n              var viewTitle = item.label + \\\"(工作台_\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n              target.getAllMyViews(function(views){\\n                 var find = views.find(function(view){\\n                     viewTitle == view.viewTitle;\\n                 });\\n                 if(find){\\n                     item.viewId = find.viewId;\\n                     callback(find);\\n                 } else {\\n                    target.addView({\\n                      viewTitle : item.label + \\\"(工作台_\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                      viewType : \\\"dashboard\\\",\\n                      content : json ? json : null,\\n                    }, function(data){\\n                      item.viewId = data.data.viewId;\\n                      callback(data);\\n                    }) \\n                 }\\n              });\\n            \\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                //console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.indexOf(elem);\\n                  render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  //select(elem)\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            \\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1\\n                //select(concat[target.tabInx]);\\n            };\\n            select(concat[target.tabInx]);\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n                class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"0px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            var find = json.groups.find(function(elem){\\n              return elem.path == path;\\n            });\\n            json.layout = find.layout;\\n            target.render(json);\\n          });\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(view){\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\",\"alertObj\":{\"542059861046087\":{\"eventId\":544241138966070,\"alertId\":542059861046087,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [1] 异常\",\"arisingTime\":\"2017-11-13T05:09:27.126+0000\",\"receiveTime\":\"2017-11-13T05:09:27.126+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-13T05:09:27.126+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-13T13:05:57.024+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-14T10:52:37.800+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"537783494437643\":{\"eventId\":539009142136470,\"alertId\":537783494437643,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [2] 异常\",\"arisingTime\":\"2017-11-11T07:16:16.725+0000\",\"receiveTime\":\"2017-11-11T07:16:16.725+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-11T07:15:16.731+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-11T15:12:46.633+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-13T02:03:00.641+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536687391997414\":{\"eventId\":538746819166095,\"alertId\":536687391997414,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"6\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:5.0 [2] 异常\",\"arisingTime\":\"2017-11-10T07:47:16.841+0000\",\"receiveTime\":\"2017-11-10T07:47:16.841+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T07:46:16.845+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T15:43:46.743+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T07:47:47.994+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536859189296064\":{\"eventId\":538540371966064,\"alertId\":536859189296064,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"4\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:6.0 [13] 异常\",\"arisingTime\":\"2017-11-10T01:41:57.515+0000\",\"receiveTime\":\"2017-11-10T01:41:57.515+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":7,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:35:58.068+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:38:27.436+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T04:42:00.762+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"540911188148124\":{\"eventId\":538517251976594,\"alertId\":540911188148124,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"2\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:9.0 [6] 异常\",\"arisingTime\":\"2017-11-10T01:07:03.606+0000\",\"receiveTime\":\"2017-11-10T01:07:03.606+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":6,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:02:03.603+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:03:33.483+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T06:26:53.346+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}}},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup_old\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"导航页\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"导航页\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"},{\"label\":\"诊断详情弹出框处理_top\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var task = target.getPopupData().task;\\n       var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"设备名:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+task.variables.device.label+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"设备编号:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+task.variables.device.id+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var task = target.getPopupData().task;\\n      var limit = new Date(task.sendTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"会诊发起人:　\\\"+task.sponsor+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"申请时间:　\\\"+limit+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"完成时限:　\\\"+task.timeLimit+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"原因分析:　\\\"+task.variables.causes+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"结论:　\\\"+task.variables.conclusion+\\\"\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":6},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var task = target.getPopupData().task;\\n      var option = target.getPopupData().option;\\n      var myDate = new Date().Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n      event.global.fire(\\\"savetask\\\",task);\\n      var editStatus = false;\\n      var teamworkReason = \\\"\\\";\\n      var teamworkVerdict = \\\"\\\";\\n      if(option == \\\"look\\\"){\\n          editStatus = true;\\n          if(task.values && task.values.teamworkReason != undefined){\\n            teamworkReason = task.values.teamworkReason;\\n          }\\n          if(task.values && task.values.teamworkVerdict != undefined){\\n            teamworkVerdict = task.values.teamworkVerdict;\\n          }\\n          if(task.values && task.values.teamworkTime != undefined){\\n            myDate = new Date(task.values.teamworkTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n          }\\n      }else{\\n         task.values = {\\\"teamworkTime\\\":new Date()};\\n      }\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"会诊参与人:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+task.participant+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"协同时间:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+myDate+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"原因分析:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"textarea\\\",\\n          class : \\\"col-md-4\\\",\\n          value : \\\"\\\"+teamworkReason+\\\"\\\",\\n          disabled :editStatus, \\n           on : {\\n            change : function(elem){\\n                // task.values[\\\"teamworkReason\\\"] = elem.value;\\n            if(event.global.detailTask.values ){\\n                event.global.detailTask.values[\\\"teamworkReason\\\"] = elem.value;\\n             }\\n              \\n            }\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"结论:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"textarea\\\",\\n          class : \\\"col-md-4\\\",\\n          value : \\\"\\\"+teamworkVerdict+\\\"\\\",\\n          disabled :editStatus, \\n          on : {\\n            change : function(elem){\\n             // task.values[\\\"teamworkVerdict\\\"] = elem.value;\\n             if(event.global.detailTask.values ){\\n                event.global.detailTask.values[\\\"teamworkVerdict\\\"] = elem.value;\\n             }\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":6}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = target.getPopupData().option;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"button\\\",\\n          value : \\\"提交\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\", \\n          style:{\\\"text-align\\\":\\\"right\\\"},\\n          on : {\\n            click : function(elem){\\n                    event.global.detailTask.taskStatus = 200;\\n                    console.info(\\\"detailTaskdetailTask======\\\", event.global.detailTask);\\n                    var detailString = JSON.stringify(event.global.detailTask) ;\\n                    event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", eval(\\\"(\\\" + detailString + \\\")\\\"), function(tc){\\n                    if(tc.code == 0){\\n                      event.target.growl(\\\"处理成功\\\",\\\"success\\\");\\n                      target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                })\\n            }\\n          }\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"取消\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n             target.submit({\\\"statuc\\\":\\\"error\\\"});\\n            }\\n          }\\n        }]\\n      ];\\n      if(option == \\\"edit\\\"){\\n        event.target.render(ctrlGroups);\\n      }\\n    },\\n    savetask:function(event){\\n        \\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:661\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "我的首页(工作台_baogang/corporation/hom",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            var list = [{\\n                label : \\\"待诊断任务数\\\",\\n                value : 23,\\n                icon : \\\"proudsmart ps-gongdanguanli\\\",\\n                css : {\\n                    \\\"background-color\\\" : \\\"#0c466d\\\",\\n                    \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n                }\\n            },{\\n                label : \\\"诊断中任务数\\\",\\n                value : 45,\\n                icon : \\\"glyphicon glyphicon-briefcase\\\",\\n                css : {\\n                    \\\"background-color\\\" : \\\"#484b2f\\\",\\n                    \\\"border\\\" : \\\"1px solid #e7b52b\\\"\\n                }\\n            },{\\n                label : \\\"综合诊断任务数\\\",\\n                value : 37,\\n                icon : \\\"glyphicon glyphicon-duplicate\\\",\\n                css : {\\n                    \\\"background-color\\\" : \\\"#472d3c\\\",\\n                    \\\"border\\\" : \\\"1px solid #e55057\\\"\\n                }\\n            },{\\n                label : \\\"协同诊断任务数\\\",\\n                value : 42,\\n                icon : \\\"proudsmart ps-innovate\\\",\\n                css : {\\n                    \\\"background-color\\\" : \\\"#0c466d\\\",\\n                    \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n                }\\n            }];\\n            target.render(list);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var css = data.css;\\n            target.setCss(css);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n        \\n      var target = event.target;\\n      var global = event.global;\\n      var data = target.$repeatData;\\n      var ctrlGroups = [\\n           [{\\n          type : \\\"icon\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"60px\\\"\\n          },\\n          tdStyle : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          icon : data.icon\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : data.value,\\n          style : {\\n              \\\"font-size\\\" : \\\"30px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          class : \\\"col-md-12\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : data.label,\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"12px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3}],\"style\":{}},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      //----------------------------自定义内容----------------------------\\n      //要进行搜索的变量名，对应列表里相应的变量\\n      var attr = \\\"sendTime\\\";\\n      //----------------------------自定义内容----------------------------\\n      //注意，下面内容别动！！！\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {};\\n      var inpStatus = false;\\n      target.setScopeValue(\\\"search/\\\" + attr, {\\n        type : \\\"between\\\",\\n        value : [null, null]\\n      });\\n      var timeBetween = function(item){\\n        if(item.id == -1){\\n          return null;\\n        } else if(item.id == 0){\\n          return target.dateHandler(new Date()).addDay(-1);\\n        } else if(item.id == 1){\\n          return target.dateHandler(new Date()).addDay(-7);\\n        } else if(item.id == 2){\\n          return target.dateHandler(new Date()).addMonth(-1);\\n        }\\n      }\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"会诊发起人:\\\",\\n            style:{\\n              textAlign:\\\"center\\\",\\n              width:\\\"100px\\\"\\n            }\\n          },{\\n            type : \\\"select\\\",\\n            style:{\\n              textAlign:\\\"center\\\",\\n              width:\\\"200px\\\"\\n            },\\n            options: [],\\n            format : {\\n              \\\"id\\\" : \\\"userID\\\",\\n              \\\"label\\\" : \\\"userName\\\"\\n            },\\n              on: {\\n                change: function (elem) {\\n                 timeObj[\\\"sponsor\\\"] = elem.value.userID;\\n                 if(elem.value){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              }\\n          }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择要查询的条件\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n        ];\\n        var queryUser = [];\\n        event.target.postService(\\\"userUIService\\\", \\\"queryUserByCondition\\\", {}, function(returnObj){\\n             if(returnObj.code == 0){\\n              queryUser = returnObj.data ;\\n              ctrlGroups[0][1].options = returnObj.data;\\n              event.target.render(ctrlGroups);\\n             }\\n         })\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var attr = ['domains', 'sendTime'];\\n      //*下面内容别动\\n      target.hide();\\n      var showAdvance = false;\\n      target.off(\\\"showAdvance\\\");\\n      target.on(\\\"showAdvance\\\", function(){\\n        target.show();\\n        showAdvance = true;\\n      });\\n      target.off(\\\"hideAdvance\\\");\\n      target.on(\\\"hideAdvance\\\", function(){\\n        target.hide();\\n        showAdvance = false;\\n      });\\n      target.off(\\\"toggle\\\");\\n      target.on(\\\"toggle\\\", function(){\\n        console.log(\\\"toggle\\\", showAdvance);\\n        if(showAdvance){\\n          target.trigger(\\\"hideAdvance\\\");\\n        } else {\\n          target.trigger(\\\"showAdvance\\\");\\n        }\\n      });\\n      target.setScopeValue(\\\"advanceSearch\\\", {});\\n      var areas = [], lines = [];\\n      var area, line = {};\\n      target.queryDomainTree(function(domain){\\n        for(var i in domain[0].domainInfos){\\n          for(var j in domain[0].domainInfos[i].domainInfos){\\n            areas.push(domain[0].domainInfos[i].domainInfos[j]);\\n          }\\n        };\\n        target.getResourceByModelId(301, function(customers){\\n          var render = function(){\\n            for(var i in areas){\\n              var filter = customers.filter(function(customer){\\n                return customer.domains.indexOf(areas[i].domains) != -1;\\n              });\\n              areas[i].domainInfos = filter;\\n            }\\n            area = area || areas[0];\\n\\n            lines = area.domainInfos || [];\\n            var find = lines.find(function(elem){\\n              return elem.id == line.id\\n            });\\n            line = find ? find : lines[0];\\n            line = line || {};\\n            target.setScopeValue(\\\"advanceSearch/\\\" + attr[0], {\\n                      type : \\\"domains\\\",\\n                      value : line\\n                    });\\n            var ctrlGroups = [\\n              [\\n                {\\n                  type: \\\"label\\\",\\n                  value: \\\"高级\\\",\\n\\n                  style: {\\n                    width:\\\"55px\\\",\\n                    textAlign: \\\"center\\\"\\n                  }\\n                },{\\n                type: \\\"label\\\",\\n                value: \\\"厂区\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"select\\\",\\n                value: area.id,\\n                class: \\\"col-md-2\\\",\\n                on: {\\n                  change: function (elem) {\\n                    area = elem.value;\\n                    render();\\n                  }\\n                },\\n                options: areas,\\n                format: {\\n                  \\\"id\\\": \\\"domains\\\",\\n                  \\\"label\\\": \\\"label\\\"\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"产线\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"select\\\",\\n                value: line.id,\\n                class: \\\"col-md-2\\\",\\n                on: {\\n                  change: function (elem) {\\n                    target.setScopeValue(\\\"advanceSearch/\\\" + attr[0], {\\n                      type : \\\"domains\\\",\\n                      value : elem.value\\n                    });\\n                  }\\n                },\\n                options: lines,\\n                format: {\\n                  \\\"id\\\": \\\"id\\\",\\n                  \\\"label\\\": \\\"label\\\"\\n                },\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"起始时间\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"dateRangePicker\\\",\\n                value: \\\"\\\",\\n                class: \\\"col-md-3\\\",\\n                on: {\\n                  change: function (elem) {\\n                    var start = target.dateHandler(elem.value.start);\\n                    var end = target.dateHandler(elem.value.end);\\n                    var timeSpan = [start, end];\\n                    target.setScopeValue(\\\"advanceSearch/\\\" + attr[1], {\\n                      type : \\\"between\\\",\\n                      value : timeSpan\\n                    });\\n                  }\\n                },\\n              }, {\\n                type: \\\"button\\\",\\n                class: \\\"col-md-1 col-md-offset-1\\\",\\n                btnclass: \\\"btn btn-primary\\\",\\n                value: \\\"查 询\\\",\\n                btnStyle: {\\n                  width: \\\"100px\\\",\\n                },\\n                on : {\\n                  click : function(){\\n                    console.log(target.getScopeValue(\\\"advanceSearch\\\"));\\n                    target.trigger(\\\"advance_search_toDolist\\\");\\n                  }\\n                }\\n              }]\\n            ];\\n            target.render(ctrlGroups);\\n          }\\n          render();\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var workObj = {};\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"接收时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"sponsor\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"participant\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"timeLimit\\\",\\n              label : \\\"时限\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"tickeTaskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"分析\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      taskId: elem.row.id\\n                    }\\n                    target.navigateTo(\\\"page2\\\",param);\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"处理\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var obj = {\\\"task\\\":elem.row,\\\"option\\\":\\\"edit\\\"};\\n                     target.createPopupBypath('popup', {\\n                            title: \\\"诊断详情\\\",\\n                            theme : \\\"system\\\",\\n                            width: \\\"40%\\\",\\n                            on : {\\n                              submit : function(data){\\n                               if(data.statuc == \\\"success\\\"){\\n                                  event.global.fire(\\\"query\\\",{});\\n                                  event.global.fire(\\\"queryFinish\\\",{});\\n                               }\\n                              }\\n                            }\\n                     },obj);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n          target.setValue(\\\"formatTask\\\",format);\\n       target.render({\\n            data : tasks,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      var myDicts = {};\\n      var userObj = {};\\n     event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n         if(returnObj.code == 0){\\n            var dic = {};\\n            for(var i in returnObj.data) {\\n              var obj = returnObj.data[i];\\n              if(dic[obj.dictCode]) {\\n                dic[obj.dictCode].push(obj);\\n              } else {\\n                dic[obj.dictCode] = [];\\n                dic[obj.dictCode].push(obj);\\n              }\\n            }\\n            for(var items in dic) {\\n              myDicts[items] = dic[items];\\n            }\\n            target.setValue(\\\"allDicts\\\",myDicts);\\n            event.target.postService(\\\"userUIService\\\", \\\"queryUserByCondition\\\", {}, function(returnData){\\n                 if(returnData.code == 0){\\n                  var queryUser = returnData.data ;\\n                  target.setValue(\\\"user\\\",queryUser)\\n                  for(var i  in queryUser){\\n                      userObj[queryUser[i].userID] = queryUser[i];\\n                  }\\n                 target.setValue(\\\"userObj\\\",userObj);\\n                 \\n            var ticketTaskQueryModel = {\\\"taskStatus\\\":10,\\\"variables\\\":{\\\"theTicketType\\\":\\\"join\\\"}};\\n            event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n                if(tc.code == 0){\\n                    var taskList = tc.data;\\n                    var taskArr = [];\\n                    for(var j in taskList){\\n                        taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                        taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                        taskList[j][\\\"specialtyType\\\"] = \\\"\\\";\\n                        taskList[j][\\\"sponsor\\\"] = \\\"\\\";\\n                        taskList[j][\\\"participant\\\"] = \\\"\\\";\\n                        taskList[j][\\\"timeLimit\\\"] = \\\"\\\";\\n                        taskList[j][\\\"report\\\"] = \\\"\\\";\\n                        taskList[j][\\\"tickeTaskStatus\\\"] = \\\"待协同\\\";\\n                         if(taskList[j].variables && taskList[j].variables.timeLimit != undefined){\\n                         var finshTimeType = myDicts[\\\"finshTimeType\\\"];\\n                         for(var f in finshTimeType){\\n                             if(finshTimeType[f].valueCode == taskList[j].variables.timeLimit){\\n                                 taskList[j].timeLimit = finshTimeType[f].label;\\n                                 break;\\n                             }\\n                         }\\n                        }\\n                       if(taskList[j].variables && taskList[j].variables.specialtyType != undefined){\\n                           var specialtyType = myDicts[\\\"specialtyProps\\\"];\\n                             for(var s in specialtyType){\\n                                 if(specialtyType[s].valueCode == taskList[j].variables.specialtyType){\\n                                     taskList[j].specialtyType = specialtyType[s].label;\\n                                     break;\\n                                 }\\n                            }\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.participant != undefined && userObj[taskList[j].variables.participant] != undefined){\\n                          taskList[j].participant = userObj[taskList[j].variables.participant].userName\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.sponsor != undefined && userObj[taskList[j].variables.sponsor] != undefined){\\n                          taskList[j].sponsor =  userObj[taskList[j].variables.sponsor].userName;\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.customerName != undefined){\\n                          taskList[j].customerName =taskList[j].variables.customerName;\\n                        }\\n                         if(taskList[j].variables && taskList[j].variables.devName != undefined){\\n                           taskList[j].devName =  taskList[j].variables.devName;\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.alertTitle != undefined){\\n                          taskList[j].alertTitle = taskList[j].variables.alertTitle;\\n                        }\\n                        taskArr.push(taskList[j]);\\n                    }\\n                     render(taskArr);\\n                }\\n                  \\n              })\\n                 }\\n             })\\n         }\\n     })\\n    },\\n    query:function(event){\\n         var target = event.target;\\n         var myDicts = target.getValue(\\\"allDicts\\\");\\n         var userObj = target.getValue(\\\"userObj\\\");\\n         var format = target.getValue(\\\"formatTask\\\");\\n        var  params=event.params;\\n         var render = function(alertData){\\n            target.render({\\n            data : alertData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n         }\\n         var queryItem = {\\\"taskStatus\\\":\\\"10\\\",\\\"variables\\\":{\\\"theTicketType\\\":\\\"join\\\",\\\"sponsor\\\":params.sponsor},\\\"sendBeginTime\\\":params.firstTimeFrom,\\\"sendEndTime\\\":params.firstTimeTo};\\n         var jsonToString = JSON.stringify(queryItem) ;\\n         event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", eval(\\\"(\\\" + jsonToString + \\\")\\\"), function(tc){\\n             if(tc.code == 0){\\n               var taskList = tc.data;\\n                    var taskArr = [];\\n                    for(var j in taskList){\\n                        taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                        taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                        taskList[j][\\\"specialtyType\\\"] = \\\"\\\";\\n                        taskList[j][\\\"sponsor\\\"] = \\\"\\\";\\n                        taskList[j][\\\"participant\\\"] = \\\"\\\";\\n                        taskList[j][\\\"timeLimit\\\"] = \\\"\\\";\\n                        taskList[j][\\\"report\\\"] = \\\"\\\";\\n                        taskList[j][\\\"tickeTaskStatus\\\"] = \\\"待协同\\\";\\n                         if(taskList[j].variables && taskList[j].variables.timeLimit != undefined){\\n                         var finshTimeType = myDicts[\\\"finshTimeType\\\"];\\n                         for(var f in finshTimeType){\\n                             if(finshTimeType[f].valueCode == taskList[j].variables.timeLimit){\\n                                 taskList[j].timeLimit = finshTimeType[f].label;\\n                                 break;\\n                             }\\n                         }\\n                        }\\n                       if(taskList[j].variables && taskList[j].variables.specialtyType != undefined){\\n                           var specialtyType = myDicts[\\\"specialtyProps\\\"];\\n                             for(var s in specialtyType){\\n                                 if(specialtyType[s].valueCode == taskList[j].variables.specialtyType){\\n                                     taskList[j].specialtyType = specialtyType[s].label;\\n                                     break;\\n                                 }\\n                            }\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.participant != undefined && userObj[taskList[j].variables.participant] != undefined){\\n                          taskList[j].participant = userObj[taskList[j].variables.participant].userName\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.sponsor != undefined && userObj[taskList[j].variables.sponsor] != undefined){\\n                          taskList[j].sponsor =  userObj[taskList[j].variables.sponsor].userName;\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.customerName != undefined){\\n                          taskList[j].customerName =taskList[j].variables.customerName;\\n                        }\\n                         if(taskList[j].variables && taskList[j].variables.devName != undefined){\\n                           taskList[j].devName =  taskList[j].variables.devName;\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.alertTitle != undefined){\\n                          taskList[j].alertTitle = taskList[j].variables.alertTitle;\\n                        }\\n                        taskArr.push(taskList[j]);\\n                    }\\n                 render(taskArr);\\n            }\\n         })\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      //----------------------------自定义内容----------------------------\\n      //要进行搜索的变量名，对应列表里相应的变量\\n      var attr = \\\"sendTime\\\";\\n      //----------------------------自定义内容----------------------------\\n      //注意，下面内容别动！！！\\n      var target = event.target;\\n      var global = event.global;\\n      var inpStatus = false;\\n      var timeObj = {};\\n      target.setScopeValue(\\\"search/\\\" + attr, {\\n        type : \\\"between\\\",\\n        value : [null, null]\\n      });\\n      var timeBetween = function(item){\\n        if(item.id == -1){\\n          return null;\\n        } else if(item.id == 0){\\n          return target.dateHandler(new Date()).addDay(-1);\\n        } else if(item.id == 1){\\n          return target.dateHandler(new Date()).addDay(-7);\\n        } else if(item.id == 2){\\n          return target.dateHandler(new Date()).addMonth(-1);\\n        }\\n      }\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"会诊发起人:\\\",\\n            style:{\\n              textAlign:\\\"center\\\",\\n              width:\\\"100px\\\"\\n            }\\n          },{\\n            type : \\\"select\\\",\\n            style:{\\n              textAlign:\\\"center\\\",\\n              width:\\\"200px\\\"\\n            },\\n            options: [],\\n            format : {\\n              \\\"id\\\" : \\\"userID\\\",\\n              \\\"label\\\" : \\\"userName\\\"\\n            },\\n              on: {\\n                change: function (elem) {\\n                 timeObj[\\\"sponsor\\\"] = elem.value.userID;\\n                 if(elem.value){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              }\\n          }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"queryFinish\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n        ];\\n        var queryUser = [];\\n        event.target.postService(\\\"userUIService\\\", \\\"queryUserByCondition\\\", {}, function(returnObj){\\n             if(returnObj.code == 0){\\n              queryUser = returnObj.data ;\\n              ctrlGroups[0][1].options = returnObj.data;\\n              event.target.render(ctrlGroups);\\n             }\\n         })\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"queryFinish\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"queryFinish\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"queryFinish\\\",timeObj)\\n              }\\n            }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"已办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var workObj = {};\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"接收时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"sponsor\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"participant\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"timeLimit\\\",\\n              label : \\\"时限\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"tickeTaskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                     var obj = {\\\"task\\\":elem.row,\\\"option\\\":\\\"look\\\"};\\n                     target.createPopupBypath('popup', {\\n                            title: \\\"诊断详情\\\",\\n                            theme : \\\"system\\\",\\n                            width: \\\"40%\\\",\\n                            on : {\\n                              submit : function(data){\\n                               if(data.statuc == \\\"success\\\"){\\n                                  event.global.fire(\\\"queryFinish\\\",{});\\n                               }\\n                              }\\n                            }\\n                     },obj);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n          target.setValue(\\\"formatTaskFinish\\\",format);\\n       target.render({\\n            data : tasks,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      var myDicts = {};\\n      var userObj = {};\\n     event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n         if(returnObj.code == 0){\\n            var dic = {};\\n            for(var i in returnObj.data) {\\n              var obj = returnObj.data[i];\\n              if(dic[obj.dictCode]) {\\n                dic[obj.dictCode].push(obj);\\n              } else {\\n                dic[obj.dictCode] = [];\\n                dic[obj.dictCode].push(obj);\\n              }\\n            }\\n            for(var items in dic) {\\n              myDicts[items] = dic[items];\\n            }\\n            target.setValue(\\\"allDictsFinish\\\",myDicts);\\n            event.target.postService(\\\"userUIService\\\", \\\"queryUserByCondition\\\", {}, function(returnData){\\n                 if(returnData.code == 0){\\n                  var queryUser = returnData.data ;\\n                  target.setValue(\\\"user\\\",queryUser)\\n                  for(var i  in queryUser){\\n                      userObj[queryUser[i].userID] = queryUser[i];\\n                  }\\n                 target.setValue(\\\"userObjFinish\\\",userObj);\\n                 \\n            var ticketTaskQueryModel = {\\\"taskStatus\\\":200,\\\"variables\\\":{\\\"theTicketType\\\":\\\"join\\\"}};\\n            event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n                if(tc.code == 0){\\n                    var taskList = tc.data;\\n                    var taskArr = [];\\n                    for(var j in taskList){\\n                        taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                        taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                        taskList[j][\\\"specialtyType\\\"] = \\\"\\\";\\n                        taskList[j][\\\"sponsor\\\"] = \\\"\\\";\\n                        taskList[j][\\\"participant\\\"] = \\\"\\\";\\n                        taskList[j][\\\"timeLimit\\\"] = \\\"\\\";\\n                        taskList[j][\\\"report\\\"] = \\\"\\\";\\n                        taskList[j][\\\"tickeTaskStatus\\\"] = \\\"已协同\\\";\\n                         if(taskList[j].variables && taskList[j].variables.timeLimit != undefined){\\n                         var finshTimeType = myDicts[\\\"finshTimeType\\\"];\\n                         for(var f in finshTimeType){\\n                             if(finshTimeType[f].valueCode == taskList[j].variables.timeLimit){\\n                                 taskList[j].timeLimit = finshTimeType[f].label;\\n                                 break;\\n                             }\\n                         }\\n                        }\\n                       if(taskList[j].variables && taskList[j].variables.specialtyType != undefined){\\n                           var specialtyType = myDicts[\\\"specialtyProps\\\"];\\n                             for(var s in specialtyType){\\n                                 if(specialtyType[s].valueCode == taskList[j].variables.specialtyType){\\n                                     taskList[j].specialtyType = specialtyType[s].label;\\n                                     break;\\n                                 }\\n                            }\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.participant != undefined && userObj[taskList[j].variables.participant] != undefined){\\n                          taskList[j].participant = userObj[taskList[j].variables.participant].userName\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.sponsor != undefined && userObj[taskList[j].variables.sponsor] != undefined){\\n                          taskList[j].sponsor =  userObj[taskList[j].variables.sponsor].userName;\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.customerName != undefined){\\n                          taskList[j].customerName =taskList[j].variables.customerName;\\n                        }\\n                         if(taskList[j].variables && taskList[j].variables.devName != undefined){\\n                           taskList[j].devName =  taskList[j].variables.devName;\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.alertTitle != undefined){\\n                          taskList[j].alertTitle = taskList[j].variables.alertTitle;\\n                        }\\n                        taskArr.push(taskList[j]);\\n                    }\\n                     render(taskArr);\\n                }\\n                  \\n              })\\n                 }\\n             })\\n         }\\n     })\\n    },\\n    queryFinish:function(event){\\n         var target = event.target;\\n         var myDicts = target.getValue(\\\"allDictsFinish\\\");\\n         var userObj = target.getValue(\\\"userObjFinish\\\");\\n         var format = target.getValue(\\\"formatTaskFinish\\\");\\n        var  params=event.params;\\n         var render = function(alertData){\\n            target.render({\\n            data : alertData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n         }\\n         var queryItem = {\\\"taskStatus\\\":\\\"200\\\",\\\"variables\\\":{\\\"theTicketType\\\":\\\"join\\\",\\\"sponsor\\\":params.sponsor},\\\"sendBeginTime\\\":params.firstTimeFrom,\\\"sendEndTime\\\":params.firstTimeTo};\\n         var jsonToString = JSON.stringify(queryItem) ;\\n         event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", eval(\\\"(\\\" + jsonToString + \\\")\\\"), function(tc){\\n             if(tc.code == 0){\\n               var taskList = tc.data;\\n                    var taskArr = [];\\n                    for(var j in taskList){\\n                        taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                        taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                        taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                        taskList[j][\\\"specialtyType\\\"] = \\\"\\\";\\n                        taskList[j][\\\"sponsor\\\"] = \\\"\\\";\\n                        taskList[j][\\\"participant\\\"] = \\\"\\\";\\n                        taskList[j][\\\"timeLimit\\\"] = \\\"\\\";\\n                        taskList[j][\\\"report\\\"] = \\\"\\\";\\n                        taskList[j][\\\"tickeTaskStatus\\\"] = \\\"待协同\\\";\\n                         if(taskList[j].variables && taskList[j].variables.timeLimit != undefined){\\n                         var finshTimeType = myDicts[\\\"finshTimeType\\\"];\\n                         for(var f in finshTimeType){\\n                             if(finshTimeType[f].valueCode == taskList[j].variables.timeLimit){\\n                                 taskList[j].timeLimit = finshTimeType[f].label;\\n                                 break;\\n                             }\\n                         }\\n                        }\\n                       if(taskList[j].variables && taskList[j].variables.specialtyType != undefined){\\n                           var specialtyType = myDicts[\\\"specialtyProps\\\"];\\n                             for(var s in specialtyType){\\n                                 if(specialtyType[s].valueCode == taskList[j].variables.specialtyType){\\n                                     taskList[j].specialtyType = specialtyType[s].label;\\n                                     break;\\n                                 }\\n                            }\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.participant != undefined && userObj[taskList[j].variables.participant] != undefined){\\n                          taskList[j].participant = userObj[taskList[j].variables.participant].userName\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.sponsor != undefined && userObj[taskList[j].variables.sponsor] != undefined){\\n                          taskList[j].sponsor =  userObj[taskList[j].variables.sponsor].userName;\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.customerName != undefined){\\n                          taskList[j].customerName =taskList[j].variables.customerName;\\n                        }\\n                         if(taskList[j].variables && taskList[j].variables.devName != undefined){\\n                           taskList[j].devName =  taskList[j].variables.devName;\\n                        }\\n                        if(taskList[j].variables && taskList[j].variables.alertTitle != undefined){\\n                          taskList[j].alertTitle = taskList[j].variables.alertTitle;\\n                        }\\n                        taskArr.push(taskList[j]);\\n                    }\\n                 render(taskArr);\\n            }\\n         })\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "频域波形(工作台配置文件_baogang/analysis/fr",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var dItem,kpi;\\n      var dateRangeTime =null;\\n      var subaccessConfigValues;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n\\n      var success = function () {\\n        var ci = [resource.id]; // 设备 526443915616079\\n        var modelId = [resource.modelId] // 获取modelId\\n        var accessConfigValues = resource.physicalConfig.accessConfigs;\\n        target.getAttrsByModelId(modelId, function (attrs) {\\n          var MeasurePointLocate = attrs.find(function (elem) {\\n            return elem.name == \\\"MeasurePointLocate\\\";\\n          }) || {};\\n          var triggerEvent = function () {\\n            target.trigger(\\\"drawDiagnoseFeatureEchart3\\\", {\\n              ins: dItem,\\n              kpi: kpi,\\n              dateRangeTime:dateRangeTime\\n            })\\n          }\\n          // 设备的属性表达式\\n          var sourceValue = eval(MeasurePointLocate.sourceValue)|| \\\"\\\";\\n          var sourceValueArr = [];\\n          for (var i in sourceValue) {\\n            for (var j in sourceValue[i]) {\\n              for(var k in sourceValue[i][j]){\\n                sourceValueArr.push(sourceValue[i][j][k])\\n              }\\n            }\\n          };\\n\\n\\n          // 默认第一个选中\\n          dItem = dItem || sourceValueArr[0];\\n          subaccessConfigValues = accessConfigValues.filter(function(value){\\n            return value.instance == dItem.name;\\n          })\\n\\n          target.setValue(\\\"subaccessConfigValue\\\",subaccessConfigValues[0]);\\n\\n          var render = function () {\\n            //   triggerEvent();\\n            var ctrlGroups = [\\n              [{\\n                type: \\\"label\\\",\\n                value: \\\"测点\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"select\\\",\\n                value: dItem.name,\\n                class: \\\"col-md-2\\\",\\n                on: {\\n                  change: function (elem) {\\n                    dItem = elem.value;\\n                    subaccessConfigValues = accessConfigValues.filter(function(value){\\n                      return value.instance == dItem.name;\\n                    })\\n\\n                    render();\\n                  }\\n                },\\n                options: sourceValueArr,\\n                format: {\\n                  \\\"id\\\": \\\"name\\\",\\n                  \\\"label\\\": \\\"label\\\"\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"参数\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"select\\\",\\n                value: subaccessConfigValues.kpiId,\\n                class: \\\"col-md-2\\\",\\n                on: {\\n                  change: function (elem) {\\n                    kpi = elem.value;\\n                    triggerEvent();\\n                  }\\n                },\\n                options: subaccessConfigValues,\\n                format: {\\n                  \\\"id\\\": \\\"kpiId\\\",\\n                  \\\"label\\\": \\\"kpiName\\\"\\n                },\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"起始时间\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"dateRangePicker\\\",\\n                value: \\\"\\\",\\n                class: \\\"col-md-3\\\",\\n                on: {\\n                  change: function (elem) {\\n                    dateRangeTime =  elem.value;\\n                    triggerEvent();\\n                  }\\n                },\\n              }, {\\n                type: \\\"button\\\",\\n                class: \\\"col-md-1\\\",\\n                btnclass: \\\"btn btn-primary\\\",\\n                value: \\\"设备信息\\\",\\n                btnStyle: {\\n                  width: \\\"100%\\\",\\n                },\\n                on: {\\n                  click: function (elem) {\\n                  }\\n                }\\n              }, {\\n                type: \\\"button\\\",\\n                class: \\\"col-md-1\\\",\\n                btnclass: \\\"btn btn-primary\\\",\\n                value: \\\"添加依据\\\",\\n                btnStyle: {\\n                  width: \\\"100%\\\",\\n                },\\n                on: {\\n                  click: function (elem) {\\n                  }\\n                }\\n              }]\\n            ];\\n            target.render(ctrlGroups);\\n          };\\n          render();\\n        })\\n      }\\n      success();\\n      target.on(\\\"tree_resourceChange\\\", function (node) {\\n        success();\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":7},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      var render = function(){\\n          var type = target.getValue(\\\"type\\\") || 0;\\n          var feature = target.getValue(\\\"type\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-24\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"显示谱峰\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : type == 3 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 3){\\n                          target.setValue(\\\"type\\\", 3);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"倍频\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : type == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 1){\\n                          target.setValue(\\\"type\\\", 1);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"边带\\\",\\n                icon : \\\"glyphicon glyphicon-list\\\",\\n                btnclass : type == 2 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 2){\\n                          target.setValue(\\\"type\\\", 2);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              }]\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      };\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":5}]},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var kpi;\\n      var LENGTH = 50;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      var ci = [resource.id];\\n      var time = 0;\\n      kpi = [target.getValue(\\\"subaccessConfigValue\\\").dataItemId];\\n      \\n      \\n      var randerFFTEchart = function (ci, kpi, time) {debugger\\n        var params = {\\n            time:time,\\n            kpiCodes:kpi,\\n            isRealTimeData:false,\\n            nodeIds:ci,\\n            startTime:\\\"2017-11-17T04:15:00.000Z\\\",\\n            endTime:\\\"2017-11-17T04:16:00.000Z\\\",\\n            transformerType:\\\"FFT\\\",\\n        }\\n         event.target.postService(\\\"kpiDataFlexService\\\", \\\"getKpiValueList\\\", [\\\"kpi\\\",params], function(returnData){\\n          if (returnData) {\\n          \\n            var data = eval(returnData.data[0].value);\\n            var dataList = data[0];\\n            var valueList = data[1];\\n          \\n            // var dataList = returnData[0].value||[0];\\n            // var valueList = returnData[0].value||[0];\\n          var render = function (init, sub) {\\n            console.log(\\\"init\\\", init, sub);\\n            var type = target.getValue(\\\"type\\\") || 0;\\n            var x0 = target.getValue(\\\"x0\\\") || 0;\\n            var x1 = target.getValue(\\\"x1\\\") || 180;\\n            if (type == 0) {\\n              var markLine = undefined;\\n              var markPoint = undefined;\\n            } else if (type == 1) {\\n              var markLine = {\\n                animation: false,\\n                symbol: 'none',\\n                silent: false,\\n                lineStyle: {\\n                  normal: {\\n                    width: 1,\\n                    color: \\\"#436fff\\\",\\n                    type: 'solid'\\n                  }\\n                },\\n                label: {\\n                  normal: {\\n                    show: true,\\n                    position: 'end',\\n                    formatter: function (elem) {\\n                      return elem.data.value + \\\"Hz\\\";\\n                    }\\n                  }\\n                },\\n                data: (function () {\\n                  var rs = [];\\n                  for (i = 0; i < 10; i++) {\\n                    var item = {\\n                      xAxis: x0 * (i + 2) + ''\\n                    };\\n                    rs.push(item)\\n                  }\\n                  /**\\n                   for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                  return rs;\\n                })()\\n              }\\n              var markPoint = {\\n                symbol: \\\"circle\\\",\\n                symbolSize: 8,\\n                animation: false,\\n                silent: false,\\n                label: {\\n                  normal: {\\n                    show: false\\n                    //                        formatter: '{b}: {d}'\\n                  }\\n                },\\n                itemStyle: {\\n                  normal: {\\n                    color: \\\"#fff\\\",\\n                    borderColor: \\\"blue\\\"\\n                  }\\n                },\\n                data: (function () {\\n                  var rs = [];\\n                  for (i = 0; i < 10; i++) {\\n                    var yData = data[x0 / 1 * (i + 2)];\\n                    if (yData) {\\n                      var item = {\\n                        xAxis: x0 * (i + 2) + '',\\n                        yAxis: yData[1]\\n                      };\\n                      rs.push(item)\\n                    }\\n                  }\\n                  /**\\n                   for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                  return rs;\\n                })()\\n              }\\n            } else if (type == 2) {\\n              var markLine = {\\n                animation: false,\\n                symbol: 'none',\\n                silent: false,\\n                lineStyle: {\\n                  normal: {\\n                    color: \\\"red\\\",\\n                    type: 'solid'\\n                  }\\n                },\\n                label: {\\n                  normal: {\\n                    show: true,\\n                    position: 'end',\\n                    formatter: function (elem) {\\n                      return elem.data.value + \\\"Hz\\\";\\n                    }\\n                  }\\n                },\\n                data: (function () {\\n                  var rs = [];\\n                  for (var i = -5; i < 5; i++) {\\n                    rs.push({\\n                      xAxis: parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                    })\\n                  }\\n                  ;\\n                  return rs;\\n                })()\\n              };\\n              var markPoint = {\\n                symbol: \\\"circle\\\",\\n                symbolSize: 8,\\n                animation: false,\\n                silent: false,\\n                label: {\\n                  normal: {\\n                    show: false\\n                  }\\n                },\\n                itemStyle: {\\n                  normal: {\\n                    color: \\\"#fff\\\",\\n                    borderColor: \\\"red\\\"\\n                  }\\n                },\\n                data: (function () {\\n                  var rs = [];\\n                  for (var i = -5; i < 5; i++) {\\n                    rs.push({\\n                      xAxis: parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                      yAxis: valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                    })\\n                  }\\n                  ;\\n                  return rs;\\n                })()\\n              }\\n            }\\n            ;\\n            var option = {\\n              grid: [{\\n                \\\"top\\\": \\\"10%\\\",\\n                \\\"width\\\": \\\"90%\\\",\\n                \\\"left\\\": \\\"5%\\\",\\n                \\\"height\\\": \\\"65%\\\"\\n              }, {\\n                \\\"top\\\": \\\"10%\\\",\\n                \\\"width\\\": \\\"90%\\\",\\n                \\\"left\\\": \\\"5%\\\",\\n                \\\"height\\\": \\\"65%\\\"\\n              }],\\n              tooltip: {\\n                \\\"alwaysShowContent\\\": true,\\n                triggerOn: 'none'\\n              },\\n              xAxis: [{\\n                data: dataList,\\n                axisPointer: {\\n                  label: {\\n                    show: true,\\n                    formatter: function (val) {\\n                      console.log(\\\"a\\\", type);\\n                      if (val.seriesData[0]) {\\n                        target.setValue(\\\"x0\\\", val.value);\\n                        target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                        target.trigger(\\\"handleChange\\\");\\n                        console.log(\\\"a--init\\\", init);\\n                        if (type == 1) {\\n                          if (init == false) {\\n                            render();\\n                          }\\n                          ;\\n                          init = false;\\n                        }\\n                        ;\\n                      }\\n                      return val.value\\n                    }\\n                  },\\n                  lineStyle: {\\n                    color: \\\"blue\\\",\\n                    width: 2\\n                  },\\n                  handle: {\\n                    show: true,\\n                    size: 30,\\n                    margin: 40,\\n                  },\\n                  \\\"value\\\": x0,\\n                  snap: false,\\n                }\\n              }, {\\n                data: dataList,\\n                axisPointer: {\\n                  label: {\\n                    formatter: function (val) {\\n                      if (val.seriesData[0]) {\\n                        target.setValue(\\\"x1\\\", val.value)\\n                        target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                        target.trigger(\\\"handleChange\\\");\\n                        if (type == 2) {\\n                          if (init == false) {\\n                            render();\\n                          }\\n                          ;\\n                          init = false;\\n                        }\\n                        ;\\n                      }\\n                      return val.value\\n                    }\\n                  },\\n                  lineStyle: {\\n                    color: \\\"red\\\",\\n                    width: 2\\n                  },\\n                  handle: {\\n                    show: true,\\n                    size: 30,\\n                    margin: 40,\\n\\n                  },\\n                  \\\"value\\\": x1,\\n                  snap: false,\\n                },\\n                gridIndex: 1\\n              }],\\n              yAxis: [{\\n                splitLine: {show: true}\\n\\n              }, {\\n                splitLine: {show: false},\\n                gridIndex: 1\\n              }],\\n              dataZoom: [\\n                {\\n                  show: true,\\n                  realtime: true,\\n                  start: 0,\\n                  end: 10,\\n                  xAxisIndex: [0, 1]\\n                }\\n              ],\\n              series: [{\\n                type: 'line',\\n                showSymbol: false,\\n                data: valueList,\\n                markLine: markLine,\\n                markPoint: markPoint\\n              }, {\\n                type: 'line',\\n                showSymbol: false,\\n                lineStyle: {\\n                  normal: {\\n                    opacity: 0\\n                  }\\n                },\\n                data: valueList,\\n                xAxisIndex: 1,\\n                yAxisIndex: 1\\n              }]\\n            };\\n            option\\n            target.render(option);\\n          };\\n            render();\\n            target.on(\\\"renderChart\\\", function () {\\n              render(undefined, \\\"renderChart\\\");\\n            })\\n          }\\n         })\\n      };\\n      \\n    //   var renderEchart = function (ci, kpi, time, startTime, endTime) {\\n    //     var kpiNames = target.getValue(\\\"kpiName\\\") || [\\\"温度\\\"];\\n    //     // 扩展参数\\n\\n    //     var extension = {\\n    //     //   isRealTimeData: false,\\n    //       startTime: startTime == \\\"\\\" ? \\\"1509608510266\\\" : startTime,\\n    //       endTime: endTime == \\\"\\\" ? \\\"1509608510266\\\" : endTime,\\n    //       transformerType: \\\"FFT\\\"\\n    //     };\\n    //     event.target.getKpiValueList(ci, kpi, time, function (returnData) {\\n    //      if(returnData.length==0){\\n    //          return\\n    //      }\\n    //       var data = eval(returnData[0].value);\\n    //       var dataList = data[0];\\n    //       var valueList = data[1];\\n\\n    //       var render = function (init, sub) {\\n    //         console.log(\\\"init\\\", init, sub);\\n    //         var type = target.getValue(\\\"type\\\") || 0;\\n    //         var x0 = target.getValue(\\\"x0\\\") || 0;\\n    //         var x1 = target.getValue(\\\"x1\\\") || 180;\\n    //         if (type == 0) {\\n    //           var markLine = undefined;\\n    //           var markPoint = undefined;\\n    //         } else if (type == 1) {\\n    //           var markLine = {\\n    //             animation: false,\\n    //             symbol: 'none',\\n    //             silent: false,\\n    //             lineStyle: {\\n    //               normal: {\\n    //                 width: 1,\\n    //                 color: \\\"#436fff\\\",\\n    //                 type: 'solid'\\n    //               }\\n    //             },\\n    //             label: {\\n    //               normal: {\\n    //                 show: true,\\n    //                 position: 'end',\\n    //                 formatter: function (elem) {\\n    //                   return elem.data.value + \\\"Hz\\\";\\n    //                 }\\n    //               }\\n    //             },\\n    //             data: (function () {\\n    //               var rs = [];\\n    //               for (i = 0; i < 10; i++) {\\n    //                 var item = {\\n    //                   xAxis: x0 * (i + 2) + ''\\n    //                 };\\n    //                 rs.push(item)\\n    //               }\\n    //               /**\\n    //               for(var i = 0; i < 10; i++){\\n    //               rs.push({\\n    //                 xAxis : i * x0\\n    //               })\\n    //             };*/\\n    //               return rs;\\n    //             })()\\n    //           }\\n    //           var markPoint = {\\n    //             symbol: \\\"circle\\\",\\n    //             symbolSize: 8,\\n    //             animation: false,\\n    //             silent: false,\\n    //             label: {\\n    //               normal: {\\n    //                 show: false\\n    //                 //                        formatter: '{b}: {d}'\\n    //               }\\n    //             },\\n    //             itemStyle: {\\n    //               normal: {\\n    //                 color: \\\"#fff\\\",\\n    //                 borderColor: \\\"blue\\\"\\n    //               }\\n    //             },\\n    //             data: (function () {\\n    //               var rs = [];\\n    //               for (i = 0; i < 10; i++) {\\n    //                 var yData = data[x0 / 1 * (i + 2)];\\n    //                 if (yData) {\\n    //                   var item = {\\n    //                     xAxis: x0 * (i + 2) + '',\\n    //                     yAxis: yData[1]\\n    //                   };\\n    //                   rs.push(item)\\n    //                 }\\n    //               }\\n    //               /**\\n    //               for(var i = 0; i < 10; i++){\\n    //               rs.push({\\n    //                   xAxis : i * x0,\\n    //                   yAxis : valueList[i * x0]\\n    //               })\\n    //             };*/\\n    //               return rs;\\n    //             })()\\n    //           }\\n    //         } else if (type == 2) {\\n    //           var markLine = {\\n    //             animation: false,\\n    //             symbol: 'none',\\n    //             silent: false,\\n    //             lineStyle: {\\n    //               normal: {\\n    //                 color: \\\"red\\\",\\n    //                 type: 'solid'\\n    //               }\\n    //             },\\n    //             label: {\\n    //               normal: {\\n    //                 show: true,\\n    //                 position: 'end',\\n    //                 formatter: function (elem) {\\n    //                   return elem.data.value + \\\"Hz\\\";\\n    //                 }\\n    //               }\\n    //             },\\n    //             data: (function () {\\n    //               var rs = [];\\n    //               for (var i = -5; i < 5; i++) {\\n    //                 rs.push({\\n    //                   xAxis: parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n    //                 })\\n    //               }\\n    //               ;\\n    //               return rs;\\n    //             })()\\n    //           };\\n    //           var markPoint = {\\n    //             symbol: \\\"circle\\\",\\n    //             symbolSize: 8,\\n    //             animation: false,\\n    //             silent: false,\\n    //             label: {\\n    //               normal: {\\n    //                 show: false\\n    //               }\\n    //             },\\n    //             itemStyle: {\\n    //               normal: {\\n    //                 color: \\\"#fff\\\",\\n    //                 borderColor: \\\"red\\\"\\n    //               }\\n    //             },\\n    //             data: (function () {\\n    //               var rs = [];\\n    //               for (var i = -5; i < 5; i++) {\\n    //                 rs.push({\\n    //                   xAxis: parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n    //                   yAxis: valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n    //                 })\\n    //               }\\n    //               ;\\n    //               return rs;\\n    //             })()\\n    //           }\\n    //         }\\n    //         ;\\n    //         var option = {\\n    //           grid: [{\\n    //             \\\"top\\\": \\\"10%\\\",\\n    //             \\\"width\\\": \\\"90%\\\",\\n    //             \\\"left\\\": \\\"5%\\\",\\n    //             \\\"height\\\": \\\"65%\\\"\\n    //           }, {\\n    //             \\\"top\\\": \\\"10%\\\",\\n    //             \\\"width\\\": \\\"90%\\\",\\n    //             \\\"left\\\": \\\"5%\\\",\\n    //             \\\"height\\\": \\\"65%\\\"\\n    //           }],\\n    //           tooltip: {\\n    //             \\\"alwaysShowContent\\\": true,\\n    //             triggerOn: 'none'\\n    //           },\\n    //           xAxis: [{\\n    //             data: dataList,\\n    //             axisPointer: {\\n    //               label: {\\n    //                 show: true,\\n    //                 formatter: function (val) {\\n    //                   console.log(\\\"a\\\", type);\\n    //                   if (val.seriesData[0]) {\\n    //                     target.setValue(\\\"x0\\\", val.value);\\n    //                     target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n    //                     target.trigger(\\\"handleChange\\\");\\n    //                     console.log(\\\"a--init\\\", init);\\n    //                     if (type == 1) {\\n    //                       if (init == false) {\\n    //                         render();\\n    //                       }\\n    //                       ;\\n    //                       init = false;\\n    //                     }\\n    //                     ;\\n    //                   }\\n    //                   return val.value\\n    //                 }\\n    //               },\\n    //               lineStyle: {\\n    //                 color: \\\"blue\\\",\\n    //                 width: 2\\n    //               },\\n    //               handle: {\\n    //                 show: true,\\n    //                 size: 30,\\n    //                 margin: 40,\\n    //               },\\n    //               \\\"value\\\": x0,\\n    //               snap: false,\\n    //             }\\n    //           }, {\\n    //             data: dataList,\\n    //             axisPointer: {\\n    //               label: {\\n    //                 formatter: function (val) {\\n    //                   if (val.seriesData[0]) {\\n    //                     target.setValue(\\\"x1\\\", val.value)\\n    //                     target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n    //                     target.trigger(\\\"handleChange\\\");\\n    //                     if (type == 2) {\\n    //                       if (init == false) {\\n    //                         render();\\n    //                       }\\n    //                       ;\\n    //                       init = false;\\n    //                     }\\n    //                     ;\\n    //                   }\\n    //                   return val.value\\n    //                 }\\n    //               },\\n    //               lineStyle: {\\n    //                 color: \\\"red\\\",\\n    //                 width: 2\\n    //               },\\n    //               handle: {\\n    //                 show: true,\\n    //                 size: 30,\\n    //                 margin: 40,\\n\\n    //               },\\n    //               \\\"value\\\": x1,\\n    //               snap: false,\\n    //             },\\n    //             gridIndex: 1\\n    //           }],\\n    //           yAxis: [{\\n    //             splitLine: {show: true}\\n\\n    //           }, {\\n    //             splitLine: {show: false},\\n    //             gridIndex: 1\\n    //           }],\\n    //           dataZoom: [\\n    //             {\\n    //               show: true,\\n    //               realtime: true,\\n    //               start: 0,\\n    //               end: 10,\\n    //               xAxisIndex: [0, 1]\\n    //             }\\n    //           ],\\n    //           series: [{\\n    //             type: 'line',\\n    //             showSymbol: false,\\n    //             data: valueList,\\n    //             markLine: markLine,\\n    //             markPoint: markPoint\\n    //           }, {\\n    //             type: 'line',\\n    //             showSymbol: false,\\n    //             lineStyle: {\\n    //               normal: {\\n    //                 opacity: 0\\n    //               }\\n    //             },\\n    //             data: valueList,\\n    //             xAxisIndex: 1,\\n    //             yAxisIndex: 1\\n    //           }]\\n    //         };\\n    //         option\\n    //         target.render(option);\\n    //       };\\n    //       render();\\n    //       target.on(\\\"renderChart\\\", function () {\\n    //         render(undefined, \\\"renderChart\\\");\\n    //       })\\n\\n    //     }, extension)\\n\\n    //   }\\n    \\n      kpi = [10000102];     //测点（指标）\\n      randerFFTEchart(ci, kpi, time); \\n      target.off(\\\"drawDiagnoseFeatureEchart3\\\");\\n      target.on(\\\"drawDiagnoseFeatureEchart3\\\", function (condition) {\\n        if (condition.dateRangeTime) {\\n          var startTime = JSON.stringify(condition.dateRangeTime.start);\\n          var endTime = JSON.stringify(condition.dateRangeTime.end);\\n          if (startTime || endTime) {\\n            startTime = startTime.substring(1, startTime.length - 1)\\n            endTime = endTime.substring(1, endTime.length - 1)\\n          }\\n        }\\n        kpi = [condition.kpi.kpiId];     //测点（指标）\\n        if (startTime && endTime) {\\n          time = 0;\\n          randerFFTEchart(ci, kpi, time, startTime, endTime)\\n        } else {\\n          time = 0;\\n          randerFFTEchart(ci, kpi, time, \\\"\\\", \\\"\\\")\\n        }\\n      });\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"dark\"}}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "时域分析(工作台配置文件_baogang/analysis/ti",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var dItem,kpi;\\n      var dateRangeTime =null;\\n      var subaccessConfigValues;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n\\n      var success = function () {\\n        var ci = [resource.id]; // 设备 526443915616079\\n        var modelId = [resource.modelId] // 获取modelId\\n        var accessConfigValues = resource.physicalConfig.accessConfigs;\\n        target.getAttrsByModelId(modelId, function (attrs) {\\n          var MeasurePointLocate = attrs.find(function (elem) {\\n            return elem.name == \\\"MeasurePointLocate\\\";\\n          }) || {};\\n          var triggerEvent = function () {\\n            target.trigger(\\\"drawDiagnoseFeatureEchart2\\\", {\\n              ins: dItem,\\n              kpi: kpi,\\n              dateRangeTime:dateRangeTime\\n            })\\n          }\\n          // 设备的属性表达式\\n          var sourceValue = eval(MeasurePointLocate.sourceValue)|| \\\"\\\";\\n          var sourceValueArr = [];\\n          for (var i in sourceValue) {\\n            for (var j in sourceValue[i]) {\\n              for(var k in sourceValue[i][j]){\\n                sourceValueArr.push(sourceValue[i][j][k])\\n              }\\n            }\\n          };\\n\\n\\n          // 默认第一个选中\\n          dItem = dItem || sourceValueArr[0];\\n          subaccessConfigValues = accessConfigValues.filter(function(value){\\n            return value.instance == dItem.name;\\n          })\\n\\n          target.setValue(\\\"subaccessConfigValue\\\",subaccessConfigValues[0]);\\n\\n          var render = function () {\\n            //   triggerEvent();\\n            var ctrlGroups = [\\n              [{\\n                type: \\\"label\\\",\\n                value: \\\"测点\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"select\\\",\\n                value: dItem.name,\\n                class: \\\"col-md-2\\\",\\n                on: {\\n                  change: function (elem) {\\n                    dItem = elem.value;\\n                    subaccessConfigValues = accessConfigValues.filter(function(value){\\n                      return value.instance == dItem.name;\\n                    })\\n\\n                    render();\\n                  }\\n                },\\n                options: sourceValueArr,\\n                format: {\\n                  \\\"id\\\": \\\"name\\\",\\n                  \\\"label\\\": \\\"label\\\"\\n                }\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"参数\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"select\\\",\\n                value: subaccessConfigValues.kpiId,\\n                class: \\\"col-md-2\\\",\\n                on: {\\n                  change: function (elem) {\\n                    kpi = elem.value;\\n                    triggerEvent();\\n                  }\\n                },\\n                options: subaccessConfigValues,\\n                format: {\\n                  \\\"id\\\": \\\"kpiId\\\",\\n                  \\\"label\\\": \\\"kpiName\\\"\\n                },\\n              }, {\\n                type: \\\"label\\\",\\n                value: \\\"起始时间\\\",\\n                class: \\\"col-md-1\\\",\\n                style: {\\n                  textAlign: \\\"center\\\"\\n                }\\n              }, {\\n                type: \\\"dateRangePicker\\\",\\n                value: \\\"\\\",\\n                class: \\\"col-md-3\\\",\\n                on: {\\n                  change: function (elem) {\\n                    dateRangeTime =  elem.value;\\n                    triggerEvent();\\n                  }\\n                },\\n              }, {\\n                type: \\\"button\\\",\\n                class: \\\"col-md-1\\\",\\n                btnclass: \\\"btn btn-primary\\\",\\n                value: \\\"设备信息\\\",\\n                btnStyle: {\\n                  width: \\\"100%\\\",\\n                },\\n                on: {\\n                  click: function (elem) {\\n                  }\\n                }\\n              }, {\\n                type: \\\"button\\\",\\n                class: \\\"col-md-1\\\",\\n                btnclass: \\\"btn btn-primary\\\",\\n                value: \\\"添加依据\\\",\\n                btnStyle: {\\n                  width: \\\"100%\\\",\\n                },\\n                on: {\\n                  click: function (elem) {\\n                  }\\n                }\\n              }]\\n            ];\\n            target.render(ctrlGroups);\\n          };\\n          render();\\n        })\\n      }\\n      success();\\n      target.on(\\\"tree_resourceChange\\\", function (node) {\\n        success();\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var kpi;\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      var ci = [resource.id];\\n\\n      \\n      var randerROWEchart = function (ci, kpi, time) {debugger\\n        var params = {\\n            time:time,\\n            kpiCodes:kpi,\\n            isRealTimeData:false,\\n            nodeIds:ci,\\n            startTime:\\\"2017-11-17T04:15:00.000Z\\\",\\n            endTime:\\\"2017-11-17T04:16:00.000Z\\\",\\n            transformerType:\\\"ROW\\\",\\n        }\\n         event.target.postService(\\\"kpiDataFlexService\\\", \\\"getKpiValueList\\\", [\\\"kpi\\\",params], function(returnData){debugger\\n          if (returnData) {\\n          \\n            var data = eval(returnData.data[0].value);\\n            var dataList = data[0];\\n            var valueList = data[1];\\n          \\n            // var dataList = returnData[0].value||[0];\\n            // var valueList = returnData[0].value||[0];\\n            var render = function (init, sub) {\\n              var type = target.getValue(\\\"type\\\") || 0;\\n              var x0 = target.getValue(\\\"x0\\\") || 0;\\n              var x1 = target.getValue(\\\"x1\\\") || 180;\\n              if (type == 0) {\\n                var markLine = undefined;\\n                var markPoint = undefined;\\n              } else if (type == 1) {\\n                var markLine = {\\n                  animation: false,\\n                  symbol: 'none',\\n                  silent: false,\\n                  lineStyle: {\\n                    normal: {\\n                      width: 1,\\n                      color: \\\"#436fff\\\",\\n                      type: 'solid'\\n                    }\\n                  },\\n                  label: {\\n                    normal: {\\n                      show: true,\\n                      position: 'end',\\n                      formatter: function (elem) {\\n                        return elem.data.value + \\\"Hz\\\";\\n                      }\\n                    }\\n                  },\\n                  data: (function () {\\n                    var rs = [];\\n                    for (i = 0; i < 10; i++) {\\n                      var item = {\\n                        xAxis: x0 * (i + 2) + ''\\n                      };\\n                      rs.push(item)\\n                    }\\n                    /**\\n                     for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                    return rs;\\n                  })()\\n                }\\n                var markPoint = {\\n                  symbol: \\\"circle\\\",\\n                  symbolSize: 8,\\n                  animation: false,\\n                  silent: false,\\n                  label: {\\n                    normal: {\\n                      show: false\\n                      //                        formatter: '{b}: {d}'\\n                    }\\n                  },\\n                  itemStyle: {\\n                    normal: {\\n                      color: \\\"#fff\\\",\\n                      borderColor: \\\"blue\\\"\\n                    }\\n                  },\\n                  data: (function () {\\n                    var rs = [];\\n                    for (i = 0; i < 10; i++) {\\n                      var yData = data[x0 / 1 * (i + 2)];\\n                      if (yData) {\\n                        var item = {\\n                          xAxis: x0 * (i + 2) + '',\\n                          yAxis: yData[1]\\n                        };\\n                        rs.push(item)\\n                      }\\n                    }\\n                    /**\\n                     for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                    return rs;\\n                  })()\\n                }\\n              } else if (type == 2) {\\n                var markLine = {\\n                  animation: false,\\n                  symbol: 'none',\\n                  silent: false,\\n                  lineStyle: {\\n                    normal: {\\n                      color: \\\"red\\\",\\n                      type: 'solid'\\n                    }\\n                  },\\n                  label: {\\n                    normal: {\\n                      show: true,\\n                      position: 'end',\\n                      formatter: function (elem) {\\n                        return elem.data.value + \\\"Hz\\\";\\n                      }\\n                    }\\n                  },\\n                  data: (function () {\\n                    var rs = [];\\n                    for (var i = -5; i < 5; i++) {\\n                      rs.push({\\n                        xAxis: parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                      })\\n                    }\\n                    ;\\n                    return rs;\\n                  })()\\n                };\\n                var markPoint = {\\n                  symbol: \\\"circle\\\",\\n                  symbolSize: 8,\\n                  animation: false,\\n                  silent: false,\\n                  label: {\\n                    normal: {\\n                      show: false\\n                    }\\n                  },\\n                  itemStyle: {\\n                    normal: {\\n                      color: \\\"#fff\\\",\\n                      borderColor: \\\"red\\\"\\n                    }\\n                  },\\n                  data: (function () {\\n                    var rs = [];\\n                    for (var i = -5; i < 5; i++) {\\n                      rs.push({\\n                        xAxis: parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                        yAxis: valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                      })\\n                    }\\n                    ;\\n                    return rs;\\n                  })()\\n                }\\n              }\\n              var option = {\\n                grid: [{\\n                  \\\"top\\\": \\\"10%\\\",\\n                  \\\"width\\\": \\\"90%\\\",\\n                  \\\"left\\\": \\\"5%\\\",\\n                  \\\"height\\\": \\\"65%\\\"\\n                }, {\\n                  \\\"top\\\": \\\"10%\\\",\\n                  \\\"width\\\": \\\"90%\\\",\\n                  \\\"left\\\": \\\"5%\\\",\\n                  \\\"height\\\": \\\"65%\\\"\\n                }],\\n                tooltip: {\\n                  \\\"alwaysShowContent\\\": true,\\n                  triggerOn: 'none'\\n                },\\n                xAxis: [{\\n                  data: dataList,\\n                  axisPointer: {\\n                    label: {\\n                      show: true,\\n                      formatter: function (val) {\\n                        console.log(\\\"a\\\", type);\\n                        if (val.seriesData[0]) {\\n                          target.setValue(\\\"x0\\\", val.value);\\n                          target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                          target.trigger(\\\"handleChange\\\");\\n                          console.log(\\\"a--init\\\", init);\\n                          if (type == 1) {\\n                            if (init == false) {\\n                              render();\\n                            }\\n                            ;\\n                            init = false;\\n                          }\\n                          ;\\n                        }\\n                        return val.value\\n                      }\\n                    },\\n                    lineStyle: {\\n                      color: \\\"blue\\\",\\n                      width: 2\\n                    },\\n                    handle: {\\n                      show: true,\\n                      size: 30,\\n                      margin: 40,\\n                    },\\n                    \\\"value\\\": x0,\\n                    snap: false,\\n                  }\\n                }, {\\n                  data: dataList,\\n                  axisPointer: {\\n                    label: {\\n                      formatter: function (val) {\\n                        if (val.seriesData[0]) {\\n                          target.setValue(\\\"x1\\\", val.value)\\n                          target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                          target.trigger(\\\"handleChange\\\");\\n                          if (type == 2) {\\n                            if (init == false) {\\n                              render();\\n                            }\\n                            ;\\n                            init = false;\\n                          }\\n                          ;\\n                        }\\n                        return val.value\\n                      }\\n                    },\\n                    lineStyle: {\\n                      color: \\\"red\\\",\\n                      width: 2\\n                    },\\n                    handle: {\\n                      show: true,\\n                      size: 30,\\n                      margin: 40,\\n\\n                    },\\n                    \\\"value\\\": x1,\\n                    snap: false,\\n                  },\\n                  gridIndex: 1\\n                }],\\n                yAxis: [{\\n                  splitLine: {show: true}\\n\\n                }, {\\n                  splitLine: {show: false},\\n                  gridIndex: 1\\n                }],\\n                dataZoom: [\\n                  {\\n                    show: true,\\n                    realtime: true,\\n                    start: 0,\\n                    end: 10,\\n                    xAxisIndex: [0, 1]\\n                  }\\n                ],\\n                series: [{\\n                  type: 'line',\\n                  showSymbol: false,\\n                  data: valueList,\\n                  markLine: markLine,\\n                  markPoint: markPoint\\n                }, {\\n                  type: 'line',\\n                  showSymbol: false,\\n                  lineStyle: {\\n                    normal: {\\n                      opacity: 0\\n                    }\\n                  },\\n                  data: valueList,\\n                  xAxisIndex: 1,\\n                  yAxisIndex: 1\\n                }]\\n              };\\n              target.render(option);\\n            };\\n            render();\\n            target.on(\\\"renderChart\\\", function () {\\n              render(undefined, \\\"renderChart\\\");\\n            })\\n          }\\n         })\\n        // var extension = {\\n        //   isRealTimeData:false,    \\n        //   transformerType: \\\"ROW\\\",\\n        //   startTime: \\\"2017-11-16T15:12:40.461+0000\\\",\\n        //   endTime: \\\"2017-11-16T15:12:40.461+0000\\\"\\n        // };\\n        // event.target.getKpiValueList(ci, kpi, time, function (returnData) {debugger\\n   \\n\\n\\n        // }, extension)\\n      };\\n\\n      kpi = [10000102];     //测点（指标）\\n      randerROWEchart(ci, kpi, 0); debugger\\n    //   target.off(\\\"drawDiagnoseFeatureEchart2\\\");\\n    //   target.on(\\\"drawDiagnoseFeatureEchart2\\\", function (condition) {\\n    //     kpi = [condition.kpi.dataItemId];     //测点（指标）\\n    //     randerEchart(ci, kpi, 0);\\n    //   });\\n     \\n    }\\n  }\\n}\\n\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"dark\"}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"均值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"平均幅值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"有效值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"方根幅值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"波形指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"峭度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"裕度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"峰值指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"脉冲指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"歪度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "点检异常(工作台:baogang/history/detailc",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"12px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"新建文字\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      //-----------\\n      var attr = [ 'startDate','endDate'];\\n    /*  var options1 = [\\n          {\\n          id : 0,\\n          label : \\\"助燃风机\\\"\\n      }];\\n      var options2 = [{\\n          id : 0,\\n          label : \\\"振动监测\\\"\\n      }];*/\\n      var timeSpan = null;\\n     // var opt1 = [options1[0]];\\n     // var opt2 = [options2[0]];\\n      //-----------\\n      target.setScopeValue(\\\"search\\\", {});\\n      var render = function(){\\n      /*  target.setScopeValue(\\\"search/\\\" + attr[0], {\\n          type : \\\"inside\\\",\\n          value : opt1\\n        });\\n        target.setScopeValue(\\\"search/\\\" + attr[1], {\\n          type : \\\"inside\\\",\\n          value : opt2\\n        });*/\\n        target.setScopeValue(\\\"search/\\\" + attr[0], {\\n          type : \\\"between\\\",\\n          value : timeSpan\\n        });\\n        var ctrlGroups = [\\n          [\\n           /* {\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n            type: \\\"select\\\",\\n            value: opt1[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt1 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options1,\\n            format: {\\n              \\\"id\\\": \\\"domains\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            }\\n          }, {\\n            type: \\\"label\\\",\\n            value: \\\"检测技术\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"select\\\",\\n            value: opt2[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt2 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options2,\\n            format: {\\n              \\\"id\\\": \\\"id\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            },\\n          }, */\\n          {\\n            type: \\\"label\\\",\\n            value: \\\"起始时间\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: timeSpan,\\n            class: \\\"col-md-3\\\",\\n            on: {\\n              change: function (elem) {\\n                //var start = target.dateHandler(elem.value.start);\\n                //var end = target.dateHandler(elem.value.end);\\n                timeSpan = [elem.value.start, elem.value.end];\\n                render();\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                target.trigger(\\\"search_toDolist\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        target.render(ctrlGroups);\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //自定义输入\\n      var Dictionary = {\\n        abnId :  \\\"异常联络单编号\\\",\\n        abnPhenomenon : \\\"异常现象\\\",\\n        confirmDate : \\\"异常结束时间\\\",\\n        dealSchedule : \\\"处理进度\\\",\\n        dealMode : \\\"处理方式\\\",\\n        dealUserName : \\\"处理人\\\",\\n        proposeUserName  : \\\"申请人\\\"\\n      };\\n      var resource = target.getValue(\\\"global/resource\\\");\\n      //自定义输入\\n      setTimeout(function(){\\n          event.target.postService(\\\"deviceResumeUIService\\\", \\\"getDevicePointCheckResumeListByDeviceId\\\", [resource.id,{}], function (datas) {\\n          var datas = datas.data;\\n          var render = function(){\\n            var format = [];\\n            for(var i in Dictionary){\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            var search = target.getScopeValue(\\\"search\\\");\\n            var filter = datas.filter(function(elem){\\n              for(var i in search){\\n                var type = search[i].type;\\n                var value = search[i].value;\\n                if(type == \\\"between\\\"){\\n                  if(value){\\n                    var dt = target.dateHandler(elem[i]);\\n                    var dt0 = value[0];\\n                    var dt1 = value[1];\\n                    var rs = (dt0 ? dt.after(dt0) : true) && (dt1 ? dt.before(dt1) : true);\\n                    if(!rs){\\n                      return false;\\n                    };\\n                  } else {\\n                    return true;\\n                  }\\n\\n                } else if(type == \\\"inside\\\"){\\n                  var some = value.some(function(el){\\n                    return elem[i] == el.title || elem[i] == el.label;\\n                  });\\n                  if(!some){\\n                    return false;\\n                  }\\n                } else if(type == \\\"domains\\\"){\\n                  return elem.domains.indexOf(value.domains) != -1;\\n                }\\n              };\\n              return true;\\n            })\\n            /*format.push({\\n              name : \\\"处理\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"device\\\", {\\n                      tabLabel : elem.label\\n                    });\\n\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                return \\\"\\\"\\n              }\\n            });*/\\n            target.render({\\n              data : filter,\\n              on : {\\n                rowClick : function(event){\\n                  target.createPopupBypath('analysis', {\\n                    title: \\\"诊断分析\\\",\\n                    theme : \\\"system\\\",\\n                    width: \\\"80%\\\"\\n                  }, {\\n                    message: \\\"诊断分析\\\"\\n                  })\\n                }\\n              },\\n              format : format\\n            });\\n          };\\n          target.off(\\\"search_toDolist\\\");\\n          target.on(\\\"search_toDolist\\\", function(){\\n            render();\\n          });\\n          render();\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "检测履历(工作台:baogang/history/checkhi",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      //-----------\\n      var attr = [ 'startDate','endDate'];\\n    /*  var options1 = [\\n          {\\n          id : 0,\\n          label : \\\"助燃风机\\\"\\n      }];\\n      var options2 = [{\\n          id : 0,\\n          label : \\\"振动监测\\\"\\n      }];*/\\n      var timeSpan = null;\\n     // var opt1 = [options1[0]];\\n     // var opt2 = [options2[0]];\\n      //-----------\\n      target.setScopeValue(\\\"search\\\", {});\\n      var render = function(){\\n      /*  target.setScopeValue(\\\"search/\\\" + attr[0], {\\n          type : \\\"inside\\\",\\n          value : opt1\\n        });\\n        target.setScopeValue(\\\"search/\\\" + attr[1], {\\n          type : \\\"inside\\\",\\n          value : opt2\\n        });*/\\n        target.setScopeValue(\\\"search/\\\" + attr[0], {\\n          type : \\\"between\\\",\\n          value : timeSpan\\n        });\\n        var ctrlGroups = [\\n          [\\n           /* {\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n            type: \\\"select\\\",\\n            value: opt1[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt1 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options1,\\n            format: {\\n              \\\"id\\\": \\\"domains\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            }\\n          }, {\\n            type: \\\"label\\\",\\n            value: \\\"检测技术\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"select\\\",\\n            value: opt2[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt2 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options2,\\n            format: {\\n              \\\"id\\\": \\\"id\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            },\\n          }, */\\n          {\\n            type: \\\"label\\\",\\n            value: \\\"起始时间\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: timeSpan,\\n            class: \\\"col-md-3\\\",\\n            on: {\\n              change: function (elem) {\\n                //var start = target.dateHandler(elem.value.start);\\n                //var end = target.dateHandler(elem.value.end);\\n                timeSpan = [elem.value.start, elem.value.end];\\n                render();\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                target.trigger(\\\"search_toDolist\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        target.render(ctrlGroups);\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //自定义输入\\n      var Dictionary = {\\n        trustId :  \\\"委托单号\\\",\\n        repairProjectName : \\\"标准项目名称\\\",\\n        standardProjectId : \\\"标准项目编号\\\",\\n        checkJobId  : \\\"点检岗号\\\",\\n        checkUserName  : \\\"点检姓名\\\",\\n        propseDate : \\\"需求日期\\\",\\n        applyRepairReason : \\\"请修原因\\\",\\n        beginDate: \\\"开工日期\\\",\\n        finishDate: \\\"完工日期\\\",\\n        workContent : \\\"工作内容\\\"\\n\\n      };\\n    \\n      var resource = target.getValue(\\\"global/resource\\\");\\n      //自定义输入 finishDate\\n      setTimeout(function(){\\n         event.target.postService(\\\"deviceResumeUIService\\\", \\\"getDeviceCheckResumeListByDeviceId\\\", [resource.id,{}],function (datas) {\\n          var datas = datas.data;\\n          var render = function(){\\n            var format = [];\\n            for(var i in Dictionary){\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            var search = target.getScopeValue(\\\"search\\\");\\n            var filter = datas.filter(function(elem){\\n              for(var i in search){\\n                var type = search[i].type;\\n                var value = search[i].value;\\n                if(type == \\\"between\\\"){\\n                  if(value){\\n                    var dt = target.dateHandler(elem[i]);\\n                    var dt0 = value[0];\\n                    var dt1 = value[1];\\n                    var rs = (dt0 ? dt.after(dt0) : true) && (dt1 ? dt.before(dt1) : true);\\n                    if(!rs){\\n                      return false;\\n                    };\\n                  } else {\\n                    return true;\\n                  }\\n\\n                } else if(type == \\\"inside\\\"){\\n                  var some = value.some(function(el){\\n                    return elem[i] == el.title || elem[i] == el.label;\\n                  });\\n                  if(!some){\\n                    return false;\\n                  }\\n                } else if(type == \\\"domains\\\"){\\n                  return elem.domains.indexOf(value.domains) != -1;\\n                }\\n              };\\n              return true;\\n            })\\n            format.push({\\n              name : \\\"处理\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"device\\\", {\\n                      tabLabel : elem.label\\n                    });\\n\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                return \\\"\\\"\\n              }\\n            });\\n            target.render({\\n              data : filter,\\n              on : {\\n                rowClick : function(event){\\n                  target.createPopupBypath('analysis', {\\n                    title: \\\"诊断分析\\\",\\n                    theme : \\\"system\\\",\\n                    width: \\\"80%\\\"\\n                  }, {\\n                    message: \\\"诊断分析\\\"\\n                  })\\n                }\\n              },\\n              format : format\\n            });\\n          };\\n          target.off(\\\"search_toDolist\\\");\\n          target.on(\\\"search_toDolist\\\", function(){\\n            render();\\n          });\\n          render();\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢视图-诊断分析工作台_tangyaqin",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3003],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"140\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(78, 195, 195)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"50\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"总设备数\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"2px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待诊断任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(86, 176, 242)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"诊断中任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(241, 194, 50)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"月新增设备\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"14px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"综合诊断任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3017],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"32\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(182, 161, 224)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"43\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"协同诊断任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var workObj = {};\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"tickeTaskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"分析\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      taskId: elem.row.id\\n                    }\\n                    target.navigateTo(\\\"page2\\\",param);\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"诊断报告\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      taskId: elem.row.id\\n                    }\\n                     target.setValue(\\\"taskList\\\",  workObj[elem.row.ticketNo]);\\n                    target.navigateTo(\\\"page7\\\",param);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n          target.setValue(\\\"formatTask\\\",format);\\n       target.render({\\n            data : tasks,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n       event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n    \\t\\tif(dt.code == 0){\\n    \\t\\t    var workList = dt.data;\\n    \\t\\t    for(var i in workList){\\n    \\t\\t        workObj[workList[i].ticketNo] = workList[i];\\n    \\t\\t    }\\n    \\t\\t    target.setValue(\\\"workObj\\\",workObj);\\n    \\t\\t   \\n    \\t\\t    var ticketTaskQueryModel = {\\\"taskStatus\\\":10};\\n    \\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n                    if(tc.code == 0){\\n                        var taskList = tc.data;\\n                        var taskArr = [];\\n                        for(var j in taskList){\\n                            taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                            taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                            taskList[j][\\\"tickeTaskStatus\\\"] = \\\"\\\";\\n                            if(workObj[taskList[j].ticketNo] != undefined){\\n                                if(workObj[taskList[j].ticketNo].values != undefined){\\n                                 if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                                     taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                                     taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                                     taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                                     taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                                 }\\n                                if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                                     taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                                 }\\n                                 if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                                     if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待审核\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                                     }\\n                                      \\n                                 }\\n                                }\\n                            }\\n                            taskArr.push(taskList[j]);\\n                        }\\n                         render(taskArr);\\n                    }\\n    \\t\\t          \\n    \\t\\t      })\\n    \\t\\t}else{\\n    \\t\\t event.target.growl(tc.message,\\\"error\\\");\\n            }\\n       })\\n    },\\n    query:function(event){\\n         var target = event.target;\\n         var workObj = target.getValue(\\\"workObj\\\");\\n         var format = target.getValue(\\\"formatTask\\\");\\n        var  params=event.params;\\n         console.info(\\\"params====\\\",event.params);\\n         console.info(\\\"format====\\\",format);\\n         var render = function(alertData){\\n            target.render({\\n            data : alertData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n         }\\n         var queryItem = {\\\"taskStatus\\\":\\\"10\\\",\\\"sendBeginTime\\\":params.firstTimeFrom,\\\"sendEndTime\\\":params.firstTimeTo};\\n         var jsonToString = JSON.stringify(queryItem) ;\\n         event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", eval(\\\"(\\\" + jsonToString + \\\")\\\"), function(tc){\\n             if(tc.code == 0){\\n                var taskList = tc.data;\\n                var taskArr = [];\\n                for(var j in taskList){\\n                    taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                    taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                    taskList[j][\\\"tickeTaskStatus\\\"] = \\\"\\\";\\n                    if(workObj[taskList[j].ticketNo] != undefined){\\n                        if(workObj[taskList[j].ticketNo].values != undefined){\\n                         if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                             taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                             taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                             taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                             taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                             taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                         }\\n                         if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                              if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                             }\\n                         }\\n                        }\\n                    }\\n                    taskArr.push(taskList[j]);\\n                }\\n                 render(taskArr);\\n            }\\n         })\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"complete\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"complete\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"complete\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"complete\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"任务状态：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"待分析\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"checking\\\"});\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"待审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"auditing\\\"});\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"待反馈\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"reporting\\\"});\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"已完成\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"end\\\"});\\n              }\\n            }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"已办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var workObj = {};\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"tickeTaskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"过程跟踪\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                     var param = {\\n                      ticketNo : elem.row.ticketNo\\n                    }\\n                    target.navigateTo(\\\"page11\\\",param);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n       target.setValue(\\\"completeFormat\\\",format); \\n       target.render({\\n            data : tasks,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      var taskStatusList = {};\\n        event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n    \\t\\tif(dt.code == 0){\\n    \\t\\t    var workList = dt.data;\\n    \\t\\t    for(var i in workList){\\n    \\t\\t        workObj[workList[i].ticketNo] = workList[i];\\n    \\t\\t    }\\n    \\t\\t    target.setValue(\\\"completeWorkObj\\\",workObj); \\n    \\t\\t    var ticketTaskQueryModel = {\\\"taskStatus\\\":200};\\n    \\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n                    if(tc.code == 0){\\n                        var taskList = tc.data;\\n                        var taskArr = [];\\n                        for(var j in taskList){\\n                            taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                            taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                            taskList[j][\\\"tickeTaskStatus\\\"] = \\\"\\\";\\n                            if(workObj[taskList[j].ticketNo] != undefined){\\n                                if(workObj[taskList[j].ticketNo].values != undefined){\\n                                 if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                                     taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                                     taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                                     taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                                     taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                                 }\\n                                if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                                     taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                                 }\\n                                if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                                   if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待审核\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                                     }\\n                                      \\n                                    if(taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] != undefined){\\n                                        taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                                    }else{\\n                                        taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] = [];\\n                                         taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                                    }\\n                                 }\\n                                }\\n                            }\\n                            taskArr.push(taskList[j]);\\n                        }\\n                        \\n                         target.setValue(\\\"taskStatusList\\\",taskStatusList); \\n                         render(taskArr);\\n                    }\\n    \\t\\t          \\n    \\t\\t      })\\n    \\t\\t}else{\\n    \\t\\t event.target.growl(tc.message,\\\"error\\\");\\n            }\\n       })\\n    },\\n  complete:function(event){\\n         var target = event.target;\\n         var workObj = target.getValue(\\\"completeWorkObj\\\");\\n         var format = target.getValue(\\\"completeFormat\\\");\\n        var  params=event.params;\\n         console.info(\\\"params====\\\",event.params);\\n         console.info(\\\"format====\\\",format);\\n         var render = function(alertData){\\n            target.render({\\n            data : alertData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n         }\\n         var tickeTaskStatusList = {};\\n         var queryItem = {\\\"taskStatus\\\":\\\"200\\\",\\\"sendBeginTime\\\":params.firstTimeFrom,\\\"sendEndTime\\\":params.firstTimeTo};\\n         var jsonToString = JSON.stringify(queryItem) ;\\n         event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", eval(\\\"(\\\" + jsonToString + \\\")\\\"), function(tc){\\n             if(tc.code == 0){\\n                var taskList = tc.data;\\n                var taskArr = [];\\n                for(var j in taskList){\\n                    taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                    taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                    if(workObj[taskList[j].ticketNo] != undefined){\\n                        if(workObj[taskList[j].ticketNo].values != undefined){\\n                         if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                             taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                             taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                             taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                             taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                             taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                         }\\n                         if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                             if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                             }\\n                             if(tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] != undefined){\\n                                 tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                             }else{\\n                                 tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] = [];\\n                                 tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                             }\\n                         }\\n                         \\n                        }\\n                    }\\n                    taskArr.push(taskList[j]);\\n                }\\n                 target.setValue(\\\"tickeTaskStatusList====\\\",tickeTaskStatusList); \\n                 render(taskArr);\\n            }\\n         })\\n     },\\n     taskstatusquery:function(event){\\n        var target = event.target;\\n        var getTaskList = target.getValue(\\\"taskStatusList\\\");\\n        var taskStatus = event.params.status;\\n        var format =  target.getValue(\\\"completeFormat\\\");\\n        console.info(\\\"taskStatus====\\\",taskStatus);\\n        console.info(\\\"getTaskList====\\\",getTaskList);\\n        console.info(\\\"format====\\\",format);\\n        \\n         var render = function(taskData){\\n            target.render({\\n            data : taskData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n        }\\n        if(getTaskList[taskStatus]){\\n          render(getTaskList[taskStatus]);\\n         }else{\\n           render([]);\\n         }\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}],\"col\":12},\"$$hashKey\":\"object:2665\"},{\"label\":\"设备状态\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n\\t    \\\"init\\\" : function(event){\\n\\t        var target = event.target;\\n\\t        list = [{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"0%\\\",\\n    \\t        left : \\\"10%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"3%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"55%\\\",\\n    \\t        left : \\\"15%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"50%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        }]\\n\\t        for(var i in list){\\n\\t            target.createOverlayBypath(\\\"overlay\\\", {\\n    \\t            width : list[i].width,\\n    \\t            top : list[i].top,\\n    \\t            left : list[i].left,\\n    \\t            renderTo : \\\"self\\\"\\n    \\t        })\\n\\t        }\\n\\t        \\n\\t        target.render();\\n\\t    },\\n        \\\"click\\\" : function(event){\\n          console.log(event);\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826066,\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\",\"color\":\"rgb(68, 68, 68)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 510070991266351;\\n      \\n      var render = function(id){\\n        target.getResourceById(id,function(returnData){\\n            var createGroup = function(){\\n                var prodate = target.dateHandler(returnData.values.productionDate);\\n                var current = target.dateHandler(new Date());\\n                var diff = current.minus(prodate)\\n                var ctrlGroups = [];\\n                returnData.values.productionDate = prodate.getDateString(\\\"yy-mm-dd\\\");\\n                returnData.values.runtime = target.topDateString(diff, \\\"dd天hh小时\\\");\\n                var attrNames = {\\n                    modelNo : \\\"设备型号\\\",\\n                    series : \\\"序列号\\\",\\n                    type : \\\"设备类型\\\",\\n                    brands : \\\"设备品牌\\\",\\n                    // manufacturing : \\\"生产制造方\\\",\\n                    productionDate : \\\"接入时间\\\",\\n                    runtime : \\\"运行时长\\\",\\n                    state : \\\"当前状态\\\",\\n                    scope : \\\"加工范围\\\",\\n                    density : \\\"加工精度\\\",\\n                    utilization : \\\"利用率\\\",\\n                    // conforma : \\\"一致性\\\",\\n                    yield : \\\"平均产品合格率\\\"\\n                }\\n                /**[\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备型号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.modelNo,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"序列号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.series,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备类型：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.type,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备品牌：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.brands,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"生产制造方：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.manufacturing,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"接入时间：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : prodate.getDateString(\\\"yy-mm-dd\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"运行时长：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : target.topDateString(diff, \\\"dd天hh小时\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"当前状态：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.state,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工范围：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.scope,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工精度：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.density,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"利用率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.utilization,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"一致性：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.conforma,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"平均产品合格率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :returnData.values.yield,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]*/\\n                console.log(returnData.values)\\n                for(var i in returnData.values){\\n                    if(attrNames[i]){\\n                     ctrlGroups.push([{\\n                      type : \\\"label\\\",\\n                      value : attrNames[i] + \\\"：\\\",\\n                      style : {\\n                        \\\"text-align\\\" : \\\"right\\\",\\n                        \\\"font-weight\\\" : \\\"500\\\",\\n                        \\\"color\\\" : \\\"#939393\\\"\\n                      }\\n                    },{\\n                      type : \\\"label\\\",\\n                      value : returnData.values[i],\\n                      style : {\\n                        \\\"text-align\\\" : \\\"left\\\",\\n                        \\\"font-weight\\\" : \\\"600\\\",\\n                        \\\"color\\\" : \\\"#0980db\\\",\\n                        \\\"line-height\\\" : \\\"30px\\\"\\n                      }\\n                    }])\\n                  };\\n                };\\n              event.target.render(ctrlGroups);\\n            }\\n          createGroup();\\n        })\\n      }\\n      \\n      \\n      \\n      /* 请求接口的方法\\n      target.on(\\\"production_resource_changed\\\", function(resourceId){\\n        render(resourceId)\\n      });\\n      render(id);\\n      */\\n      \\n    var groupData = [\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"机组：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"合成气压缩机组\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"轴承:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"测点名称:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"转速:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"9440\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"通频值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"25.18\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"1X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.42\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"2X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"0.70\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"0.5X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.01\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"GAP电压:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-10.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"有效值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"7.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标序号:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"512\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标时间:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"07:23:32\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\" 波形值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-12.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"幅值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"频率\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"倍频\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.00\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"67\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"单位\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"um\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]\\n        ];\\n     event.target.render(groupData);\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警通知\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}]}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:6278\"},{\"label\":\"分析-综合趋势\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\r\\n  on: {\\r\\n    init: function (event) {\\r\\n      var target = event.target;\\r\\n      var global = event.global;\\r\\n      var target = event.target;\\r\\n      var global = event.global;\\r\\n      console.info(\\\"taskId====\\\", event.target.getParameter(\\\"taskId\\\"));\\r\\n      event.target.getDomainsByFilter({\\r\\n        modelIds: [301, 302]\\r\\n      }, function (obj) {\\r\\n        var projects = obj.filter(function (elem) {\\r\\n          return elem.modelId == 302;\\r\\n        })\\r\\n        var customers = obj.filter(function (elem) {\\r\\n          return elem.modelId == 301;\\r\\n        })\\r\\n        event.target.getDevicesByCondition({}, function (devices) {\\r\\n          var ctrlGroups = [\\r\\n            [{\\r\\n              type: \\\"label\\\",\\r\\n              value: \\\"起始时间\\\",\\r\\n              class: \\\"col-md-1\\\",\\r\\n              style: {\\r\\n                textAlign: \\\"center\\\"\\r\\n              }\\r\\n            }, {\\r\\n              type: \\\"dateRangePicker\\\",\\r\\n              value: \\\"\\\",\\r\\n              class: \\\"col-md-3\\\",\\r\\n              on: {\\r\\n                change: function (elem) {\\r\\n                  console.log(elem);\\r\\n                }\\r\\n              },\\r\\n            }, {\\r\\n              type: \\\"button\\\",\\r\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\r\\n              btnclass: \\\"btn btn-primary\\\",\\r\\n              value: \\\"设备信息\\\",\\r\\n              btnStyle: {\\r\\n                width: \\\"100px\\\",\\r\\n              }\\r\\n            },\\r\\n              {\\r\\n                type: \\\"button\\\",\\r\\n                class: \\\"col-md-1 col-md-offset-1\\\",\\r\\n                btnclass: \\\"btn btn-primary\\\",\\r\\n                value: \\\"填写报告\\\",\\r\\n                btnStyle: {\\r\\n                  width: \\\"100px\\\",\\r\\n                },\\r\\n                on: {\\r\\n                  click: function (elem) {\\r\\n                    var taskId = event.target.getParameter(\\\"taskId\\\");\\r\\n                    if (taskId) {\\r\\n                      event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function (tc) {\\r\\n                        if (tc.code == 0) {\\r\\n                          console.info(\\\"getTicketTaskById====\\\", tc.data);\\r\\n                          var param = {\\r\\n                            taskId: taskId,\\r\\n                            taskList: tc.data\\r\\n                          }\\r\\n                          target.navigateTo(\\\"page7\\\", param);\\r\\n                        } else {\\r\\n                          event.target.growl(tc.message, \\\"info\\\");\\r\\n                        }\\r\\n                      })\\r\\n                    }\\r\\n                  }\\r\\n                }\\r\\n              }]\\r\\n          ];\\r\\n          event.target.render(ctrlGroups);\\r\\n        });\\r\\n      });\\r\\n    },\\r\\n    highlight: function (event) {\\r\\n      console.info(\\\"param===\\\", event.params);\\r\\n    }\\r\\n  }\\r\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":10}]}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:7992\"},{\"label\":\"分析-特征趋势\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      var taskId = event.target.getParameter(\\\"taskId\\\");\\n      var taskList = event.target.getParameter(\\\"taskList\\\");\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备分析\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"信号分析\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                  if (taskId) {\\n                    var param = {\\n                     taskId: taskId\\n                    }\\n                    target.navigateTo(\\\"page7\\\", param);\\n                   \\n                  }\\n                }\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:8617\"},{\"label\":\"分析-时域分析\",\"path\":\"page4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 \\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"添加依据\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"15px\",\"border\":\"1px solid #eee\",\"border-top\":0},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var dataList = (function(){\\n        var rs = [];\\n        var inx = 0;\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          rs.push(inx + \\\"\\\");\\n          inx ++;\\n        }\\n        return rs;\\n      })();\\n      var valueList = (function(){\\n        var rs = [];\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          var nu = 0;\\n          for(var j=0; j<8; j++){\\n            nu += (Math.pow((1 / (j+1)), 3) * Math.sin(i * Math.pow(3 ,j))) * 10 + Math.random() * 1.3;\\n          };\\n          rs.push(nu.toFixed(2));\\n        };\\n        return rs;\\n      })();\\n      var data = [];\\n      for (var i = 0; i < dataList.length; i++) {\\n        data.push([dataList[i], valueList[i]])\\n      }\\n      var dateList = data.map(function (item) {\\n        return item[0];\\n      });\\n      var valueList = data.map(function (item) {\\n        return item[1];\\n      });\\n      var render = function(init, sub){\\n          console.log(\\\"init\\\", init, sub);\\n        var type = target.getValue(\\\"type\\\") || 0;\\n        var x0 = target.getValue(\\\"x0\\\") || 0;\\n        var x1 = target.getValue(\\\"x1\\\") || 180;\\n        if(type == 0){\\n            var markLine = undefined;\\n            var markPoint = undefined;\\n        } else if(type == 1){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                  width : 1,\\n                  color : \\\"#436fff\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n              normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var item = {\\n                    xAxis: x0 * (i + 2) + ''\\n                  };\\n                  rs.push(item)\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n            var markPoint = {\\n                symbol : \\\"circle\\\",\\n                symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n    //                        formatter: '{b}: {d}'\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"blue\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var yData = data[x0 / 1 * (i + 2)];\\n                  if (yData) {\\n                    var item = {\\n                      xAxis: x0 * (i + 2) + '',\\n                      yAxis: yData[1]\\n                    };\\n                    rs.push(item)\\n                  }\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n        } else if(type == 2){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                    color : \\\"red\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n                normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                    xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                  })\\n                };\\n                return rs;\\n              })()\\n            };\\n            var markPoint = {\\n              symbol : \\\"circle\\\",\\n              symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"red\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                      xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                      yAxis : valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                  })\\n                };\\n                return rs;\\n              })()\\n            }\\n        };\\n        var option = {\\n          grid: [{\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }, {\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }],\\n          tooltip: {\\n            \\\"alwaysShowContent\\\": true,\\n            triggerOn: 'none'\\n          },\\n          xAxis: [{\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                show: true,\\n                formatter: function (val) {\\n                    console.log(\\\"a\\\", type);\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x0\\\", val.value);\\n                    target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    console.log(\\\"a--init\\\", init);\\n                    if(type == 1){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"blue\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n              },\\n              \\\"value\\\": x0,\\n              snap: false,\\n            }\\n          }, {\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x1\\\", val.value)\\n                    target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 2){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"red\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n\\n              },\\n              \\\"value\\\": x1,\\n              snap: false,\\n            },\\n            gridIndex: 1\\n          }],\\n          yAxis: [{\\n            splitLine: {show: true}\\n\\n          }, {\\n            splitLine: {show: false},\\n            gridIndex: 1\\n          }],\\n          dataZoom: [\\n            {\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n              xAxisIndex: [0,1]\\n            }\\n          ],\\n          series: [{\\n            type: 'line',\\n            showSymbol: false,\\n            data:valueList,\\n            markLine : markLine,\\n            markPoint : markPoint\\n          }, {\\n            type: 'line',\\n            showSymbol: false,\\n            lineStyle : {\\n              normal : {\\n                opacity : 0\\n              }\\n            },\\n            data:valueList,\\n            xAxisIndex: 1,\\n            yAxisIndex: 1\\n          }]\\n        };\\n        option\\n        target.render(option);\\n      };\\n      render();\\n      target.on(\\\"renderChart\\\", function(){\\n          render(undefined, \\\"renderChart\\\");\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"default\"}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"均值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"平均幅值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"有效值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"方根幅值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"波形指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"峭度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"裕度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"峰值指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"脉冲指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"歪度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:8704\"},{\"label\":\"分析-频域波形\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 \\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"添加依据\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"15px\",\"border\":\"1px solid #eee\",\"border-top\":0},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":7},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      var render = function(){\\n          var type = target.getValue(\\\"type\\\") || 0;\\n          var feature = target.getValue(\\\"type\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"radio\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"200px\\\"\\n              },\\n              value : 1,\\n              options : [{\\n                  id : 0,\\n                  label : \\\"显示谱峰\\\"\\n              },{\\n                  id : 1,\\n                  label : \\\"不显示\\\"\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"倍频\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : type == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 1){\\n                          target.setValue(\\\"type\\\", 1);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"边带\\\",\\n                icon : \\\"glyphicon glyphicon-list\\\",\\n                btnclass : type == 2 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 2){\\n                          target.setValue(\\\"type\\\", 2);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"特征值\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : feature == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      \\n                  }\\n                }\\n              }]\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      };\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":5}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var dataList = (function(){\\n        var rs = [];\\n        var inx = 0;\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          rs.push(inx + \\\"\\\");\\n          inx ++;\\n        }\\n        return rs;\\n      })();\\n      var valueList = (function(){\\n        var rs = [];\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          var nu = 0;\\n          for(var j=0; j<8; j++){\\n            nu += (Math.pow((1 / (j+1)), 3) * Math.sin(i * Math.pow(3 ,j))) * 10 + Math.random() * 1.3;\\n          };\\n          rs.push(nu.toFixed(2));\\n        };\\n        return rs;\\n      })();\\n      var data = [];\\n      for (var i = 0; i < dataList.length; i++) {\\n        data.push([dataList[i], valueList[i]])\\n      }\\n      var dateList = data.map(function (item) {\\n        return item[0];\\n      });\\n      var valueList = data.map(function (item) {\\n        return item[1];\\n      });\\n      var render = function(init, sub){\\n          console.log(\\\"init\\\", init, sub);\\n        var type = target.getValue(\\\"type\\\") || 0;\\n        var x0 = target.getValue(\\\"x0\\\") || 0;\\n        var x1 = target.getValue(\\\"x1\\\") || 180;\\n        if(type == 0){\\n            var markLine = undefined;\\n            var markPoint = undefined;\\n        } else if(type == 1){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                  width : 1,\\n                  color : \\\"#436fff\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n              normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var item = {\\n                    xAxis: x0 * (i + 2) + ''\\n                  };\\n                  rs.push(item)\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n            var markPoint = {\\n                symbol : \\\"circle\\\",\\n                symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n    //                        formatter: '{b}: {d}'\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"blue\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var yData = data[x0 / 1 * (i + 2)];\\n                  if (yData) {\\n                    var item = {\\n                      xAxis: x0 * (i + 2) + '',\\n                      yAxis: yData[1]\\n                    };\\n                    rs.push(item)\\n                  }\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n        } else if(type == 2){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                    color : \\\"red\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n                normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                    xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                  })\\n                };\\n                return rs;\\n              })()\\n            };\\n            var markPoint = {\\n              symbol : \\\"circle\\\",\\n              symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"red\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                      xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                      yAxis : valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                  })\\n                };\\n                return rs;\\n              })()\\n            }\\n        };\\n        var option = {\\n          grid: [{\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }, {\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }],\\n          tooltip: {\\n            \\\"alwaysShowContent\\\": true,\\n            triggerOn: 'none'\\n          },\\n          xAxis: [{\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                show: true,\\n                formatter: function (val) {\\n                    console.log(\\\"a\\\", type);\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x0\\\", val.value);\\n                    target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    console.log(\\\"a--init\\\", init);\\n                    if(type == 1){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"blue\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n              },\\n              \\\"value\\\": x0,\\n              snap: false,\\n            }\\n          }, {\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x1\\\", val.value)\\n                    target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 2){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"red\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n\\n              },\\n              \\\"value\\\": x1,\\n              snap: false,\\n            },\\n            gridIndex: 1\\n          }],\\n          yAxis: [{\\n            splitLine: {show: true}\\n\\n          }, {\\n            splitLine: {show: false},\\n            gridIndex: 1\\n          }],\\n          dataZoom: [\\n            {\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n              xAxisIndex: [0,1]\\n            }\\n          ],\\n          series: [{\\n            type: 'line',\\n            showSymbol: false,\\n            data:valueList,\\n            markLine : markLine,\\n            markPoint : markPoint\\n          }, {\\n            type: 'line',\\n            showSymbol: false,\\n            lineStyle : {\\n              normal : {\\n                opacity : 0\\n              }\\n            },\\n            data:valueList,\\n            xAxisIndex: 1,\\n            yAxisIndex: 1\\n          }]\\n        };\\n        option\\n        target.render(option);\\n      };\\n      render();\\n      target.on(\\\"renderChart\\\", function(){\\n          render(undefined, \\\"renderChart\\\");\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"default\"}}],\"col\":9},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"border\":\"1px solid #eee\",\"min-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [];\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n      var createTr = function(){\\n        return [{\\n          type : \\\"jquery\\\",\\n          render : function(){\\n              var div = $(\\\"<div></div>\\\");\\n              div.width(20);\\n              div.height(20);\\n              div.css(\\\"background-color\\\", randomText([\\\"orange\\\", \\\"red\\\"]));\\n              div.css(\\\"border-radius\\\", \\\"50%\\\");\\n              return div;\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"Z1 0.00/0.09\\\",\\n          style : {\\n              \\\"margin-left\\\" : \\\"20px\\\"\\n          }\\n        }]\\n      }\\n      for(var i = 0; i < 5; i++){\\n          ctrlGroups.push(createTr());\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}}],\"col\":3}]}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:8737\"},{\"label\":\"分析-诊断履历\",\"path\":\"page6\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"检测技术\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"检修对象\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"报警时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"异常信息来源\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"反馈人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"检测技术\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"collect\\\",\\n              label : \\\"工艺状况\\\",\\n              render : function(){\\n                  return randomText(['电流300A','轴承温度55度'])\\n              }\\n          },{\\n              name : \\\"unusual\\\",\\n              label : \\\"异常现象\\\",\\n              render : function(){ \\n                 return  randomText(['泵体输入侧轴承振动超标','泵体输入两轴承振动超标']) \\n            }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:8776\"},{\"label\":\"诊断-报告编制\",\"path\":\"page7\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var workObj = target.getValue(\\\"taskList\\\");\\n      console.info(\\\"workObj===\\\",workObj);\\n      var dName = \\\"设备名称:\\\";\\n      var numberD = \\\"设备编号:\\\";\\n      if(workObj.values.devName != undefined){\\n         dName = \\\"设备名称:\\\"+workObj.values.devName+\\\"\\\";\\n      }\\n      if(workObj.values.deviceId != undefined){\\n        numberD = \\\"设备编号:\\\"+workObj.values.deviceId+\\\"\\\";\\n      }\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : dName,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : numberD,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var taskId = event.target.getParameter(\\\"taskId\\\");\\n      var taskList = target.getValue(\\\"taskList\\\");\\n      var protocol = window.location.protocol;\\n      var host = window.location.host;\\n      var lc= protocol+\\\"//\\\"+host;\\n      var myDicts = {};\\n      console.info(\\\"pathname====\\\",window.location.protocol);\\n      var imagesObj = {\\\"label\\\":\\\"\\\",\\\"value\\\":\\\"\\\"};\\n      var imagesList = [];\\n      var fileObj = {\\\"label\\\":\\\"\\\",\\\"value\\\":\\\"\\\"};\\n      var fileList = [];\\n      \\n       var ctrlGroupsObj = {};\\n      ctrlGroupsObj[\\\"alertTitle\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\",\\n        class:\\\"col-md-2\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.alertTitle != undefined){\\n                event.global.detailTask.values.alertTitle = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"abnPhenomenon\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.abnPhenomenon != undefined){\\n                event.global.detailTask.values.abnPhenomenon = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];;\\n      ctrlGroupsObj[\\\"technicsStatus\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.technicsStatus != undefined){\\n                event.global.detailTask.values.technicsStatus = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"position\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.position != undefined){\\n                event.global.detailTask.values.position = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"attention\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.attention != undefined){\\n                event.global.detailTask.values.attention = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"standard\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.standard != undefined){\\n                event.global.detailTask.values.standard = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"basis\\\"] =  [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.basis != undefined){\\n                event.global.detailTask.values.basis = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"basisImage\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n          type : \\\"uploadFile2\\\",\\n          icon : \\\"glyphicon glyphicon-file\\\",\\n          class : \\\"col-md-6\\\",\\n          group : \\\"enterprisesImages\\\",\\n          groupId:\\\"uploadImg\\\",\\n          on : {\\n            submit : function(elem){\\n                event.target.growl(\\\"上传文件成功\\\",\\\"success\\\");\\n              //这里返回上传文件的全局变量，属性里面有服务器地址\\n              console.log(\\\"上传文件成功\\\", elem);\\n              $(\\\"#uploadImg\\\").before(\\\"<img src='\\\"+lc+\\\"\\\"+elem.value+\\\"' style='width: 200px;height: 200px;' />\\\");\\n              imagesObj.label = elem.label;\\n              imagesObj.value = elem.value;\\n              if(event.global.detailTask.values && event.global.detailTask.values.basisImage != undefined){\\n                imagesList.push(imagesObj);\\n                event.global.detailTask.values.basisImage = imagesList;\\n             }\\n            }\\n          }\\n        }];\\n      ctrlGroupsObj[\\\"statusGrade\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       options :[],\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.statusGrade != undefined){\\n                event.global.detailTask.values.statusGrade = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"abnPosition\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.abnPosition != undefined){\\n                event.global.detailTask.values.abnPosition = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"failureRepairReson\\\"] =   [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.failureRepairReson != undefined){\\n                event.global.detailTask.values.failureRepairReson = elem.value.valueCode;\\n             }\\n          }\\n        },\\n       options : [],\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"multipleConclusion\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [],\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.multipleConclusion != undefined){\\n                event.global.detailTask.values.multipleConclusion = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"cessingScheme\\\"] =[{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n       options : [],\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.cessingScheme != undefined){\\n                event.global.detailTask.values.cessingScheme = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"auditor\\\"] =[{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"选择人\\\",\\n       options : [],\\n        on : {\\n          change : function(elem){\\n            console.info(\\\"abnPhenomenon===\\\",elem.value);\\n             if(event.global.detailTask.values && event.global.detailTask.values.auditor != undefined){\\n                event.global.detailTask.values.auditor = elem.value.valueCode;\\n             }\\n          }\\n        },\\n        format : {\\n          \\\"id\\\" : \\\"valueCode\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"attUpload\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n          type : \\\"uploadFile2\\\",\\n          icon : \\\"glyphicon glyphicon-file\\\",\\n          class : \\\"col-md-6\\\",\\n          group : \\\"enterprisesImages\\\",\\n          fileFormat:\\\"|xls|xlsx|txt|docx|doc|\\\",\\n          groupId:\\\"uploadFileDis\\\",\\n          on : {\\n            submit : function(elem){\\n                event.target.growl(\\\"上传文件成功\\\",\\\"success\\\");\\n              //这里返回上传文件的全局变量，属性里面有服务器地址\\n              console.log(\\\"上传文件成功\\\", elem);\\n              $(\\\"#uploadFileDis\\\").before(\\\"<a href='\\\"+lc+\\\"\\\"+elem.value+\\\"'>\\\"+elem.label+\\\"</a>\\\");\\n              fileObj.label = elem.label;\\n              fileObj.value = elem.value;\\n              if(event.global.detailTask.values && event.global.detailTask.values.attUpload != undefined){\\n                fileList.push(fileObj);\\n                event.global.detailTask.values.attUpload = fileList;\\n             }\\n            }\\n          }\\n        }];\\n      var ctrlGroups = [];\\n      \\n         event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n             if(returnObj.code == 0){\\n                  var dic = {};\\n                    for(var i in returnObj.data) {\\n                      var obj = returnObj.data[i];\\n                      if(dic[obj.dictCode]) {\\n                        dic[obj.dictCode].push(obj);\\n                      } else {\\n                        dic[obj.dictCode] = [];\\n                        dic[obj.dictCode].push(obj);\\n                      }\\n                    }\\n                    for(var items in dic) {\\n                      myDicts[items] = dic[items];\\n                    }\\n                   event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n                    if(tc.code == 0){\\n                     console.info(\\\"getTicketTaskById====\\\",tc.data);\\n                     if(tc.data.attributeDefinitions.length > 0){\\n                         var attrAry = tc.data.attributeDefinitions;\\n                         for(var i in attrAry){\\n                             ctrlGroupsObj[attrAry[i].label][0].value= attrAry[i].name;\\n                             if(myDicts[attrAry[i].label]){\\n                               ctrlGroupsObj[attrAry[i].label][1].options = myDicts[attrAry[i].label];\\n                               if(tc.data.variables[attrAry[i].label]){\\n                                ctrlGroupsObj[attrAry[i].label][1].value = tc.data.variables[attrAry[i].label];\\n                               }\\n                             }\\n                             ctrlGroups.push(ctrlGroupsObj[attrAry[i].label]);\\n                             if(tc.data.values){\\n                                if(tc.data.variables[attrAry[i].label]){\\n                                 tc.data.values[attrAry[i].label] = tc.data.variables[attrAry[i].label];\\n                                }else{\\n                                 tc.data.values[attrAry[i].label] = \\\"\\\";\\n                                }\\n                             }else{\\n                                tc.data.values = {};\\n                                if(tc.data.variables[attrAry[i].label]){\\n                                 tc.data.values[attrAry[i].label] = tc.data.variables[attrAry[i].label];\\n                                }else{\\n                                 tc.data.values[attrAry[i].label] = \\\"\\\";\\n                                }\\n                             }\\n                         }\\n                     }\\n                     event.global.fire(\\\"savetask\\\",tc.data)\\n                     if(tc.data && tc.data.variables != undefined){\\n                        if(tc.data.variables.auditOpinion){\\n                          var auditObj =  [{\\n                                            type : \\\"label\\\",\\n                                            value : \\\"审核意见\\\"\\n                                          },{\\n                                            type : \\\"textarea\\\",\\n                                            disabled:true,\\n                                            value : tc.data.variables.auditOpinion\\n                                          }];\\n                        ctrlGroups.push(auditObj);\\n                        }\\n                     }\\n                     \\n                    console.info(\\\"ctrlGroups======\\\",ctrlGroups);\\n                     event.target.render(ctrlGroups);\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                  })\\n             }\\n         });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"提   交\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var checkStatus = true;\\n                console.info(\\\"提交======\\\",event.global.detailTask);\\n               if(event.global.detailTask.values && event.global.detailTask.values.alertTitle !=undefined){\\n                 if(!event.global.detailTask.values.alertTitle){\\n                     event.target.growl(\\\"请选择设备告警信息\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n                if(event.global.detailTask.values && event.global.detailTask.values.abnPhenomenon !=undefined){\\n                 if(!event.global.detailTask.values.abnPhenomenon){\\n                     event.target.growl(\\\"请选择异常现象\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.technicsStatus !=undefined){\\n                 if(!event.global.detailTask.values.technicsStatus){\\n                     event.target.growl(\\\"请选择工艺状况\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.position !=undefined){\\n                 if(!event.global.detailTask.values.position){\\n                     event.target.growl(\\\"请选择检测部位\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.attention !=undefined){\\n                 if(!event.global.detailTask.values.attention){\\n                     event.target.growl(\\\"请选择注意事项\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.standard !=undefined){\\n                 if(!event.global.detailTask.values.standard){\\n                     event.target.growl(\\\"请选择判断标准\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.basis !=undefined){\\n                 if(!event.global.detailTask.values.basis){\\n                     event.target.growl(\\\"请选择判断依据\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.statusGrade !=undefined){\\n                 if(!event.global.detailTask.values.statusGrade){\\n                     event.target.growl(\\\"请选择综合状态等级\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.failureRepairReson !=undefined){\\n                 if(!event.global.detailTask.values.failureRepairReson){\\n                     event.target.growl(\\\"请选择故障产生原因\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.multipleConclusion !=undefined){\\n                 if(!event.global.detailTask.values.multipleConclusion){\\n                     event.target.growl(\\\"请选择综合判断结论\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n               if(event.global.detailTask.values && event.global.detailTask.values.cessingScheme !=undefined){\\n                 if(!event.global.detailTask.values.cessingScheme){\\n                     event.target.growl(\\\"请选择处理方案建议\\\",\\\"warning\\\");\\n                     checkStatus = false;\\n                     return;\\n                 }\\n                }\\n                if(checkStatus){\\n                    event.global.detailTask.taskStatus = 200;\\n                    event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", event.global.detailTask, function(tc){\\n                        if(tc.code == 0){\\n                          event.target.growl(\\\"报诊断报告提交成功，等待审核\\\",\\\"success\\\");\\n                          target.navigateTo(\\\"page0\\\");\\n                        }else{\\n                \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                        }\\n                    })\\n                }\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"取   消\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                target.navigateTo(\\\"page0\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"7\",\"$$hashKey\":\"object:628\"},{\"label\":\"诊断-多专业诊断\",\"path\":\"page8\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"报警记录\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"诊断申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"专业类型\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"多专业诊断\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"8\",\"$$hashKey\":\"object:1224\"},{\"label\":\"诊断-协同诊断\",\"path\":\"page9\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"协同人\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"协同申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"状态\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"9\",\"$$hashKey\":\"object:1444\"},{\"label\":\"诊断-视频诊断\",\"path\":\"page10\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"视频诊断申请\\\",\\n          class:\\\"col-md-2\\\",\\n          style:{\\n              width:\\\"200px\\\",\\n              fontSize:\\\"16px\\\",\\n              fontWeight:\\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"设备信息：\\\",\\n          class:\\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : \\\"\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"报警信息:\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 会诊人员\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],\\n         [{\\n          type : \\\"button\\\",\\n          colSpan:2,\\n          value : \\\"发起视频诊断\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n      \\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n \\n     \\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"10\",\"$$hashKey\":\"object:1576\"},{\"label\":\"过程历史\",\"path\":\"page11\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"按钮\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"page0\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"}},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n  width : \\\"100%\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = event.target.getParameter(\\\"ticketNo\\\");\\n      console.log(\\\"ticketNo===\\\"+ticketNo);\\n    var ctrlGroups = [\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[{\\nvalue : \\\"<a href='#'>报警产生</a>\\\"\\n},{\\nvalue : \\\"报警类型：振动报警\\\"\\n},{\\nvalue : \\\"报警级别：警告\\\"\\n},{\\nvalue : \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user bg-aqua bg-orange\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]}\\n];   \\nvar dateToString = function(now){  \\n    var year = now.getFullYear();  \\n    var month =(now.getMonth() + 1).toString();  \\n    var day = (now.getDate()).toString();  \\n    var hour = (now.getHours()).toString();  \\n    var minute = (now.getMinutes()).toString();  \\n    var second = (now.getSeconds()).toString();  \\n    if (month.length == 1) {  \\n        month = \\\"0\\\" + month;  \\n    }  \\n    if (day.length == 1) {  \\n        day = \\\"0\\\" + day;  \\n    }  \\n    if (hour.length == 1) {  \\n        hour = \\\"0\\\" + hour;  \\n    }  \\n    if (minute.length == 1) {  \\n        minute = \\\"0\\\" + minute;  \\n    }  \\n    if (second.length == 1) {  \\n        second = \\\"0\\\" + second;  \\n    }  \\n     var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day +\\\" \\\"+ hour +\\\":\\\"+minute+\\\":\\\"+second;  \\n     return dateTime;  \\n  }  \\n if(ticketNo){\\n\\n        event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\",[ticketNo], function(dt){\\n          if(dt.code == 0){\\n            var ticketHistoryList = dt.data;\\n            var arr = [];\\n            console.info(\\\"ticketHistoryList===\\\",ticketHistoryList);\\n            for(var i in ticketHistoryList){\\n            var cantentList = [];\\n            var historyList = {time:\\\"\\\",icon:\\\"\\\",disList:\\\"\\\"};\\n             if(ticketHistoryList[i].logType == \\\"startEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n             }\\n             if(ticketHistoryList[i].logType == \\\"endEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"cancelEvent\\\"){\\n                 historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                 cantentList.push({\\\"value\\\":\\\"已撤销\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"userTask\\\"){\\n                 if(ticketHistoryList[i].ticketTask.taskStatus == 200){\\n                     historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                 }else{\\n                      historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                 }\\n                 var taskRemark = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined){\\n                     taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                 }\\n                 var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                 cantentList.push({\\\"value\\\":\\\"<a>\\\"+ticketHistoryList[i].message+\\\"</a>\\\"});\\n                 cantentList.push({\\\"value\\\":\\\"处理人:\\\"+handlerName+\\\"\\\"});\\n                 var foramTime = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.finishedTime){\\n                   foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                 }\\n                 console.log(\\\"处理时间==\\\"+ticketHistoryList[i].ticketTask.finishedTime);\\n                cantentList.push({\\\"value\\\":\\\"处理时间:\\\"+foramTime+\\\"\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"serviceTask\\\"){\\n                 historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                 cantentList.push({\\\"value\\\":\\\"处理人:系统\\\"});\\n             }\\n             historyList.disList = cantentList;\\n             arr.push(historyList);\\n            }\\n            console.info(\\\"处理====\\\",arr);\\n            event.target.render(arr);\\n          }else{\\n            console.log(\\\"接口异常\\\");\\n          }\\n        })\\n      }else{\\n          event.target.render(ctrlGroups);\\n      }\\n\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"}}],\"col\":12},\"id\":\"11\",\"$$hashKey\":\"object:1639\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢视图-审核工作台_tangyaqin",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3003],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"140\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(78, 195, 195)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"50\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"总设备数\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"2px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待审核任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(86, 176, 242)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"审核中任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(241, 194, 50)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"月新增设备\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"14px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"周审核任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3017],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"32\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(182, 161, 224)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"43\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"审核通过率\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待处理任务\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var workObj = {};\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"tickeTaskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"分析\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      taskId: elem.row.id\\n                    }\\n                    target.navigateTo(\\\"page2\\\",param);\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"诊断报告\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      taskId: elem.row.id\\n                    }\\n                     target.setValue(\\\"taskList\\\",  workObj[elem.row.ticketNo]);\\n                     target.navigateTo(\\\"page3\\\",param);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n          target.setValue(\\\"formatTask\\\",format);\\n       target.render({\\n            data : tasks,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n       event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n    \\t\\tif(dt.code == 0){\\n    \\t\\t    var workList = dt.data;\\n    \\t\\t    for(var i in workList){\\n    \\t\\t        workObj[workList[i].ticketNo] = workList[i];\\n    \\t\\t    }\\n    \\t\\t    target.setValue(\\\"workObj\\\",workObj);\\n    \\t\\t   \\n    \\t\\t    var ticketTaskQueryModel = {\\\"taskStatus\\\":10};\\n    \\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n                    if(tc.code == 0){\\n                        var taskList = tc.data;\\n                        var taskArr = [];\\n                        for(var j in taskList){\\n                            taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                            taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                            taskList[j][\\\"tickeTaskStatus\\\"] = \\\"\\\";\\n                            if(workObj[taskList[j].ticketNo] != undefined){\\n                                if(workObj[taskList[j].ticketNo].values != undefined){\\n                                 if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                                     taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                                     taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                                     taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                                     taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                                 }\\n                                if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                                     taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                                 }\\n                                 if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                                     if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待审核\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                                     }\\n                                      \\n                                 }\\n                                }\\n                            }\\n                            taskArr.push(taskList[j]);\\n                        }\\n                         render(taskArr);\\n                    }\\n    \\t\\t          \\n    \\t\\t      })\\n    \\t\\t}else{\\n    \\t\\t event.target.growl(tc.message,\\\"error\\\");\\n            }\\n       })\\n    },\\n    query:function(event){\\n         var target = event.target;\\n         var workObj = target.getValue(\\\"workObj\\\");\\n         var format = target.getValue(\\\"formatTask\\\");\\n        var  params=event.params;\\n         console.info(\\\"params====\\\",event.params);\\n         console.info(\\\"format====\\\",format);\\n         var render = function(alertData){\\n            target.render({\\n            data : alertData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n         }\\n         var queryItem = {\\\"taskStatus\\\":\\\"10\\\",\\\"sendBeginTime\\\":params.firstTimeFrom,\\\"sendEndTime\\\":params.firstTimeTo};\\n         var jsonToString = JSON.stringify(queryItem) ;\\n         event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", eval(\\\"(\\\" + jsonToString + \\\")\\\"), function(tc){\\n             if(tc.code == 0){\\n                var taskList = tc.data;\\n                var taskArr = [];\\n                for(var j in taskList){\\n                    taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                    taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                    taskList[j][\\\"tickeTaskStatus\\\"] = \\\"\\\";\\n                    if(workObj[taskList[j].ticketNo] != undefined){\\n                        if(workObj[taskList[j].ticketNo].values != undefined){\\n                         if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                             taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                             taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                             taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                             taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                             taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                         }\\n                         if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                              if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                             }\\n                         }\\n                        }\\n                    }\\n                    taskArr.push(taskList[j]);\\n                }\\n                 render(taskArr);\\n            }\\n         })\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"complete\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"complete\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"complete\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"complete\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"任务状态：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"待分析\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"checking\\\"});\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"待审核\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"auditing\\\"});\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"待反馈\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"reporting\\\"});\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"已完成\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                event.global.fire(\\\"taskstatusquery\\\",{\\\"status\\\":\\\"end\\\"});\\n              }\\n            }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"任务列表\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var workObj = {};\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"tickeTaskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"过程跟踪\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                     var param = {\\n                      ticketNo : elem.row.ticketNo\\n                    }\\n                    target.navigateTo(\\\"page7\\\",param);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n       target.setValue(\\\"completeFormat\\\",format); \\n       target.render({\\n            data : tasks,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      var taskStatusList = {};\\n        event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n    \\t\\tif(dt.code == 0){\\n    \\t\\t    var workList = dt.data;\\n    \\t\\t    for(var i in workList){\\n    \\t\\t        workObj[workList[i].ticketNo] = workList[i];\\n    \\t\\t    }\\n    \\t\\t    target.setValue(\\\"completeWorkObj\\\",workObj); \\n    \\t\\t    var ticketTaskQueryModel = {\\\"taskStatus\\\":200};\\n    \\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n                    if(tc.code == 0){\\n                        var taskList = tc.data;\\n                        var taskArr = [];\\n                        for(var j in taskList){\\n                            taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                            taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                            taskList[j][\\\"tickeTaskStatus\\\"] = \\\"\\\";\\n                            if(workObj[taskList[j].ticketNo] != undefined){\\n                                if(workObj[taskList[j].ticketNo].values != undefined){\\n                                 if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                                     taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                                     taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                                     taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                                     taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                                 }\\n                                if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                                     taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                                 }\\n                                if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                                   if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待审核\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                                     }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                         taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                                     }\\n                                      \\n                                    if(taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] != undefined){\\n                                        taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                                    }else{\\n                                        taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] = [];\\n                                         taskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                                    }\\n                                 }\\n                                }\\n                            }\\n                            taskArr.push(taskList[j]);\\n                        }\\n                        \\n                         target.setValue(\\\"taskStatusList\\\",taskStatusList); \\n                         render(taskArr);\\n                    }\\n    \\t\\t          \\n    \\t\\t      })\\n    \\t\\t}else{\\n    \\t\\t event.target.growl(tc.message,\\\"error\\\");\\n            }\\n       })\\n    },\\n  complete:function(event){\\n         var target = event.target;\\n         var workObj = target.getValue(\\\"completeWorkObj\\\");\\n         var format = target.getValue(\\\"completeFormat\\\");\\n        var  params=event.params;\\n         console.info(\\\"params====\\\",event.params);\\n         console.info(\\\"format====\\\",format);\\n         var render = function(alertData){\\n            target.render({\\n            data : alertData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n         }\\n         var tickeTaskStatusList = {};\\n         var queryItem = {\\\"taskStatus\\\":\\\"200\\\",\\\"sendBeginTime\\\":params.firstTimeFrom,\\\"sendEndTime\\\":params.firstTimeTo};\\n         var jsonToString = JSON.stringify(queryItem) ;\\n         event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", eval(\\\"(\\\" + jsonToString + \\\")\\\"), function(tc){\\n             if(tc.code == 0){\\n                var taskList = tc.data;\\n                var taskArr = [];\\n                for(var j in taskList){\\n                    taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                    taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                    taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                    if(workObj[taskList[j].ticketNo] != undefined){\\n                        if(workObj[taskList[j].ticketNo].values != undefined){\\n                         if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                             taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                             taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                             taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                             taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                         }\\n                           if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                             taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                         }\\n                         if(workObj[taskList[j].ticketNo].values.tickeTaskStatus != undefined){\\n                             if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"checking\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"auditing\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待分析\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"reporting\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"待反馈\\\";\\n                             }else if(workObj[taskList[j].ticketNo].values.tickeTaskStatus == \\\"end\\\"){\\n                                 taskList[j].tickeTaskStatus = \\\"已完成\\\";\\n                             }\\n                             if(tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] != undefined){\\n                                 tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                             }else{\\n                                 tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus] = [];\\n                                 tickeTaskStatusList[workObj[taskList[j].ticketNo].values.tickeTaskStatus].push(taskList[j]);\\n                             }\\n                         }\\n                         \\n                        }\\n                    }\\n                    taskArr.push(taskList[j]);\\n                }\\n                 target.setValue(\\\"tickeTaskStatusList====\\\",tickeTaskStatusList); \\n                 render(taskArr);\\n            }\\n         })\\n     },\\n     taskstatusquery:function(event){\\n        var target = event.target;\\n        var getTaskList = target.getValue(\\\"taskStatusList\\\");\\n        var taskStatus = event.params.status;\\n        var format =  target.getValue(\\\"completeFormat\\\");\\n        console.info(\\\"taskStatus====\\\",taskStatus);\\n        console.info(\\\"getTaskList====\\\",getTaskList);\\n        console.info(\\\"format====\\\",format);\\n        \\n         var render = function(taskData){\\n            target.render({\\n            data : taskData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n        }\\n        if(getTaskList[taskStatus]){\\n          render(getTaskList[taskStatus]);\\n         }else{\\n           render([]);\\n         }\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]}],\"col\":12},\"$$hashKey\":\"object:2665\"},{\"label\":\"设备状态\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n\\t    \\\"init\\\" : function(event){\\n\\t        var target = event.target;\\n\\t        list = [{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"0%\\\",\\n    \\t        left : \\\"10%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"3%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"55%\\\",\\n    \\t        left : \\\"15%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"50%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        }]\\n\\t        for(var i in list){\\n\\t            target.createOverlayBypath(\\\"overlay\\\", {\\n    \\t            width : list[i].width,\\n    \\t            top : list[i].top,\\n    \\t            left : list[i].left,\\n    \\t            renderTo : \\\"self\\\"\\n    \\t        })\\n\\t        }\\n\\t        \\n\\t        target.render();\\n\\t    },\\n        \\\"click\\\" : function(event){\\n          console.log(event);\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826066,\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\",\"color\":\"rgb(68, 68, 68)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 510070991266351;\\n      \\n      var render = function(id){\\n        target.getResourceById(id,function(returnData){\\n            var createGroup = function(){\\n                var prodate = target.dateHandler(returnData.values.productionDate);\\n                var current = target.dateHandler(new Date());\\n                var diff = current.minus(prodate)\\n                var ctrlGroups = [];\\n                returnData.values.productionDate = prodate.getDateString(\\\"yy-mm-dd\\\");\\n                returnData.values.runtime = target.topDateString(diff, \\\"dd天hh小时\\\");\\n                var attrNames = {\\n                    modelNo : \\\"设备型号\\\",\\n                    series : \\\"序列号\\\",\\n                    type : \\\"设备类型\\\",\\n                    brands : \\\"设备品牌\\\",\\n                    // manufacturing : \\\"生产制造方\\\",\\n                    productionDate : \\\"接入时间\\\",\\n                    runtime : \\\"运行时长\\\",\\n                    state : \\\"当前状态\\\",\\n                    scope : \\\"加工范围\\\",\\n                    density : \\\"加工精度\\\",\\n                    utilization : \\\"利用率\\\",\\n                    // conforma : \\\"一致性\\\",\\n                    yield : \\\"平均产品合格率\\\"\\n                }\\n                /**[\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备型号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.modelNo,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"序列号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.series,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备类型：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.type,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备品牌：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.brands,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"生产制造方：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.manufacturing,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"接入时间：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : prodate.getDateString(\\\"yy-mm-dd\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"运行时长：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : target.topDateString(diff, \\\"dd天hh小时\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"当前状态：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.state,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工范围：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.scope,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工精度：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.density,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"利用率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.utilization,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"一致性：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.conforma,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"平均产品合格率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :returnData.values.yield,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]*/\\n                console.log(returnData.values)\\n                for(var i in returnData.values){\\n                    if(attrNames[i]){\\n                     ctrlGroups.push([{\\n                      type : \\\"label\\\",\\n                      value : attrNames[i] + \\\"：\\\",\\n                      style : {\\n                        \\\"text-align\\\" : \\\"right\\\",\\n                        \\\"font-weight\\\" : \\\"500\\\",\\n                        \\\"color\\\" : \\\"#939393\\\"\\n                      }\\n                    },{\\n                      type : \\\"label\\\",\\n                      value : returnData.values[i],\\n                      style : {\\n                        \\\"text-align\\\" : \\\"left\\\",\\n                        \\\"font-weight\\\" : \\\"600\\\",\\n                        \\\"color\\\" : \\\"#0980db\\\",\\n                        \\\"line-height\\\" : \\\"30px\\\"\\n                      }\\n                    }])\\n                  };\\n                };\\n              event.target.render(ctrlGroups);\\n            }\\n          createGroup();\\n        })\\n      }\\n      \\n      \\n      \\n      /* 请求接口的方法\\n      target.on(\\\"production_resource_changed\\\", function(resourceId){\\n        render(resourceId)\\n      });\\n      render(id);\\n      */\\n      \\n    var groupData = [\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"机组：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"合成气压缩机组\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"轴承:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"测点名称:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"转速:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"9440\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"通频值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"25.18\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"1X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.42\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"2X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"0.70\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"0.5X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.01\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"GAP电压:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-10.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"有效值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"7.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标序号:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"512\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标时间:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"07:23:32\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\" 波形值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-12.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"幅值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"频率\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"倍频\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.00\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"67\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"单位\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"um\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]\\n        ];\\n     event.target.render(groupData);\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警通知\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}]}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:6278\"},{\"label\":\"分析\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            },\\n             {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":10}]}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:7992\"},{\"label\":\"诊断-报告编制\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var workObj = target.getValue(\\\"taskList\\\");\\n      console.info(\\\"workObj===\\\",workObj);\\n      var dName = \\\"设备名称:\\\";\\n      var numberD = \\\"设备编号:\\\";\\n      if(workObj.values.devName != undefined){\\n         dName = \\\"设备名称:\\\"+workObj.values.devName+\\\"\\\";\\n      }\\n      if(workObj.values.deviceId != undefined){\\n        numberD = \\\"设备编号:\\\"+workObj.values.deviceId+\\\"\\\";\\n      }\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : dName,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : numberD,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var taskId = event.target.getParameter(\\\"taskId\\\");\\n      var taskList = target.getValue(\\\"taskList\\\");\\n      var protocol = window.location.protocol;\\n      var host = window.location.host;\\n      var lc= protocol+\\\"//\\\"+host;\\n      var myDicts = {};\\n      console.info(\\\"pathname====\\\",window.location.protocol);\\n       var ctrlGroupsObj = {};\\n     \\n      var ctrlGroups = [];\\n      \\n         event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n             if(returnObj.code == 0){\\n                  var dic = {};\\n                    for(var i in returnObj.data) {\\n                      var obj = returnObj.data[i];\\n                      if(dic[obj.dictCode]) {\\n                        dic[obj.dictCode].push(obj);\\n                      } else {\\n                        dic[obj.dictCode] = [];\\n                        dic[obj.dictCode].push(obj);\\n                      }\\n                    }\\n                    for(var items in dic) {\\n                      myDicts[items] = dic[items];\\n                    }\\n                   event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n                    if(tc.code == 0){\\n                         ctrlGroupsObj = tc.data.variables;\\n                    console.info(\\\"myDicts======\\\",tc.data);\\n                    if(ctrlGroupsObj.alertTitle !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"设备告警信息\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.alertTitle\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.abnPhenomenon !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"异常现象\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.abnPhenomenon\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.technicsStatus !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"工艺状况\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.technicsStatus\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.position !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"检测部位\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.position\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.attention !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"注意事项\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.attention\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.standard !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断标准\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.standard\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.basis !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断依据\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.basis\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.basisImage !=undefined){\\n                        var str = \\\"\\\";\\n                        if(ctrlGroupsObj.basisImage.length >0){\\n                           var arr = ctrlGroupsObj.basisImage;\\n                           for(var j in arr){\\n                               str +=\\\"<img src='\\\"+lc+\\\"\\\"+arr[j].value+\\\"' style='width: 200px;height: 200px;margin-right: 10px;' />\\\";\\n                           }\\n                        }\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"判断依据图片\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"customHtml\\\",\\n                                disabled:true,\\n                                value : str\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.statusGrade !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"综合状态等级\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.statusGrade\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.abnPosition !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"异常部位\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.abnPosition\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.failureRepairReson !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"故障产生原因\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.failureRepairReson\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.multipleConclusion !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"综合判断结论\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.multipleConclusion\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.cessingScheme !=undefined){\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"处理方案建议\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"input\\\",\\n                                disabled:true,\\n                                value : ctrlGroupsObj.cessingScheme\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                    if(ctrlGroupsObj.attUpload !=undefined){\\n                         var str = \\\"\\\";\\n                        if(ctrlGroupsObj.attUpload.length >0){\\n                           var arr = ctrlGroupsObj.attUpload;\\n                           for(var j in arr){\\n                               str +=\\\"<a href='\\\"+lc+\\\"\\\"+arr[j].value+\\\"'>\\\"+arr[j].label+\\\"</a>\\\";\\n                           }\\n                        }\\n                      var obj = [{\\n                                type : \\\"label\\\",\\n                                value : \\\"附件\\\",\\n                                class:\\\"col-md-2\\\"\\n                              },{\\n                                type : \\\"customHtml\\\",\\n                                disabled:true,\\n                                value : str\\n                              }]\\n                    ctrlGroups.push(obj);\\n                    }\\n                     event.global.fire(\\\"savetask\\\",tc.data)\\n                     event.target.render(ctrlGroups);\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                  })\\n             }\\n         });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"通   过\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                \\n                var obj = {\\\"isAudit\\\":1,\\\"auditOpinion\\\":\\\"\\\"};\\n                event.global.detailTask.taskStatus = 200;\\n               event.global.detailTask.values = obj;\\n                console.info(\\\"通   过======\\\",event.global.detailTask);\\n                  var taskObj = {\\\"detailTask\\\":event.global.detailTask};\\n                  target.createPopupBypath(\\\"popup\\\", {\\n                        title : \\\"审核\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        on : {\\n                          submit : function(data){\\n                           console.info(\\\"submitsubmit====\\\",data);\\n                           if(data.statuc == \\\"success\\\"){\\n                            target.navigateTo(\\\"page0\\\");\\n                           }\\n                          }\\n                        }\\n                      }, taskObj);\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"驳   回\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                  var obj = {\\\"isAudit\\\":0,\\\"auditOpinion\\\":\\\"\\\"};\\n                   event.global.detailTask.taskStatus = 200;\\n                   event.global.detailTask.values = obj;\\n                 console.info(\\\"驳   回======\\\",event.global.detailTask);\\n                 var taskObj = {\\\"detailTask\\\":event.global.detailTask};\\n                  target.createPopupBypath(\\\"popup\\\", {\\n                        title : \\\"审核\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        on : {\\n                          submit : function(data){\\n                           if(data.statuc == \\\"success\\\"){\\n                            target.navigateTo(\\\"page0\\\");\\n                           }\\n                          }\\n                        }\\n                      }, taskObj);\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1223\"},{\"label\":\"诊断-多专业诊断\",\"path\":\"page4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"报警记录\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"诊断申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"专业类型\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"多专业诊断\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:1271\"},{\"label\":\"诊断-协同诊断\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"协同人\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"协同申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"状态\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:1304\"},{\"label\":\"诊断-视频诊断\",\"path\":\"page6\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"视频诊断申请\\\",\\n          class:\\\"col-md-2\\\",\\n          style:{\\n              width:\\\"200px\\\",\\n              fontSize:\\\"16px\\\",\\n              fontWeight:\\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"设备信息：\\\",\\n          class:\\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : \\\"\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"报警信息:\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 会诊人员\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],\\n         [{\\n          type : \\\"button\\\",\\n          colSpan:2,\\n          value : \\\"发起视频诊断\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n      \\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n \\n     \\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:1343\"},{\"label\":\"过程历史\",\"path\":\"page7\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"page0\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"}},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n  width : \\\"100%\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = event.target.getParameter(\\\"ticketNo\\\");\\n      console.log(\\\"ticketNo===\\\"+ticketNo);\\n    var ctrlGroups = [\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[{\\nvalue : \\\"<a href='#'>报警产生</a>\\\"\\n},{\\nvalue : \\\"报警类型：振动报警\\\"\\n},{\\nvalue : \\\"报警级别：警告\\\"\\n},{\\nvalue : \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user bg-aqua bg-orange\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]}\\n];   \\nvar dateToString = function(now){  \\n    var year = now.getFullYear();  \\n    var month =(now.getMonth() + 1).toString();  \\n    var day = (now.getDate()).toString();  \\n    var hour = (now.getHours()).toString();  \\n    var minute = (now.getMinutes()).toString();  \\n    var second = (now.getSeconds()).toString();  \\n    if (month.length == 1) {  \\n        month = \\\"0\\\" + month;  \\n    }  \\n    if (day.length == 1) {  \\n        day = \\\"0\\\" + day;  \\n    }  \\n    if (hour.length == 1) {  \\n        hour = \\\"0\\\" + hour;  \\n    }  \\n    if (minute.length == 1) {  \\n        minute = \\\"0\\\" + minute;  \\n    }  \\n    if (second.length == 1) {  \\n        second = \\\"0\\\" + second;  \\n    }  \\n     var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day +\\\" \\\"+ hour +\\\":\\\"+minute+\\\":\\\"+second;  \\n     return dateTime;  \\n  }  \\n if(ticketNo){\\n\\n        event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\",[ticketNo], function(dt){\\n          if(dt.code == 0){\\n            var ticketHistoryList = dt.data;\\n            var arr = [];\\n            console.info(\\\"ticketHistoryList===\\\",ticketHistoryList);\\n            for(var i in ticketHistoryList){\\n            var cantentList = [];\\n            var historyList = {time:\\\"\\\",icon:\\\"\\\",disList:\\\"\\\"};\\n             if(ticketHistoryList[i].logType == \\\"startEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n             }\\n             if(ticketHistoryList[i].logType == \\\"endEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"cancelEvent\\\"){\\n                 historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                 cantentList.push({\\\"value\\\":\\\"已撤销\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"userTask\\\"){\\n                 if(ticketHistoryList[i].ticketTask.taskStatus == 200){\\n                     historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                 }else{\\n                      historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                 }\\n                 var taskRemark = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined){\\n                     taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                 }\\n                 var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                 cantentList.push({\\\"value\\\":\\\"<a>\\\"+ticketHistoryList[i].message+\\\"</a>\\\"});\\n                 cantentList.push({\\\"value\\\":\\\"处理人:\\\"+handlerName+\\\"\\\"});\\n                 var foramTime = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.finishedTime){\\n                   foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                 }\\n                 console.log(\\\"处理时间==\\\"+ticketHistoryList[i].ticketTask.finishedTime);\\n                cantentList.push({\\\"value\\\":\\\"处理时间:\\\"+foramTime+\\\"\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"serviceTask\\\"){\\n                 historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                 cantentList.push({\\\"value\\\":\\\"处理人:系统\\\"});\\n             }\\n             historyList.disList = cantentList;\\n             arr.push(historyList);\\n            }\\n            console.info(\\\"处理====\\\",arr);\\n            event.target.render(arr);\\n          }else{\\n            console.log(\\\"接口异常\\\");\\n          }\\n        })\\n      }else{\\n          event.target.render(ctrlGroups);\\n      }\\n\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"}}],\"col\":12},\"id\":\"7\",\"$$hashKey\":\"object:796\"},{\"label\":\"审核弹出框处理\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var params = target.getPopupData().detailTask;\\n       console.info(\\\"alertObj===\\\",params);\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"审核意见:\\\",\\n          type : \\\"textarea\\\",\\n           on : {\\n            change : function(elem){\\n                params.values.auditOpinion = elem.value;\\n              console.info(\\\"备注====\\\",params)\\n              \\n            }\\n          }\\n        }\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        obj.on = item.on;\\n        return [labelObj, obj];\\n      }\\n      for(var i in Dic){\\n        ctrlGroups.push(loop(Dic[i]))\\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        style:{\\\"text-align\\\":\\\"right\\\"},\\n        on : {\\n          click : function(elem){\\n              if(params.values.auditOpinion){\\n                event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params, function(tc){\\n                    if(tc.code == 0){\\n                      event.target.growl(\\\"审核意见提交成功\\\",\\\"success\\\");\\n                        target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n            \\t\\t   target.submit({\\\"statuc\\\":\\\"error\\\"});\\n                    }\\n                }) \\n              }else{\\n                 event.target.growl(\\\"请填写审核意见\\\",\\\"warning\\\");  \\n              }\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-default\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n              target.submit({\\\"statuc\\\":\\\"error\\\"});\\n          }\\n        }\\n      }])\\n      console.log()\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":12},\"id\":\"8\",\"$$hashKey\":\"object:1694\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢诊断分析一级框架_tangyaqin",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      var ROLE = 1;\\n      if(ROLE == 0){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/alert/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/alert/area\\\"\\n          }];\\n      } else if(ROLE == 1){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 2,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 3,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 4,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 2){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/corporation/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          }];\\n      }  else if(ROLE == 3){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"审核\\\",\\n            default : \\\"baogang/critisize\\\"\\n          },{\\n            id : 2,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 3,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 4,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 5,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      }\\n      \\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n          CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\"\\n      // ------------------- 初始化内容在这里设置\\n      var target = event.target;\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        //console.log(\\\"trigger\\\", 40);\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n              var viewTitle = item.label + \\\"(工作台_\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n              target.getAllMyViews(function(views){\\n                 var find = views.find(function(view){\\n                     viewTitle == view.viewTitle;\\n                 });\\n                 if(find){\\n                     item.viewId = find.viewId;\\n                     callback(find);\\n                 } else {\\n                    target.addView({\\n                      viewTitle : item.label + \\\"(工作台_\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                      viewType : \\\"dashboard\\\",\\n                      content : json ? json : null,\\n                    }, function(data){\\n                      item.viewId = data.data.viewId;\\n                      callback(data);\\n                    }) \\n                 }\\n              });\\n            \\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                //console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.indexOf(elem);\\n                  render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  //select(elem)\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            \\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1\\n                //select(concat[target.tabInx]);\\n            };\\n            select(concat[target.tabInx]);\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n                class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            var find = json.groups.find(function(elem){\\n              return elem.path == path;\\n            });\\n            json.layout = find.layout;\\n            target.render(json);\\n          });\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(view){\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\"},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"导航页\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"导航页\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"},{\"label\":\"诊断申请弹出框\",\"path\":\"popup1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var params = target.getPopupData().resource;\\n      var myDicts = target.getPopupData().dicts;\\n      var user = target.getPopupData().user;\\n      var ticket = {\\\"title\\\":\\\"\\\",\\\"priorityCode\\\":100,\\\"ticketNo\\\":\\\"\\\",\\\"category\\\":\\\"70\\\",\\\"ticketCategoryId\\\":\\\"\\\",\\\"values\\\":{},\\\"deviceId\\\":params.id,\\\"faultId\\\":\\\"\\\", \\\"message\\\":\\\"\\\"};\\n      var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"设备信息\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"input\\\",\\n            class:\\\"col-md-9\\\",\\n            disabled:true,\\n            value:params.label,\\n            on : {\\n              change : function(elem){\\n                console.info(\\\"abnPhenomenon===\\\",elem.value);\\n              }\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"报警信息\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                console.info(\\\"abnPhenomenon===\\\",elem.value);\\n                 if(event.global.detailTask.values){\\n                    event.global.detailTask.values[\\\"parentTicketNo\\\"] = elem.value.taskNo;\\n                    event.global.detailTask.title = elem.value.alertTitle;\\n                    event.global.detailTask.message = elem.value.message;\\n                 }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"taskNo\\\",\\n              \\\"label\\\" : \\\"alertTitle\\\"\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"会诊专业\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                console.info(\\\"abnPhenomenon===\\\",elem.value);\\n                if(event.global.detailTask.values){\\n                    event.global.detailTask.values[\\\"specialtyType\\\"] = elem.value.valueCode;\\n                }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"valueCode\\\",\\n              \\\"label\\\" : \\\"label\\\"\\n            }\\n          }],\\n        //   [{\\n        //     type : \\\"label\\\",\\n        //     value : \\\"会诊人员\\\",\\n        //     class:\\\"col-md-2\\\"\\n        //   },{\\n        //     type : \\\"select\\\",\\n        //     value : \\\"请选择\\\",\\n        //     on : {\\n        //       change : function(elem){\\n        //         console.info(\\\"abnPhenomenon===\\\",elem.value);\\n        //         if(event.global.detailTask.values){\\n        //             event.global.detailTask.values[\\\"participant\\\"] = elem.value.userID;\\n        //         }\\n        //       }\\n        //     },\\n        //     options : [],\\n        //     format : {\\n        //       \\\"id\\\" : \\\"userID\\\",\\n        //       \\\"label\\\" : \\\"userName\\\"\\n        //     }\\n        //   }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"完成时限\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values){\\n                  event.global.detailTask.values[\\\"timeLimit\\\"] = elem.value.valueCode;\\n                }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"valueCode\\\",\\n              \\\"label\\\" : \\\"label\\\"\\n            }\\n          }]\\n      ];\\n      \\n    //   event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n    //      if(returnObj.code == 0){\\n    //         var dic = {};\\n    //         for(var i in returnObj.data) {\\n    //           var obj = returnObj.data[i];\\n    //           if(dic[obj.dictCode]) {\\n    //             dic[obj.dictCode].push(obj);\\n    //           } else {\\n    //             dic[obj.dictCode] = [];\\n    //             dic[obj.dictCode].push(obj);\\n    //           }\\n    //         }\\n    //         for(var items in dic) {\\n    //           myDicts[items] = dic[items];\\n    //         }\\n           ctrlGroups[2][1].options = myDicts[\\\"specialtyProps\\\"];\\n          ctrlGroups[3][1].options = myDicts[\\\"finshTimeType\\\"];\\n        //   ctrlGroups[3][1].options = user;\\n            var ticketTaskQueryModel = {\\\"taskStatus\\\":10};\\n\\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n\\t\\t        if(tc.code == 0){\\n\\t\\t          var list = tc.data;\\n\\t\\t          var array = [];\\n\\t\\t          for(var j in list){\\n\\t\\t              var obj = {\\\"taskNo\\\":\\\"\\\",\\\"alertTitle\\\":\\\"\\\"};\\n\\t\\t              if(list[j].variables && list[j].variables.ticketNo){\\n\\t\\t                obj.taskNo = list[j].variables.ticketNo;\\n\\t\\t              }\\n\\t\\t              if(list[j].variables && list[j].variables.alertTitle){\\n\\t\\t                obj.alertTitle = list[j].variables.alertTitle;\\n\\t\\t              }else{\\n\\t\\t               obj.alertTitle = list[j].ticketTitle;  \\n\\t\\t              }\\n\\t\\t             array.push(obj);\\n\\t\\t          }\\n\\t\\t          ctrlGroups[1][1].options = array;\\n\\t\\t          \\n\\t              event.target.postService(\\\"ticketCategoryService\\\", \\\"getTicketCategorys\\\", [], function(tc){\\n                    if(tc.code == 0){\\n                    var ticketData = tc.data;\\n                    var ticketSort = [];\\n                    for(var t in ticketData){\\n            \\t     if(ticketData[t].category == 70){\\n            \\t    \\tticketSort.push(ticketData[t]);\\n            \\t\\t }\\n            \\t\\t}\\n                  \\tticketSort.sort(function(a, b){\\n                       return a.createTime < b.createTime ? 1 : -1;\\n                    });\\n                    ticketCategorys = ticketSort[0];\\n            \\t\\tconsole.info(\\\"queren===\\\",ticketCategorys);\\n            \\t\\tticket.ticketCategoryId = ticketCategorys.id;\\n            \\t    event.global.fire(\\\"savetask\\\",ticket)\\n                    target.render(ctrlGroups);  \\n                    }else{\\n                        console.log(\\\"流程关联接口异常\\\");\\n                    }\\n                  })\\n\\t\\t        }\\n\\t\\t  //  });\\n        // }\\n    })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"提   交\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            style: {\\n                width:\\\"600\\\",\\n                textAlign: \\\"right\\\"\\n            },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var checkStatus = true;\\n                console.info(\\\"提交======\\\",event.global.detailTask);\\n                  event.target.postService(\\\"userLoginUIService\\\", \\\"getCurrentUser\\\",null, function(user){\\n                    if(user.code == 0){\\n                        if(event.global.detailTask.values){\\n                            event.global.detailTask.values[\\\"sponsor\\\"] = user.data.userID;\\n                        }\\n                        event.target.postService(\\\"ticketTaskService\\\", \\\"commitTicket\\\", event.global.detailTask, function(tc){\\n                            if(tc.code == 0){\\n                              event.target.growl(\\\"诊断申请发送成功\\\",\\\"success\\\");\\n                              target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                            //   target.navigateTo(\\\"page0\\\");\\n                            }else{\\n                    \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                            }\\n                        })\\n                    }\\n                  })\\n                // }\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"取   消\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n             style: {\\n                width:\\\"400\\\",\\n                textAlign: \\\"left\\\"\\n            },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                target.submit({\\\"statuc\\\":\\\"success\\\"});\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:795\"},{\"label\":\"协同工作的弹出框\",\"path\":\"popup2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var myDicts = target.getPopupData().dicts;\\n      var params = target.getPopupData().resource;\\n      var userList = target.getPopupData().user;\\n      var ticket = {\\\"title\\\":\\\"\\\",\\\"priorityCode\\\":100,\\\"ticketNo\\\":\\\"\\\",\\\"category\\\":\\\"60\\\",\\\"ticketCategoryId\\\":\\\"\\\",\\\"values\\\":{},\\\"deviceId\\\":params.id,\\\"faultId\\\":\\\"\\\", \\\"message\\\":\\\"\\\"};\\n      var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"设备信息\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"input\\\",\\n            class:\\\"col-md-9\\\",\\n            disabled:true,\\n            value:params.label,\\n            on : {\\n              change : function(elem){\\n                console.info(\\\"abnPhenomenon===\\\",elem.value);\\n              }\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"报警信息\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                 if(event.global.detailTask.values){\\n                    event.global.detailTask.values[\\\"parentTicketNo\\\"] = elem.value.taskNo;\\n                    event.global.detailTask.title = elem.value.alertTitle;\\n                 }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"taskNo\\\",\\n              \\\"label\\\" : \\\"alertTitle\\\"\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"会诊人员\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values){\\n                    event.global.detailTask.values[\\\"participant\\\"] = elem.value.userID;\\n                }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"userID\\\",\\n              \\\"label\\\" : \\\"userName\\\"\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"完成时限\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values){\\n                  event.global.detailTask.values[\\\"timeLimit\\\"] = elem.value.valueCode;\\n                }\\n              }\\n            },\\n            options : [],\\n            format : {\\n              \\\"id\\\" : \\\"valueCode\\\",\\n              \\\"label\\\" : \\\"label\\\"\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"原因分析\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"textarea\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values){\\n                  event.global.detailTask.values[\\\"causes\\\"] = elem.value;\\n                }\\n              }\\n            }\\n          }],\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"结论\\\",\\n            class:\\\"col-md-2\\\"\\n          },{\\n            type : \\\"textarea\\\",\\n            on : {\\n              change : function(elem){\\n                if(event.global.detailTask.values){\\n                  event.global.detailTask.values[\\\"conclusion\\\"] = elem.value;\\n                }\\n              }\\n            }\\n          }]\\n      ];\\n      \\n    //   event.target.postService(\\\"dictionaryService\\\", \\\"getAllDicts\\\", [], function(returnObj){\\n    //      if(returnObj.code == 0){\\n    //         var dic = {};\\n    //         for(var i in returnObj.data) {\\n    //           var obj = returnObj.data[i];\\n    //           if(dic[obj.dictCode]) {\\n    //             dic[obj.dictCode].push(obj);\\n    //           } else {\\n    //             dic[obj.dictCode] = [];\\n    //             dic[obj.dictCode].push(obj);\\n    //           }\\n    //         }\\n    //         for(var items in dic) {\\n    //           myDicts[items] = dic[items];\\n    //         }\\n            var ticketTaskQueryModel = {\\\"taskStatus\\\":10};\\n\\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByCondition\\\", ticketTaskQueryModel, function(tc){\\n\\t\\t        if(tc.code == 0){\\n\\t\\t          var list = tc.data;\\n\\t\\t          ctrlGroups[2][1].options = userList;\\n                  ctrlGroups[3][1].options = myDicts[\\\"finshTimeType\\\"];\\n\\t\\t          var array = [];\\n\\t\\t          for(var j in list){\\n\\t\\t              var obj = {\\\"taskNo\\\":\\\"\\\",\\\"alertTitle\\\":\\\"\\\"};\\n\\t\\t              if(list[j].variables && list[j].variables.ticketNo){\\n\\t\\t                obj.taskNo = list[j].variables.ticketNo;\\n\\t\\t              }\\n\\t\\t              if(list[j].variables && list[j].variables.alertTitle){\\n\\t\\t                obj.alertTitle = list[j].variables.alertTitle;\\n\\t\\t              }else{\\n\\t\\t               obj.alertTitle = list[j].ticketTitle;  \\n\\t\\t              }\\n\\t\\t             array.push(obj);\\n\\t\\t          }\\n\\t\\t          ctrlGroups[1][1].options = array;\\n\\t\\t          \\n\\t              event.target.postService(\\\"ticketCategoryService\\\", \\\"getTicketCategorys\\\", [], function(tc){\\n                    if(tc.code == 0){\\n                    var ticketData = tc.data;\\n                    var ticketSort = [];\\n                    for(var t in ticketData){\\n            \\t     if(ticketData[t].category == 60){\\n            \\t    \\tticketSort.push(ticketData[t]);\\n            \\t\\t }\\n            \\t\\t}\\n                  \\tticketSort.sort(function(a, b){\\n                       return a.createTime < b.createTime ? 1 : -1;\\n                    });\\n                    ticketCategorys = ticketSort[0];\\n            \\t\\tticket.ticketCategoryId = ticketCategorys.id;\\n            \\t    event.global.fire(\\\"savetask\\\",ticket)\\n                    target.render(ctrlGroups);  \\n                    }else{\\n                        console.log(\\\"流程关联接口异常\\\");\\n                    }\\n                  })\\n\\t\\t        }\\n\\t\\t    });\\n    //     }\\n    // })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"提   交\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            style: {\\n                width:\\\"600\\\",\\n                textAlign: \\\"right\\\"\\n            },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var checkStatus = true;\\n                console.info(\\\"提交======\\\",event.global.detailTask);\\n                 event.target.postService(\\\"userLoginUIService\\\", \\\"getCurrentUser\\\",null, function(user){\\n                    if(user.code == 0){\\n                        if(event.global.detailTask.values){\\n                            event.global.detailTask.values[\\\"sponsor\\\"] = user.data.userID;\\n                        }\\n                        event.target.postService(\\\"ticketTaskService\\\", \\\"commitTicket\\\", event.global.detailTask, function(tc){\\n                            if(tc.code == 0){\\n                              event.target.growl(\\\"协同诊断申请发送成功\\\",\\\"success\\\");\\n                              target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                            }else{\\n                    \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                            }\\n                        })\\n                    }else{\\n            \\t\\t event.target.growl(user.message,\\\"info\\\");\\n                    }\\n                })\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"取   消\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n             style: {\\n                width:\\\"400\\\",\\n                textAlign: \\\"left\\\"\\n            },\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                target.submit({\\\"statuc\\\":\\\"success\\\"});\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:989\"},{\"label\":\"临时设备视频诊断申请\",\"path\":\"popup4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"设备名称\\\",\\n          type : \\\"input\\\"\\n        },\\n        abnormal : {\\n          label : \\\"设备类别\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        position : {\\n          label : \\\"制造商\\\",\\n          type : \\\"input\\\",\\n         \\n        },\\n        notice : {\\n          label : \\\"规格型号\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"10 h\\\"\\n          }]\\n        },\\n        major : {\\n          label : \\\"额定转速\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        conclusion : {\\n          label : \\\"设备模板\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n         measurenum : {\\n          label : \\\"测点数量\\\",\\n          type : \\\"input\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n         measureninfo : {\\n          label : \\\"报警信息\\\",\\n          type : \\\"input\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n          persion: {\\n          label : \\\"会诊人员\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n          time: {\\n          label : \\\"会诊时间\\\",\\n          type : \\\"datePicker\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n         time: {\\n          label : \\\"备注\\\",\\n          type : \\\"textarea\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        }\\n      \\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n          \\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        console.log(item)\\n        if(item.type == \\\"position\\\"){\\n         return [labelObj, obj, {\\n          type : \\\"button\\\",\\n          value : \\\"\\\",\\n          icon : \\\"glyphicon glyphicon-plus\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-1\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n          }]; \\n        }\\n         return [labelObj, obj]; \\n     \\n      }\\n      for(var i in Dic){\\n          ctrlGroups.push(loop(Dic[i])); \\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        icon : \\\"glyphicon glyphicon-ok\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.console(elem);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.submit();\\n          }\\n        }\\n      }])\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:1148\"},{\"label\":\"在线设备视频诊断申请\",\"path\":\"popup3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"设备信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        abnormal : {\\n          label : \\\"报警信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        position : {\\n          label : \\\"会诊人员\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        notice : {\\n          label : \\\"会诊时间\\\",\\n          type : \\\"datePicker\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"10 h\\\"\\n          }]\\n        },\\n        conclusion : {\\n          label : \\\"备注\\\",\\n          type : \\\"textarea\\\",\\n         \\n        },\\n      \\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n          \\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        console.log(item)\\n        if(item.type == \\\"position\\\"){\\n         return [labelObj, obj, {\\n          type : \\\"button\\\",\\n          value : \\\"\\\",\\n          icon : \\\"glyphicon glyphicon-plus\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-1\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n          }]; \\n        }\\n         return [labelObj, obj]; \\n     \\n      }\\n      for(var i in Dic){\\n          ctrlGroups.push(loop(Dic[i])); \\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        icon : \\\"glyphicon glyphicon-ok\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.console(elem);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.submit();\\n          }\\n        }\\n      }])\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"7\",\"$$hashKey\":\"object:1262\"},{\"label\":\"诊断详情\",\"path\":\"diagnosis\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var task = target.getPopupData().task;\\n       var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"设备名:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+task.variables.device.label+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"设备编号:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+task.variables.device.id+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var task = target.getPopupData().task;\\n      console.info(\\\"诊断详情\\\",task);\\n      var limit = new Date(task.sendTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"会诊发起人:　\\\"+task.sponsor+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"申请时间:　\\\"+limit+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"完成时限:　\\\"+task.timeLimit+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"原因分析:　\\\"+task.variables.causes+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"结论:　\\\"+task.variables.conclusion+\\\"\\\"\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":6},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var task = target.getPopupData().task;\\n      var option = target.getPopupData().option;\\n      var myDate = new Date().Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n      event.global.fire(\\\"savetask\\\",task);\\n      var editStatus = false;\\n      var teamworkReason = \\\"\\\";\\n      var teamworkVerdict = \\\"\\\";\\n      if(option == \\\"look\\\"){\\n          editStatus = true;\\n          if(task.values && task.values.teamworkReason != undefined){\\n            teamworkReason = task.values.teamworkReason;\\n          }\\n          if(task.values && task.values.teamworkVerdict != undefined){\\n            teamworkVerdict = task.values.teamworkVerdict;\\n          }\\n          if(task.values && task.values.teamworkTime != undefined){\\n            myDate = new Date(task.values.teamworkTime).Format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n          }\\n      }else{\\n         task.values = {\\\"teamworkTime\\\":new Date()};\\n      }\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"会诊参与人:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+task.participant+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"协同时间:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"+myDate+\\\"\\\",\\n          class : \\\"col-md-4\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"原因分析:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          class : \\\"col-md-4\\\",\\n          value : \\\"\\\"+teamworkReason+\\\"\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"结论:\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          class : \\\"col-md-4\\\",\\n          value : \\\"\\\"+teamworkVerdict+\\\"\\\"\\n        }]\\n      ];\\n      console.log(\\\"teamworkVerdict===\\\"+option);\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":6}],\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = target.getPopupData().option;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"button\\\",\\n          value : \\\"提交\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\", \\n          style:{\\\"text-align\\\":\\\"right\\\"},\\n          on : {\\n            click : function(elem){\\n                    event.global.detailTask.taskStatus = 200;\\n                    console.info(\\\"detailTaskdetailTask======\\\", event.global.detailTask);\\n                    var detailString = JSON.stringify(event.global.detailTask) ;\\n                    event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", eval(\\\"(\\\" + detailString + \\\")\\\"), function(tc){\\n                    if(tc.code == 0){\\n                      event.target.growl(\\\"处理成功\\\",\\\"success\\\");\\n                      target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                })\\n            }\\n          }\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"取消\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n             target.submit({\\\"statuc\\\":\\\"error\\\"});\\n            }\\n          }\\n        }]\\n      ];\\n      if(option == \\\"edit\\\"){\\n        event.target.render(ctrlGroups);\\n      }\\n    },\\n    savetask:function(event){\\n        \\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"8\",\"$$hashKey\":\"object:1319\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "echart",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option =  {\\n        tooltip: {\\n            trigger: 'item',\\n            formatter: \\\"{a} <br/>{b}: {c} ({d}%)\\\"\\n        },\\n        color: ['#e8b609', '#e74e54', '#29b4ec'],\\n        grid: {\\n            top: 'top'\\n        },\\n        legend: {\\n            left: 'center',\\n            top: '30',\\n            orient: 'vertical',\\n            textStyle: {\\n                color: '#ffffff',\\n                fontSize: '20',\\n                verticalAlign: 'bottom'\\n            },\\n            itemHeight: '50',\\n            icon: 'rect',\\n            data: ['335', '310', '234'],\\n            formatter: function (name) {\\n                return \\\"指标名称\\\\n\\\" + name;\\n            }\\n        },\\n        graphic: [\\n            {\\n                type: 'image',\\n                left: '32',\\n                top: 8,\\n                z: -10,\\n                bounding: 'raw',\\n                style: {\\n                    image: 'image/circle_equipment.png',\\n                    width: 200,\\n//                    height: 150,\\n//                    opacity: 0.4\\n                }\\n            }\\n\\n\\n        ],\\n        series: [\\n            {\\n                name: '访问来源',\\n                type: 'pie',\\n                radius: ['30%', '60%'],\\n                center: ['22%', '36%'],\\n                avoidLabelOverlap: false,\\n                label: {\\n                    normal: {\\n                        show: false,\\n                        position: 'center'\\n                    },\\n                    emphasis: {\\n                        show: true,\\n                        textStyle: {\\n                            fontSize: '30',\\n                            fontWeight: 'bold'\\n                        }\\n                    }\\n                },\\n                labelLine: {\\n                    normal: {\\n                        show: false\\n                    }\\n                },\\n                data: [\\n                    {\\n                        value: 335,\\n                        name: '335',\\n                        itemStyle: {\\n                            normal: {\\n                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\\n                                    offset: 0,\\n                                    color: '#fcd661'\\n                                }, {\\n                                    offset: 1,\\n                                    color: '#fca81f'\\n                                }])\\n                            }\\n                        }\\n\\n                    },\\n                    {\\n                        value: 310,\\n                        name: '310',\\n                        itemStyle: {\\n                            normal: {\\n                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\\n                                    offset: 0,\\n                                    color: '#48e4c1'\\n                                }, {\\n                                    offset: 1,\\n                                    color: '#15aa97'\\n                                }])\\n                            }\\n                        }\\n                    },\\n                    {\\n                        value: 234,\\n                        name: '234',\\n                        itemStyle: {\\n                            normal: {\\n                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\\n                                    offset: 0,\\n                                    color: '#2cc1ff'\\n                                }, {\\n                                    offset: 1,\\n                                    color: '#148ccb'\\n                                }])\\n                            }\\n                        }\\n                    }\\n                ]\\n            }\\n        ]\\n    }\\n                    \\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"},\"echart\":{}}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢视图-报警管理工作台",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"重复单元\",\"type\":\"repeater\",\"source\":\"REPEATER\",\"parameters\":{\"col\":4},\"advance\":{\"getListTable\":\"allprojects\",\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.getCurrentDomainCi(function(rootCi){\\n                var ci = [rootCi.id];\\n                var ciNames = [rootCi.label];\\n                var list = [{\\n                    label : \\\"待处理报警数\\\",\\n                    value : 23,\\n                    icon : \\\"proudsmart ps-gongdanguanli\\\",\\n                    kpi : 3003,\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#0c466d\\\",\\n                        \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n                    }\\n                },{\\n                    label : \\\"处理中任务数\\\",\\n                    value : 45,\\n                    kpi : 3051,\\n                    icon : \\\"glyphicon glyphicon-briefcase\\\",\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#484b2f\\\",\\n                        \\\"border\\\" : \\\"1px solid #e7b52b\\\"\\n                    }\\n                },{\\n                    label : \\\"周处理报警数\\\",\\n                    value : 37,\\n                    kpi : 3051,\\n                    icon : \\\"glyphicon glyphicon-duplicate\\\",\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#472d3c\\\",\\n                        \\\"border\\\" : \\\"1px solid #e55057\\\"\\n                    }\\n                },{\\n                    label : \\\"报警处理及时率\\\",\\n                    value : 42,\\n                    kpi : 100002,\\n                    icon : \\\"proudsmart ps-innovate\\\",\\n                    css : {\\n                        \\\"background-color\\\" : \\\"#0c466d\\\",\\n                        \\\"border\\\" : \\\"1px solid #21a6fb\\\"\\n                    }\\n                }];\\n                var kpis = list.map(function(elem){return elem.kpi});\\n                target.getKpiValueCi(ci, kpis, function(returnData){\\n                    for(var i in list){\\n                        var find = returnData.find(function(elem){\\n                            return elem.kpiCode == list[i].kpi;\\n                        }) || {\\n                            value : \\\"-\\\"\\n                        };\\n                        list[i].value = find.value;\\n                    }\\n                    target.render(list);\\n                });\\n            });\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        repeat : function(event){\\n            var target = event.target;\\n            var data = target.$repeatData;\\n            var css = data.css;\\n            target.setCss(css);\\n        }\\n    }\\n}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    repeat : function(event){\\n        \\n      var target = event.target;\\n      var global = event.global;\\n      var data = target.$repeatData;\\n      var ctrlGroups = [\\n           [{\\n          type : \\\"icon\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"60px\\\"\\n          },\\n          tdStyle : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          icon : data.icon\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : data.value,\\n          style : {\\n              \\\"font-size\\\" : \\\"30px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n          class : \\\"col-md-12\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : data.label,\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"font-size\\\" : \\\"12px\\\",\\n              \\\"text-align\\\" : \\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3}],\"style\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"margin\":\"5px\",\"padding\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n          console.log(\\\"currStatus==\\\"+currStatus);\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"时 间:\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\"\\n          }]\\n        ];\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                  width:\\\"55px\\\",\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日报警\\\",\\n              btnclass:currStatus==\\\"today\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n               currStatus = \\\"today\\\";\\n               render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周报警\\\",\\n              btnclass:currStatus==\\\"bz\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n               currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月报警\\\",\\n              btnclass:currStatus==\\\"month\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n               currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                    console.info(\\\"elem===\\\",elem);\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj);\\n                       currStatus = \\\"today\\\";\\n                       inpStatus = false;\\n                       render();\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"报警通知\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var ticketCategorys = {};\\n      var deviceDic = {};\\n      var getDataByJquerySync = function(service,method,param){\\n\\t\\t\\tvar ret;\\n\\t\\t\\t$.ajax({\\n\\t\\t\\t  url : \\\"/api/rest/post/\\\" + service + \\\"/\\\" + method,\\n\\t\\t\\t  type : \\\"post\\\",\\n\\t\\t\\t  async : false,\\n\\t\\t\\t  contentType : 'application/json',\\n\\t\\t\\t  data : param ? JSON.stringify(param) : \\\"[]\\\",\\n\\t\\t\\t  dataType : \\\"json\\\",\\n\\t\\t\\t  success : function(data) {\\n\\t\\t\\t    //console.log(\\\"函数回调\\\",data);\\n\\t\\t\\t\\tif(data.code == '0'){\\n\\t\\t\\t\\t\\tret = data.data;\\n\\t\\t\\t\\t}\\n\\t\\t\\t  }\\n\\t\\t\\t});\\n\\t\\t\\treturn ret;\\n\\t\\t};\\n      var render = function(alertData){\\n          var format = [{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"title\\\",\\n              label : \\\"报警消息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n             render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"firstArisingTime\\\",\\n              label : \\\"报警时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                  \\n                  return new Date(data.format(\\\"yyyy-MM-dd HH:mm:ss\\\"));\\n              }\\n          },{\\n              name : \\\"state\\\",\\n              label : \\\"报警状态\\\",\\n              type : \\\"status\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroupAlert\\\",\\n              content : [{\\n                label : \\\"确认\\\",\\n                icon: \\\"null\\\",\\n                name:\\\"confirm\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                  if(elem.row.state == 0 || elem.row.state == 5){\\n                        var severity = elem.row.severity;\\n                        if(severity == 1 || severity == 2) {\\n                          severity = 0;\\n                        } else if(severity == 3) {\\n                          severity = 100;\\n                        } else if(severity == 5 || severity == 4) {\\n                          severity = 200;\\n                        }\\n                        var AuditPersonObj = eval(\\\"(\\\" +deviceDic[elem.row.nodeId].values.AuditPerson + \\\")\\\");\\n                        var ResponsiblePersonObj =eval(\\\"(\\\" + deviceDic[elem.row.nodeId].values.ResponsiblePerson + \\\")\\\");\\n                        var valuesObj = {\\\"customerName\\\":elem.row.customerName,\\\"devName\\\":elem.row.devName,\\\"appName\\\":elem.row.appName,\\n                        \\\"alertTitle\\\":elem.row.title,\\\"severity\\\":elem.row.severity,\\\"AuditPerson\\\":AuditPersonObj.Z,\\n                        \\\"CheckPerson\\\":deviceDic[elem.row.nodeId].values.CheckPerson,\\\"ResponsiblePerson\\\":ResponsiblePersonObj.Z};\\n                        var alertInfo = {\\n                            \\\"actionType\\\": \\\"forward\\\",\\n                            \\\"alertIds\\\": [elem.row.alertId],\\n                            \\\"severity\\\": 0,\\n                            \\\"target\\\": \\\"EOMS://auttest/auttest\\\"\\n                          };\\n                       var ticket = {\\n                        \\\"title\\\": elem.row.title,\\n                        \\\"category\\\": ticketCategorys.category,\\n                        \\\"ticketCategoryId\\\": ticketCategorys.id,\\n                        \\\"priorityCode\\\": severity,\\n                        \\\"faultId\\\": \\\"\\\",\\n                        \\\"deviceId\\\": elem.row.nodeId,\\n                        \\\"message\\\": elem.row.message,\\n                        \\\"values\\\":valuesObj\\n                      };\\n                     var claimObj ={\\\"actionType\\\":\\\"claim\\\",\\\"alertIds\\\":[elem.row.alertId]};\\n                    console.info(\\\"ticket\\\",ticket);\\n                     event.target.postService(\\\"alertManageFlexService\\\", \\\"sendForwardAction\\\", [alertInfo,ticket], function(tc){\\n                        if(tc.code == 0){\\n                          event.target.postService(\\\"alertManageFlexService\\\", \\\"sendClaimAction\\\", [claimObj], function(claimData){\\n                              if(claimData.code == 0){\\n                                event.target.growl(\\\"报警处理成功，已发送给相关负责人\\\",\\\"success\\\");\\n                                event.global.fire(\\\"query\\\",{});\\n                                  \\n                              }\\n                          });\\n                        }else{\\n                \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                        }\\n                      })\\n                    }else{\\n                         event.target.growl(\\\"不能转工单\\\",\\\"warning\\\");\\n                    }\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"忽略\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                name:\\\"ignore\\\",\\n                on : {\\n                  click : function(elem){\\n                    console.info(\\\"忽略===\\\",elem);\\n                    var alertObj = {\\\"alertObj\\\":elem.row};\\n                  target.createPopupBypath(\\\"popup\\\", {\\n                        title : \\\"处理\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        on : {\\n                          submit : function(data){\\n                           console.info(\\\"submitsubmit====\\\",data);\\n                           if(data.statuc == \\\"success\\\"){\\n                              event.global.fire(\\\"query\\\",{});\\n                           }\\n                          }\\n                        }\\n                      }, alertObj);\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n          \\n        target.setValue(\\\"format\\\",format);\\n       target.render({\\n            data : alertData,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n\\t\\tvar customersList = getDataByJquerySync(\\\"customerUIService\\\",\\\"findCustomersByCondition\\\",[{}]);\\n\\t\\tvar customersDic = {};\\n\\t\\tif(customersList){\\n\\t\\t\\tcustomersList.forEach(function(u){\\n\\t\\t\\t\\tcustomersDic[u.id] = u;\\n\\t\\t\\t});\\n\\t\\t}\\n\\t\\t\\n      var deviceList = getDataByJquerySync(\\\"resourceUIService\\\",\\\"getDevicesByCondition\\\",[{}]);\\n\\t\\tif(deviceList){\\n\\t\\t\\tdeviceList.forEach(function(u){\\n\\t\\t\\t\\tdeviceDic[u.id] = u;\\n\\t\\t\\t});\\n\\t\\t}\\n\\t\\tdebugger\\n\\t\\ttarget.setValue(\\\"customersDic\\\",customersDic);\\n\\t\\ttarget.setValue(\\\"deviceDic\\\",deviceDic);\\n         var queryItem = {\\\"severities\\\":\\\"1,2,3,4\\\",\\\"states\\\":\\\"0,5,10\\\"};\\n      var pageRequest = {\\\"start\\\":0,\\\"length\\\":500,\\\"statCount\\\":true};\\t\\n      var alertList = getDataByJquerySync(\\\"alertQueryFlexService\\\",\\\"getAlertByPage\\\",[queryItem,pageRequest]);\\n\\t\\tvar alertArr = [];\\n\\t\\tvar alertDic = {};\\n\\t\\tif(alertList.data.length > 0){\\n\\t\\tfor(var i in alertList.data){\\n\\t\\t    alertList.data[i][\\\"nodeName\\\"] = \\\"\\\";\\n\\t\\t    alertList.data[i][\\\"customerName\\\"] = \\\"\\\";\\n\\t\\t    if(alertList.data[i].nodeId &&  deviceDic[alertList.data[i].nodeId] != undefined){\\n\\t\\t       var customersId = deviceDic[alertList.data[i].nodeId].customerId;\\n\\t\\t        if(customersDic[customersId] != undefined){\\n\\t\\t           alertList.data[i].customerName = customersDic[customersId].customerName;\\n\\t\\t        }\\n\\t\\t    }\\n\\t\\t    alertDic[alertList.data[i].alertId] = alertList.data[i];\\n\\t\\t    alertArr.push(alertList.data[i]);\\n\\t\\t}\\n\\t\\t}\\n        event.global.fire(\\\"accept\\\",alertDic)\\n        target.setValue(\\\"alertArr\\\",alertArr);\\n        event.target.postService(\\\"ticketCategoryService\\\", \\\"getTicketCategorys\\\", [], function(tc){\\n        if(tc.code == 0){\\n        var ticketData = tc.data;\\n        var ticketSort = [];\\n        for(var t in ticketData){\\n\\t     if(ticketData[t].category == 50){\\n\\t    \\tticketSort.push(ticketData[t]);\\n\\t\\t }\\n\\t\\t}\\n      \\tticketSort.sort(function(a, b){\\n           return a.createTime < b.createTime ? 1 : -1;\\n        });\\n        ticketCategorys = ticketSort[0];\\n\\t\\tconsole.info(\\\"queren===\\\",ticketCategorys);\\n        render(alertArr);\\n        }else{\\n            console.log(\\\"流程关联接口异常\\\");\\n        }\\n      })\\n    },\\n     refresh:function(event){\\n          var target = event.target;\\n         console.info(\\\"alertArr===\\\",target.getValue(\\\"alertArr\\\"));\\n     },\\n     query:function(event){\\n         var target = event.target;\\n         var customersDic = target.getValue(\\\"customersDic\\\");\\n         var deviceDic = target.getValue(\\\"deviceDic\\\");\\n         var format = target.getValue(\\\"format\\\");\\n        var  params=event.params;\\n         console.info(\\\"params====\\\",event.params);\\n         console.info(\\\"format====\\\",format);\\n         var render = function(alertData){\\n            target.render({\\n            data : alertData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n         }\\n         var queryItem = {\\\"severities\\\":\\\"1,2,3,4\\\",\\\"states\\\":\\\"0,5,10\\\",\\\"firstTimeFrom\\\":params.firstTimeFrom,\\\"firstTimeTo\\\":params.firstTimeTo};\\n         var pageRequest = {\\\"start\\\":0,\\\"length\\\":500,\\\"statCount\\\":true};\\t\\n         var jsonToString = JSON.stringify(queryItem) ;\\n         event.target.postService(\\\"alertQueryFlexService\\\", \\\"getAlertByPage\\\", [eval(\\\"(\\\" + jsonToString + \\\")\\\"),pageRequest], function(tc){\\n             if(tc.code == 0){\\n                var alertList = tc.data.data;\\n                var alertArr = [];\\n        \\t\\tvar alertDic = {};\\n        \\t\\tif(alertList.length > 0){\\n        \\t\\tfor(var i in alertList){\\n        \\t\\t    alertList[i][\\\"nodeName\\\"] = \\\"\\\";\\n        \\t\\t    alertList[i][\\\"customerName\\\"] = \\\"\\\";\\n        \\t\\t    if(alertList[i].nodeId &&  deviceDic[alertList[i].nodeId] != undefined){\\n        \\t\\t       var customersId = deviceDic[alertList[i].nodeId].customerId;\\n        \\t\\t        if(customersDic[customersId] != undefined){\\n        \\t\\t           alertList[i].customerName = customersDic[customersId].customerName;\\n        \\t\\t        }\\n        \\t\\t    }\\n        \\t\\t    alertDic[alertList[i].alertId] = alertList[i];\\n        \\t\\t    alertArr.push(alertList[i]);\\n        \\t\\t}\\n        \\t  }\\n        \\t  render(alertArr);\\n             }\\n         })\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时    间：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 1,\\n          title : \\\"全部工单\\\",\\n          value : 0,\\n          btnclass:\\\"btn btn-primary\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 2,\\n          title : \\\"执行中\\\",\\n          value : 100,\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 3,\\n          title : \\\"已完成\\\",\\n          value : 200,\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 4,\\n          title : \\\"未发布\\\",\\n          value : 10,\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"任务状态:\\\",\\n            style:{\\n                textAlign:\\\"right\\\",\\n                width:\\\"100px\\\"\\n            }\\n          }]\\n        ];\\n        for(var i in list){\\n           \\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass :list[i].btnclass,\\n                    paramvalue:list[i].value,\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        var value = elem.current.paramvalue;\\n                        console.info(\\\"list=====\\\",id);\\n                        event.global.fire(\\\"highlight\\\", {\\n                            status: value\\n                       })\\n                       \\n                          for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].btnclass = \\\"btn btn-primary\\\";\\n                            } else {\\n                               list[i].btnclass = \\\"btn btn-default\\\"; \\n                            } \\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"任务跟踪\\\")\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var getDataByJquerySync = function(service,method,param){\\n\\t\\t\\tvar ret;\\n\\t\\t\\t$.ajax({\\n\\t\\t\\t  url : \\\"/api/rest/post/\\\" + service + \\\"/\\\" + method,\\n\\t\\t\\t  type : \\\"post\\\",\\n\\t\\t\\t  async : false,\\n\\t\\t\\t  contentType : 'application/json',\\n\\t\\t\\t  data : param ? JSON.stringify(param) : \\\"[]\\\",\\n\\t\\t\\t  dataType : \\\"json\\\",\\n\\t\\t\\t  success : function(data) {\\n\\t\\t\\t    //console.log(\\\"函数回调\\\",data);\\n\\t\\t\\t\\tif(data.code == '0'){\\n\\t\\t\\t\\t\\tret = data.data;\\n\\t\\t\\t\\t}\\n\\t\\t\\t  }\\n\\t\\t\\t});\\n\\t\\t\\treturn ret;\\n\\t\\t};\\n      var render = function(workOrderData){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"commitTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return new Date(data.format(\\\"yyyy-MM-dd HH:mm:ss\\\"));\\n              }\\n          },{\\n              name : \\\"candidateUserOrGroup\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"status\\\",\\n              label : \\\"任务状态\\\",\\n              type : \\\"orderStatus\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"过程跟踪\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      ticketNo : elem.row.ticketNo\\n                    }\\n                    target.setValue(\\\"ticketNo\\\",param)\\n            \\n                     target.navigateTo(\\\"page1\\\",param);\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        target.setValue(\\\"orderFormat\\\",format);\\n       target.render({\\n            data : workOrderData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      \\n      event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n        if(dt.code == 0){\\n        var workOrderData = dt.data;\\n        var workArray = [];\\n        var alertObj = event.global.alertObj;\\n        for(var i in workOrderData){\\n            workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n            if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                if(alertObj != undefined){\\n                    if(alertObj[workOrderData[i].origId[0]] != undefined){\\n                        workOrderData[i].customerName = alertObj[workOrderData[i].origId[0]].customerName;\\n                        workOrderData[i].devName = alertObj[workOrderData[i].origId[0]].devName;\\n                        workOrderData[i].appName = alertObj[workOrderData[i].origId[0]].appName;\\n                        workOrderData[i].alertTitle = alertObj[workOrderData[i].origId[0]].title;\\n                        workOrderData[i].severity = alertObj[workOrderData[i].origId[0]].severity;\\n               \\n                    }\\n                }\\n            }\\n            workArray.push(workOrderData[i]);\\n        }\\n             \\n                console.log(\\\"origId=====\\\",workArray);\\n        render(workArray);\\n        //event.target.render(projects);\\n        }else{\\n            console.log(\\\"接口异常\\\");\\n        }\\n      })\\n    },\\n    highlight : function(event){\\n    //   event.element.render(event.params)\\n    console.log(event.params);\\n    var paramsStatus = event.params;\\n    var target = event.target;\\n\\n      var render = function(workOrderData){\\n       var format = target.getValue(\\\"orderFormat\\\");\\n       target.render({\\n            data : workOrderData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      if(paramsStatus.status > 0){\\n           event.target.postService(\\\"ticketTaskService\\\", \\\"findTickets\\\",[paramsStatus], function(dt){\\n            if(dt.code == 0){\\n                var workOrderData = dt.data;\\n                var workArray = [];\\n                var alertObj = event.global.alertObj;\\n                for(var i in workOrderData){\\n                    workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n                    workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n                    workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n                    workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n                    workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n                    if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                        if(alertObj != undefined){\\n                            if(alertObj[workOrderData[i].origId[0]] != undefined){\\n                                workOrderData[i].customerName = alertObj[workOrderData[i].origId[0]].customerName;\\n                                workOrderData[i].devName = alertObj[workOrderData[i].origId[0]].devName;\\n                                workOrderData[i].appName = alertObj[workOrderData[i].origId[0]].appName;\\n                                workOrderData[i].alertTitle = alertObj[workOrderData[i].origId[0]].title;\\n                                workOrderData[i].severity = alertObj[workOrderData[i].origId[0]].severity;\\n                       \\n                            }\\n                        }\\n                    }\\n                    workArray.push(workOrderData[i]);\\n                }\\n                     \\n                render(workArray);\\n            }else{\\n                console.log(\\\"接口异常\\\");\\n            }\\n      })\\n     }else{\\n      event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n        if(dt.code == 0){\\n            var workOrderData = dt.data;\\n            var alertObj = event.global.alertObj;\\n            var workArray = [];\\n            for(var i in workOrderData){\\n                workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n                if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                    if(alertObj != undefined){\\n                        if(alertObj[workOrderData[i].origId[0]] != undefined){\\n                            workOrderData[i].customerName = alertObj[workOrderData[i].origId[0]].customerName;\\n                            workOrderData[i].devName = alertObj[workOrderData[i].origId[0]].devName;\\n                            workOrderData[i].appName = alertObj[workOrderData[i].origId[0]].appName;\\n                            workOrderData[i].alertTitle = alertObj[workOrderData[i].origId[0]].title;\\n                            workOrderData[i].severity = alertObj[workOrderData[i].origId[0]].severity;\\n                   \\n                        }\\n                    }\\n                }\\n                workArray.push(workOrderData[i]);\\n            }\\n                 \\n            render(workArray);\\n        }else{\\n            console.log(\\\"接口异常\\\");\\n        }\\n      })\\n     }\\n   \\n    },\\n    accept:function(event){\\n      console.info(\\\"接受告警数据===\\\",event.params);  \\n       event.global.alertObj = event.params;\\n        \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"}}]}]}],\"col\":12,\"alertObj\":{\"542059861046087\":{\"eventId\":544241138966070,\"alertId\":542059861046087,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [1] 异常\",\"arisingTime\":\"2017-11-13T05:09:27.126+0000\",\"receiveTime\":\"2017-11-13T05:09:27.126+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":1,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-13T05:09:27.126+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-13T13:05:57.024+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-14T10:52:37.800+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"537783494437643\":{\"eventId\":539009142136470,\"alertId\":537783494437643,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"3\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:3.0 [2] 异常\",\"arisingTime\":\"2017-11-11T07:16:16.725+0000\",\"receiveTime\":\"2017-11-11T07:16:16.725+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-11T07:15:16.731+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-11T15:12:46.633+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-13T02:03:00.641+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536687391997414\":{\"eventId\":538746819166095,\"alertId\":536687391997414,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"6\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:5.0 [2] 异常\",\"arisingTime\":\"2017-11-10T07:47:16.841+0000\",\"receiveTime\":\"2017-11-10T07:47:16.841+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T07:46:16.845+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T15:43:46.743+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T07:47:47.994+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536859189296064\":{\"eventId\":538540371966064,\"alertId\":536859189296064,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"4\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:6.0 [13] 异常\",\"arisingTime\":\"2017-11-10T01:41:57.515+0000\",\"receiveTime\":\"2017-11-10T01:41:57.515+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":7,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:35:58.068+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:38:27.436+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T04:42:00.762+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"540911188148124\":{\"eventId\":538517251976594,\"alertId\":540911188148124,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"2\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:9.0 [6] 异常\",\"arisingTime\":\"2017-11-10T01:07:03.606+0000\",\"receiveTime\":\"2017-11-10T01:07:03.606+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":6,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:02:03.603+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:03:33.483+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T06:26:53.346+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}}},\"$$hashKey\":\"object:431\"},{\"label\":\"过程跟踪\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"page0\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"}},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{},\"advance\":{\"expression\":\"expression = {\\r\\n      width: \\\"100%\\\",\\r\\n      on: {\\r\\n        init: function(event) {\\r\\n          var target = event.target;\\r\\n          var global = event.global;\\r\\n          var ticketNo = event.target.getParameter(\\\"ticketNo\\\");\\r\\n          var ctrlGroups = [{\\r\\n              time: \\\"2017-11-12 12:30:10\\\",\\r\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\r\\n              disList: [{\\r\\n                value: \\\"<a href='#'>报警产生</a>\\\"\\r\\n              }, {\\r\\n                value: \\\"报警类型：振动报警\\\"\\r\\n              }, {\\r\\n                value: \\\"报警级别：警告\\\"\\r\\n              }, {\\r\\n                value: \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\r\\n              }]\\r\\n            },\\r\\n            {\\r\\n              time: \\\"2017-11-12 12:30:10\\\",\\r\\n              icon: \\\"fa fa-user bg-aqua bg-orange\\\",\\r\\n              disList: [{\\r\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\r\\n              }]\\r\\n            },\\r\\n            {\\r\\n              time: \\\"2017-11-12 12:30:10\\\",\\r\\n              icon: \\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\r\\n              disList: [{\\r\\n                value: \\\"<a href='#'>检修反馈</a>\\\"\\r\\n              }]\\r\\n            }\\r\\n          ];\\r\\n          var dateToString = function(now) {\\r\\n            var year = now.getFullYear();\\r\\n            var month = (now.getMonth() + 1).toString();\\r\\n            var day = (now.getDate()).toString();\\r\\n            var hour = (now.getHours()).toString();\\r\\n            var minute = (now.getMinutes()).toString();\\r\\n            var second = (now.getSeconds()).toString();\\r\\n            if(month.length == 1) {\\r\\n              month = \\\"0\\\" + month;\\r\\n            }\\r\\n            if(day.length == 1) {\\r\\n              day = \\\"0\\\" + day;\\r\\n            }\\r\\n            if(hour.length == 1) {\\r\\n              hour = \\\"0\\\" + hour;\\r\\n            }\\r\\n            if(minute.length == 1) {\\r\\n              minute = \\\"0\\\" + minute;\\r\\n            }\\r\\n            if(second.length == 1) {\\r\\n              second = \\\"0\\\" + second;\\r\\n            }\\r\\n            var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day + \\\" \\\" + hour + \\\":\\\" + minute + \\\":\\\" + second;\\r\\n            return dateTime;\\r\\n          }\\r\\n          if(ticketNo) {\\r\\n\\r\\n            event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\", [ticketNo], function(dt) {\\r\\n              if(dt.code == 0) {\\r\\n                var ticketHistoryList = dt.data;\\r\\n                var arr = [];\\r\\n                console.info(\\\"ticketHistoryList===\\\", ticketHistoryList);\\r\\n                for(var i in ticketHistoryList) {\\r\\n                  var cantentList = [];\\r\\n                  var historyList = {\\r\\n                    time: \\\"\\\",\\r\\n                    icon: \\\"\\\",\\r\\n                    disList: \\\"\\\"\\r\\n                  };\\r\\n                  if(ticketHistoryList[i].logType == \\\"startEvent\\\") {\\r\\n                    historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\r\\n                    cantentList.push({\\r\\n                      \\\"value\\\": ticketHistoryList[i].message\\r\\n                    });\\r\\n                  }\\r\\n                  if(ticketHistoryList[i].logType == \\\"endEvent\\\") {\\r\\n                    historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\r\\n                    cantentList.push({\\r\\n                      \\\"value\\\": ticketHistoryList[i].message\\r\\n                    });\\r\\n                  }\\r\\n                  if(ticketHistoryList[i].logType == \\\"cancelEvent\\\") {\\r\\n                    historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\r\\n                    cantentList.push({\\r\\n                      \\\"value\\\": \\\"已撤销\\\"\\r\\n                    });\\r\\n                  }\\r\\n                  if(ticketHistoryList[i].logType == \\\"userTask\\\") {\\r\\n                    if(ticketHistoryList[i].ticketTask.taskStatus == 200) {\\r\\n                      historyList.icon = \\\"fa fa-user bg-aqua\\\";\\r\\n                    } else {\\r\\n                      historyList.icon = \\\"fa fa-user fa-lg\\\";\\r\\n                    }\\r\\n                    var taskRemark = \\\"\\\";\\r\\n                    if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined) {\\r\\n                      taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\r\\n                    }\\r\\n                    var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\r\\n                    cantentList.push({\\r\\n                      \\\"value\\\": \\\"<a>\\\" + ticketHistoryList[i].message + \\\"</a>\\\"\\r\\n                    });\\r\\n                    cantentList.push({\\r\\n                      \\\"value\\\": \\\"处理人:\\\" + handlerName + \\\"\\\"\\r\\n                    });\\r\\n                    var foramTime = \\\"\\\";\\r\\n                    if(ticketHistoryList[i].ticketTask.finishedTime) {\\r\\n                      foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\r\\n                    }\\r\\n                    console.log(\\\"处理时间==\\\" + ticketHistoryList[i].ticketTask.finishedTime);\\r\\n                    cantentList.push({\\r\\n                      \\\"value\\\": \\\"处理时间:\\\" + foramTime + \\\"\\\"\\r\\n                    });\\r\\n                  }\\r\\n                  if(ticketHistoryList[i].logType == \\\"serviceTask\\\") {\\r\\n                    historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\r\\n                    cantentList.push({\\r\\n                      \\\"value\\\": \\\"处理人:系统\\\"\\r\\n                    });\\r\\n                  }\\r\\n                  historyList.disList = cantentList;\\r\\n                  arr.push(historyList);\\r\\n                }\\r\\n                console.info(\\\"处理====\\\", arr);\\r\\n                event.target.render(arr);\\r\\n              } else {\\r\\n                console.log(\\\"接口异常\\\");\\r\\n              }\\r\\n            })\\r\\n          } else {\\r\\n            event.target.render(ctrlGroups);\\r\\n          }\\r\\n\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:766\"},{\"label\":\"忽略弹出框处理\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var params = target.getPopupData();\\n       console.info(\\\"alertObj===\\\",params);\\n       var objRemark={\\\"remark\\\":\\\"\\\"};\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"忽略原因:\\\",\\n          type : \\\"textarea\\\",\\n           on : {\\n            change : function(elem){\\n                objRemark.remark = elem.value;\\n              console.log(\\\"备注====\\\"+elem.value)\\n              \\n            }\\n          }\\n        }\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        obj.on = item.on;\\n        return [labelObj, obj];\\n      }\\n      for(var i in Dic){\\n        ctrlGroups.push(loop(Dic[i]))\\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        style:{\\\"text-align\\\":\\\"right\\\"},\\n        on : {\\n          click : function(elem){\\n              var ary = [];\\n              ary.push(params.alertObj.alertId);\\n              var alertInfo = {\\\"actionType\\\":\\\"recover\\\",\\\"alertIds\\\":ary,\\\"recoverAll\\\":true,\\\"resolved\\\":false,\\\"clearOut\\\":true,\\\"comment\\\":objRemark.remark};\\n              event.target.postService(\\\"alertManageFlexService\\\", \\\"sendRecoverAction\\\", [alertInfo], function(dt){\\n                  if(dt.code == 0){\\n                      event.target.growl(\\\"报警处理处理成功\\\",\\\"success\\\");\\n                      target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                  }\\n              })\\n            console.log(\\\"提交\\\"+objRemark.remark);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-default\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.submit();\\n          }\\n        }\\n      }])\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:844\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "debug",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"12px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"新建文字\\\");\\n        }\\n    }\\n};\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "标准维护(baogang/decider/biaozhunwei",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"12px\",\"font-weight\":\"bold\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"新建文字\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true}}],\"col\":12},\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "新建工作台(自定义)",
      "viewType": "dashboard",
      "content": null
    },
    {
      "viewTitle": "点检计划(工作台_baogang/decider/dianjianjihua)",
      "viewType": "dashboard",
      "content": "null"
    },
    {
      "viewTitle": "标准维护(工作台_baogang/decider/biaozhu",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[],\"col\":12},\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "关键指标对比_gaoqingxin",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"button\\\",\\n          value : \\\"导出\\\",\\n         \\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //自定义输入\\n      var Dictionary = {\\n        base :  \\\"基地\\\",\\n        productionLine: \\\"产线\\\",\\n        deviceType : \\\"设备类型\\\",\\n        time : \\\"时间\\\"\\n       \\n      };\\n      var simulate = {\\n        base :  function(inx, elem, attr){\\n         return elem.randomText(['上海宝山','湛江宝山']);\\n        },\\n        productionLine :  function(inx, elem, attr){\\n         return elem.randomText(['1580']);\\n        },\\n          deviceType :  function(inx, elem, attr){\\n         return elem.randomText(['风机']);\\n        },\\n    time : function(inx, elem, attr){\\n          var current = target.dateHandler(new Date()).addDay(-10);\\n          return current.addHour(parseInt(inx) * 24).getDateString(\\\"yy/MM/dd,hh:mm:ss\\\");\\n        },\\n       \\n      };\\n      //自定义输入\\n      setTimeout(function(){\\n        target.getSimulateApi(simulate, 10, function(datas){\\n          var render = function(){\\n            var format = [];\\n            for(var i in Dictionary){\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            var search = target.getScopeValue(\\\"search\\\");\\n            var filter = datas.filter(function(elem){\\n              for(var i in search){\\n                var type = search[i].type;\\n                var value = search[i].value;\\n                if(type == \\\"between\\\"){\\n                  if(value){\\n                    var dt = target.dateHandler(elem[i]);\\n                    var dt0 = value[0];\\n                    var dt1 = value[1];\\n                    var rs = (dt0 ? dt.after(dt0) : true) && (dt1 ? dt.before(dt1) : true);\\n                    if(!rs){\\n                      return false;\\n                    };\\n                  } else {\\n                    return true;\\n                  }\\n\\n                } else if(type == \\\"inside\\\"){\\n                  var some = value.some(function(el){\\n                    return elem[i] == el.title || elem[i] == el.label;\\n                  });\\n                  if(!some){\\n                    return false;\\n                  }\\n                } else if(type == \\\"domains\\\"){\\n                  return elem.domains.indexOf(value.domains) != -1;\\n                }\\n              };\\n              return true;\\n            })\\n            format.push({\\n              name : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"删除\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"device\\\", {\\n                      tabLabel : elem.label\\n                    });\\n\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                return \\\"\\\"\\n              }\\n            });\\n            target.render({\\n              data : filter,\\n              on : {\\n                rowClick : function(event){\\n                  target.createPopupBypath('analysis', {\\n                    title: \\\"诊断分析\\\",\\n                    theme : \\\"system\\\",\\n                    width: \\\"80%\\\"\\n                  }, {\\n                    message: \\\"诊断分析\\\"\\n                  })\\n                }\\n              },\\n              format : format\\n            });\\n          };\\n          target.off(\\\"search_toDolist\\\");\\n          target.on(\\\"search_toDolist\\\", function(){\\n            render();\\n          });\\n          render();\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n      tooltip: {\\n        trigger: 'axis',\\n       \\n    },\\n    legend: {\\n        data:['湛江东山/1580','上海宝山/1580']\\n    },\\n    toolbox: {\\n        show: true,\\n        feature: {\\n            dataZoom: {\\n                yAxisIndex: 'none'\\n            },\\n            dataView: {readOnly: false},\\n            magicType: {type: ['line', 'bar']},\\n            restore: {},\\n            saveAsImage: {}\\n        }\\n    },\\n    xAxis:  {\\n        type: 'category',\\n        name:'时间',\\n        nameLocation:'center',\\n        nameGap:'20',\\n        boundaryGap: false,\\n        \\n        \\n        data: ['3.11','3.12','3.13','3.14','3.15','3.16','3.17']\\n    },\\n    yAxis: {\\n        type: 'value',\\n         name:'报警数',\\n        nameLocation:'center',\\n        nameRotate:0,\\n        nameGap:'20',\\n    },\\n    series: [\\n        {\\n            name:'湛江东山/1580',\\n            type:'line',\\n            data:[11, 11, 15, 13, 12, 13, 10],\\n            itemStyle:{\\n            normal:{\\n                color:\\\"#7baad5\\\"\\n            }\\n        }\\n           },\\n        {\\n            name:'上海宝山/1580',\\n            type:'line',\\n            data:[1, 5, 2, 5, 3, 2, 7],\\n             itemStyle:{\\n            normal:{\\n                color:\\\"#f19b61\\\"\\n            }}\\n        }\\n    ]\\n};\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "关键指标跟踪_gaoqingxin",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"color\":\"#444\",\"text-align\":\"left\",\"border-radius\":\"0px\",\"background-color\":\"rgb(255, 255, 255)\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"报警数量\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}}],\"col\":4},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"color\":\"#444\",\"text-align\":\"left\",\"border-radius\":\"0px\",\"background-color\":\"rgb(255, 255, 255)\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"2017.10.27-2017.11.02\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{}}],\"col\":4},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"button\\\",\\n          value : \\\"导出\\\",\\n         \\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":4}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //自定义输入\\n      var Dictionary = {\\n        scope :  \\\"范围\\\",\\n        dynamo : \\\"电机\\\",\\n        electricalCabinet : \\\"电器柜\\\",\\n        draughtFan : \\\"风机\\\",\\n        pump : \\\"泵\\\",\\n        gearCase : \\\"齿轮箱\\\",\\n        hydraulicSystem : \\\"液压系统\\\",\\n        transmissionShaft : \\\"传动轴\\\"\\n       \\n      };\\n      var simulate = {\\n       scope : function(inx, elem, attr ){\\n          return elem.randomText(['宝山','东山','青山','梅山','松山','天山']);\\n        },\\n      dynamo: function(inx, elem, attr){\\n          return elem.random(100,0);\\n        },\\n        electricalCabinet : function(inx, elem, attr){\\n          return elem.random(100,0);\\n        },\\n         draughtFan :  function(inx, elem, attr){\\n          return elem.random(100,0);\\n        },\\n        pump  :  function(inx, elem, attr){\\n          return elem.random(100,0);\\n        },\\n         gearCase:  function(inx, elem, attr){\\n          return elem.random(100,0);\\n        },\\n        hydraulicSystem :  function(inx, elem, attr){\\n          return elem.random(100,0);\\n        },\\n           transmissionShaft :  function(inx, elem, attr){\\n          return elem.random(100,0);\\n        }\\n      };\\n      //自定义输入\\n      setTimeout(function(){\\n        target.getSimulateApi(simulate, 10, function(datas){\\n          var render = function(){\\n            var format = [];\\n            for(var i in Dictionary){\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            var search = target.getScopeValue(\\\"search\\\");\\n            var filter = datas.filter(function(elem){\\n              for(var i in search){\\n                var type = search[i].type;\\n                var value = search[i].value;\\n                if(type == \\\"between\\\"){\\n                  if(value){\\n                    var dt = target.dateHandler(elem[i]);\\n                    var dt0 = value[0];\\n                    var dt1 = value[1];\\n                    var rs = (dt0 ? dt.after(dt0) : true) && (dt1 ? dt.before(dt1) : true);\\n                    if(!rs){\\n                      return false;\\n                    };\\n                  } else {\\n                    return true;\\n                  }\\n\\n                } else if(type == \\\"inside\\\"){\\n                  var some = value.some(function(el){\\n                    return elem[i] == el.title || elem[i] == el.label;\\n                  });\\n                  if(!some){\\n                    return false;\\n                  }\\n                } else if(type == \\\"domains\\\"){\\n                  return elem.domains.indexOf(value.domains) != -1;\\n                }\\n              };\\n              return true;\\n            })\\n           \\n            target.render({\\n              data : filter,\\n              on : {\\n                rowClick : function(event){\\n                  target.createPopupBypath('analysis', {\\n                    title: \\\"诊断分析\\\",\\n                    theme : \\\"system\\\",\\n                    width: \\\"80%\\\"\\n                  }, {\\n                    message: \\\"诊断分析\\\"\\n                  })\\n                }\\n              },\\n              format : format\\n            });\\n          };\\n          target.off(\\\"search_toDolist\\\");\\n          target.on(\\\"search_toDolist\\\", function(){\\n            render();\\n          });\\n          render();\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var option = {\\n    tooltip : {\\n        trigger: 'axis',\\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\\n            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\\n        }\\n    },\\n    legend: {\\n        data:['电机','电器柜','风机','泵','齿轮箱','液压系统','传动轴']\\n    },\\n    grid: {\\n        left: '3%',\\n        right: '4%',\\n        bottom: '3%',\\n        containLabel: true\\n    },\\n    xAxis : [\\n        {\\n            type : 'category',\\n            data : ['宝山','东山','青山','梅山','松山','天山']\\n        }\\n    ],\\n    yAxis : [\\n        {\\n            type : 'value'\\n        }\\n    ],\\n    series : [\\n        {\\n            name:'电机',\\n            type:'bar',\\n            data:[340,154,456,245,451,365],\\n            itemStyle:{\\n                normal:{\\n                    color:'#4f81bd'\\n                }\\n            }\\n        },\\n        {\\n            name:'电器柜',\\n            type:'bar',\\n            data:[120, 132, 101, 134, 90, 230],\\n             itemStyle:{\\n                normal:{\\n                    color:'#c0504d'\\n                }\\n            }\\n        },\\n        {\\n            name:'风机',\\n            type:'bar',\\n            itemStyle:{\\n                normal:{\\n                    color:'#9bbb59'\\n                }\\n            },\\n            data:[220, 182, 191, 234, 290, 330]\\n        },\\n        {\\n            name:'泵',\\n            type:'bar',\\n            itemStyle:{\\n                normal:{\\n                    color:'#8064a2'\\n                }\\n            },\\n            data:[150, 232, 201, 154, 190, 330, 410]\\n        },\\n        {\\n            name:'齿轮箱',\\n            type:'bar',\\n            data:[862, 1018, 964, 1026, 1679, 1600],\\n             itemStyle:{\\n                normal:{\\n                    color:'#4bacc6'\\n                }\\n            },\\n        },\\n        {\\n            name:'液压系统',\\n            type:'bar',\\n            data:[620, 732, 701, 734, 1090, 1130],\\n             itemStyle:{\\n                normal:{\\n                    color:'#f79646'\\n                }\\n            },\\n        },\\n        {\\n            name:'传动轴',\\n            type:'bar',\\n            itemStyle:{\\n                normal:{\\n                    color:'#f79646'\\n                }\\n            },\\n            data:[120, 132, 101, 134, 290, 230]\\n        },\\n       \\n    ]\\n};\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "报警记录(工作台:baogang/history/warning",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      //-----------\\n      var attr = [ 'warningType','startDate','endDate'];\\n     var options1 = [\\n          {\\n          id : 0,\\n          label : \\\"振动\\\"\\n      }];/*\\n      var options2 = [{\\n          id : 0,\\n          label : \\\"振动监测\\\"\\n      }];*/\\n      var timeSpan = null;\\n      var opt1 = [options1[0]];\\n     // var opt2 = [options2[0]];\\n      //-----------\\n      target.setScopeValue(\\\"search\\\", {});\\n      var render = function(){\\n       target.setScopeValue(\\\"search/\\\" + attr[0], {\\n          type : \\\"inside\\\",\\n          value : opt1\\n        });/*\\n        target.setScopeValue(\\\"search/\\\" + attr[1], {\\n          type : \\\"inside\\\",\\n          value : opt2\\n        });*/\\n        target.setScopeValue(\\\"search/\\\" + attr[1], {\\n          type : \\\"between\\\",\\n          value : timeSpan\\n        });\\n        var ctrlGroups = [\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"报警类型\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n            type: \\\"select\\\",\\n            value: opt1[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt1 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options1,\\n            format: {\\n              \\\"id\\\": \\\"domains\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            }\\n          }, /*{\\n            type: \\\"label\\\",\\n            value: \\\"检测技术\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"select\\\",\\n            value: opt2[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt2 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options2,\\n            format: {\\n              \\\"id\\\": \\\"id\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            },\\n          }, */\\n          {\\n            type: \\\"label\\\",\\n            value: \\\"起始时间\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: timeSpan,\\n            class: \\\"col-md-3\\\",\\n            on: {\\n              change: function (elem) {\\n                //var start = target.dateHandler(elem.value.start);\\n                //var end = target.dateHandler(elem.value.end);\\n                timeSpan = [elem.value.start, elem.value.end];\\n                render();\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                target.trigger(\\\"search_toDolist\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        target.render(ctrlGroups);\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //自定义输入\\n      var Dictionary = {\\n        warningNumber :  \\\"报警编号\\\",\\n       warningType : \\\"报警类型\\\",\\n        severity : \\\"报警级别\\\",\\n        warningTime : \\\"报警时间\\\",\\n        warningLocation : \\\"报警位置\\\",\\n        appName : \\\"来源\\\",\\n       warningdescription : \\\"报警描述\\\",\\n        state : \\\"报警状态\\\",\\n        processTracing : \\\"过程追踪\\\"\\n      };\\n    \\n      //自定义输入\\n      setTimeout(function(){\\n        var params = [{severities: \\\"1,2,3,4\\\", states: \\\"0,5,10\\\"}, {start: 0, length: 500, statCount: true}];\\n        target.postService(\\\"alertQueryFlexService\\\", \\\"getAlertByPage\\\",params, function(datas){  \\n          var datas = datas.data.data;\\n          var render = function(){\\n            var format = [];\\n            for(var i in Dictionary){\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            var search = target.getScopeValue(\\\"search\\\");\\n            var filter = datas.filter(function(elem){\\n              for(var i in search){\\n                var type = search[i].type;\\n                var value = search[i].value;\\n                if(type == \\\"between\\\"){\\n                  if(value){\\n                    var dt = target.dateHandler(elem[i]);\\n                    var dt0 = value[0];\\n                    var dt1 = value[1];\\n                    var rs = (dt0 ? dt.after(dt0) : true) && (dt1 ? dt.before(dt1) : true);\\n                    if(!rs){\\n                      return false;\\n                    };\\n                  } else {\\n                    return true;\\n                  }\\n\\n                } else if(type == \\\"inside\\\"){\\n                  var some = value.some(function(el){\\n                    return elem[i] == el.title || elem[i] == el.label;\\n                  });\\n                  if(!some){\\n                    return false;\\n                  }\\n                } else if(type == \\\"domains\\\"){\\n                  return elem.domains.indexOf(value.domains) != -1;\\n                }\\n              };\\n              return true;\\n            })\\n            format.push({\\n              name : \\\"处理\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      ticketNo : elem.row.ticketNo\\n                    }\\n                    target.trigger(\\\"historymoveto\\\", \\\"process\\\")\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                return \\\"\\\"\\n              }\\n            });\\n            target.render({\\n              data : filter,\\n              on : {\\n                rowClick : function(event){\\n                  target.createPopupBypath('analysis', {\\n                    title: \\\"诊断分析\\\",\\n                    theme : \\\"system\\\",\\n                    width: \\\"80%\\\"\\n                  }, {\\n                    message: \\\"诊断分析\\\"\\n                  })\\n                }\\n              },\\n              format : format\\n            });\\n          };\\n          target.off(\\\"search_toDolist\\\");\\n          target.on(\\\"search_toDolist\\\", function(){\\n            render();\\n          });\\n          render();\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"$$hashKey\":\"object:1026\"},{\"label\":\"过程跟踪\",\"path\":\"process\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.trigger(\\\"historymoveto\\\", \\\"index\\\")\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n  width : \\\"100%\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = event.target.getParameter(\\\"ticketNo\\\");\\n      console.log(\\\"ticketNo===\\\"+ticketNo);\\n    var ctrlGroups = [\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[{\\nvalue : \\\"<a href='#'>报警产生</a>\\\"\\n},{\\nvalue : \\\"报警类型：振动报警\\\"\\n},{\\nvalue : \\\"报警级别：警告\\\"\\n},{\\nvalue : \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user bg-aqua bg-orange\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]}\\n];   \\nvar dateToString = function(now){  \\n    var year = now.getFullYear();  \\n    var month =(now.getMonth() + 1).toString();  \\n    var day = (now.getDate()).toString();  \\n    var hour = (now.getHours()).toString();  \\n    var minute = (now.getMinutes()).toString();  \\n    var second = (now.getSeconds()).toString();  \\n    if (month.length == 1) {  \\n        month = \\\"0\\\" + month;  \\n    }  \\n    if (day.length == 1) {  \\n        day = \\\"0\\\" + day;  \\n    }  \\n    if (hour.length == 1) {  \\n        hour = \\\"0\\\" + hour;  \\n    }  \\n    if (minute.length == 1) {  \\n        minute = \\\"0\\\" + minute;  \\n    }  \\n    if (second.length == 1) {  \\n        second = \\\"0\\\" + second;  \\n    }  \\n     var dateTime = year + \\\"-\\\" + month + \\\"-\\\" + day +\\\" \\\"+ hour +\\\":\\\"+minute+\\\":\\\"+second;  \\n     return dateTime;  \\n  }  \\n if(ticketNo){\\n\\n        event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\",[ticketNo], function(dt){\\n          if(dt.code == 0){\\n            var ticketHistoryList = dt.data;\\n            var arr = [];\\n            console.info(\\\"ticketHistoryList===\\\",ticketHistoryList);\\n            for(var i in ticketHistoryList){\\n            var cantentList = [];\\n            var historyList = {time:\\\"\\\",icon:\\\"\\\",disList:\\\"\\\"};\\n             if(ticketHistoryList[i].logType == \\\"startEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n             }\\n             if(ticketHistoryList[i].logType == \\\"endEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList[i].message});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"cancelEvent\\\"){\\n                 historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                 cantentList.push({\\\"value\\\":\\\"已撤销\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"userTask\\\"){\\n                 if(ticketHistoryList[i].ticketTask.taskStatus == 200){\\n                     historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                 }else{\\n                      historyList.icon = \\\"fa fa-user fa-lg\\\";\\n                 }\\n                 var taskRemark = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined){\\n                     taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                 }\\n                 var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                 cantentList.push({\\\"value\\\":\\\"<a>\\\"+ticketHistoryList[i].message+\\\"</a>\\\"});\\n                 cantentList.push({\\\"value\\\":\\\"处理人:\\\"+handlerName+\\\"\\\"});\\n                 var foramTime = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.finishedTime){\\n                   foramTime = dateToString(new Date(ticketHistoryList[i].ticketTask.finishedTime));\\n                 }\\n                 console.log(\\\"处理时间==\\\"+ticketHistoryList[i].ticketTask.finishedTime);\\n                cantentList.push({\\\"value\\\":\\\"处理时间:\\\"+foramTime+\\\"\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"serviceTask\\\"){\\n                 historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                 cantentList.push({\\\"value\\\":\\\"处理人:系统\\\"});\\n             }\\n             historyList.disList = cantentList;\\n             arr.push(historyList);\\n            }\\n            console.info(\\\"处理====\\\",arr);\\n            event.target.render(arr);\\n          }else{\\n            console.log(\\\"接口异常\\\");\\n          }\\n        })\\n      }else{\\n          event.target.render(ctrlGroups);\\n      }\\n\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:1033\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "地图展示",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"地图展示\",\"type\":\"baidumap\",\"source\":\"BAIDUMAP\",\"style\":{\"padding\":\"0\",\"font-size\":\"12px\",\"height\":\"950px\",\"margin\":\"5px\"},\"parameters\":{\"mapStyle\":\"[\\n          {\\n                    \\\"featureType\\\": \\\"land\\\",\\n                    \\\"elementType\\\": \\\"geometry\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"color\\\": \\\"#212121\\\"\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"building\\\",\\n                    \\\"elementType\\\": \\\"geometry\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"color\\\": \\\"#2b2b2b\\\"\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"highway\\\",\\n                    \\\"elementType\\\": \\\"all\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"lightness\\\": -42,\\n                              \\\"saturation\\\": -91\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"arterial\\\",\\n                    \\\"elementType\\\": \\\"geometry\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"lightness\\\": -77,\\n                              \\\"saturation\\\": -94\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"green\\\",\\n                    \\\"elementType\\\": \\\"geometry\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"color\\\": \\\"#1b1b1b\\\"\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"water\\\",\\n                    \\\"elementType\\\": \\\"geometry\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"color\\\": \\\"#181818\\\"\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"subway\\\",\\n                    \\\"elementType\\\": \\\"geometry.stroke\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"color\\\": \\\"#181818\\\"\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"railway\\\",\\n                    \\\"elementType\\\": \\\"geometry\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"lightness\\\": -52\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"all\\\",\\n                    \\\"elementType\\\": \\\"labels.text.stroke\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"color\\\": \\\"#313131\\\"\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"all\\\",\\n                    \\\"elementType\\\": \\\"labels.text.fill\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"color\\\": \\\"#8b8787\\\"\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"manmade\\\",\\n                    \\\"elementType\\\": \\\"geometry\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"color\\\": \\\"#1b1b1b\\\"\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"local\\\",\\n                    \\\"elementType\\\": \\\"geometry\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"lightness\\\": -75,\\n                              \\\"saturation\\\": -91\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"subway\\\",\\n                    \\\"elementType\\\": \\\"geometry\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"lightness\\\": -65\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"railway\\\",\\n                    \\\"elementType\\\": \\\"all\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"lightness\\\": -40\\n                    }\\n          },\\n          {\\n                    \\\"featureType\\\": \\\"boundary\\\",\\n                    \\\"elementType\\\": \\\"geometry\\\",\\n                    \\\"stylers\\\": {\\n                              \\\"color\\\": \\\"#8b8787\\\",\\n                              \\\"weight\\\": \\\"1\\\",\\n                              \\\"lightness\\\": -29\\n                    }\\n          }\\n]\"},\"help\":\"../pdf/baidumap.pdf\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var markers = [];\\n      var target = event.target;\\n      var markers = [];\\n      var domains = [{\\n          label : \\\"宝山工业区\\\",\\n          values : {\\n              longitude : 121.409041,\\n              latitude : 31.398623\\n          }\\n      },{\\n          label : \\\"东山工业区\\\",\\n          values : {\\n              longitude : 121.31,\\n              latitude : 31.56\\n          }\\n      },{\\n          label : \\\"青山工业区\\\",\\n          values : {\\n              longitude : 114.444495,\\n              latitude : 30.633205\\n          }\\n      },{\\n          label : \\\"东山工业区\\\",\\n          values : {\\n              longitude : 110.365067,\\n              latitude : 21.257463\\n          }\\n      },{\\n          label : \\\"天山工业区\\\",\\n          values : {\\n              longitude : 87.425049,\\n              latitude : 43.925789\\n          }\\n      },{\\n          label : \\\"梅山工业区\\\",\\n          values : {\\n              longitude : 118.721979,\\n              latitude : 31.954552\\n          }\\n      }]\\n      var loopDomain = function(domain){\\n        return {\\n          id : domain.id,\\n          icon : {\\n            normal : {\\n              url : \\\"../images/ouke/oukeIcon2.svg\\\",\\n              width : 30,\\n              height : 30\\n            },\\n            highlight : {\\n              url : \\\"../images/ouke/oukeIcon2.svg\\\",\\n              width : 50,\\n              height : 50\\n            }\\n          },\\n          lng : domain.values.longitude,\\n          lat : domain.values.latitude,\\n          infoWindow : {\\n            html : domain.label\\n          },\\n          rotation : 0,\\n          minZoom : 0,\\n          maxZoom : 19,\\n          on : {\\n            click : function(){\\n              target.navigateTo(\\\"navigate\\\", {\\n                tabLabel : domain.label,\\n                label : domain.label\\n              }, \\\"blank\\\");\\n            }\\n          }\\n        }\\n      }\\n      for(var i in domains){\\n        markers.push(loopDomain(domains[i]));\\n      };\\n      event.target.render({\\n        center : [118.114129, 30.550339],\\n        markers : markers,\\n        zoom : 6\\n      });\\n    },\\n    highlight : function(event){\\n      var project = event.params.project;\\n      event.target.setCenter([project.values.longitude,project.values.latitude]);\\n      event.target.setZoom(8);\\n      event.target.setHighlightByMakerId(project.id);\\n    }\\n  }\\n}\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢诊断分析一级框架_hanxing_复制1",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"index\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"border\":\"0\",\"border-top\":\"2px solid #e1bf52\",\"background\":\"-webkit-linear-gradient(#082741, #396487)\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":\"[\\n  \\\"kpi\\\",\\n  \\\"{object:kpiQueryModel}\\\"\\n]\",\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      // -------------- 初始化内容在这里设置;\\n      // 0 \\\"报警管理工作台\\\";\\n      // 1 \\\"诊断分析工作台\\\";\\n      // 2 \\\"协同分析工作台\\\";\\n      // 3 \\\"审核工作台\\\";\\n      // 4 \\\"决策管理者\\\";\\n      var ROLE = 1;\\n      if(ROLE == 0){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/alert/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"区域态势\\\",\\n            default : \\\"baogang/alert/area\\\"\\n          }];\\n      } else if(ROLE == 1){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 2,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 3,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 4,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      } else if(ROLE == 2){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/corporation/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          }];\\n      }  else if(ROLE == 3){\\n          var tabs = [{\\n            id : 0,\\n            label : \\\"我的首页\\\",\\n            default : \\\"baogang/home\\\"\\n          },{\\n            id : 1,\\n            label : \\\"审核\\\",\\n            default : \\\"baogang/critisize\\\"\\n          },{\\n            id : 2,\\n            label : \\\"实时状态\\\",\\n            default : \\\"baogang/device\\\"\\n          },{\\n            id : 3,\\n            label : \\\"专业分析\\\",\\n            default : \\\"baogang/analysis\\\"\\n          },{\\n            id : 4,\\n            label : \\\"综合诊断\\\",\\n            default : \\\"baogang/diagnose\\\"\\n          },{\\n            id : 5,\\n            label : \\\"设备履历\\\",\\n            default : \\\"baogang/history\\\"\\n          }];\\n      }\\n      \\n      var CACHEDVALUENAME = \\\"controlPanelLevel1Navigation\\\";\\n      if(ROLE != 1){\\n          CACHEDVALUENAME += \\\"_\\\" + ROLE;\\n      }\\n      var CHANGENAVEEVENT = \\\"lv1viewchange\\\";\\n      var MOVETOEVENT = \\\"lv1moveTo\\\";\\n      var NAVIGATETO = \\\"navigateTo\\\"\\n      // ------------------- 初始化内容在这里设置\\n      var target = event.target;\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        //console.log(\\\"trigger\\\", 40);\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n              var viewTitle = item.label + \\\"(工作台_\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\";\\n              target.getAllMyViews(function(views){\\n                 var find = views.find(function(view){\\n                     viewTitle == view.viewTitle;\\n                 });\\n                 if(find){\\n                     item.viewId = find.viewId;\\n                     callback(find);\\n                 } else {\\n                    target.addView({\\n                      viewTitle : item.label + \\\"(工作台_\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n                      viewType : \\\"dashboard\\\",\\n                      content : json ? json : null,\\n                    }, function(data){\\n                      item.viewId = data.data.viewId;\\n                      callback(data);\\n                    }) \\n                 }\\n              });\\n            \\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                //console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            //console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.indexOf(elem);\\n                  render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                }/**,{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }*/]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  //select(elem)\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            \\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1\\n                //select(concat[target.tabInx]);\\n            };\\n            select(concat[target.tabInx]);\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist, {\\n                class : \\\"steelNavi\\\"\\n            });\\n          };\\n          target.on(\\\"navigateTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        configGroupFound();\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\",\"min-height\":\"calc( 100vh - 123px )\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT;\\n      var MOVETOEVENT;\\n      target.wait(function(){\\n          CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n          MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n          return CHANGENAVEEVENT && CHANGENAVEEVENT;\\n      }, function success(){\\n          target.off(MOVETOEVENT);\\n          target.on(MOVETOEVENT, function(path){\\n            var find = json.groups.find(function(elem){\\n              return elem.path == path;\\n            });\\n            json.layout = find.layout;\\n            target.render(json);\\n          });\\n          target.off(CHANGENAVEEVENT);\\n          target.on(CHANGENAVEEVENT, function(view){\\n            var viewId = view.viewId;\\n            //console.log(\\\"viewId\\\", viewId);\\n            if(viewId){\\n              target.getViewById(viewId, function(view){\\n                var content = view.content;\\n                //console.log(\\\"content\\\", content);\\n                if(content){\\n                  json = JSON.parse(content);\\n                  target.render(json);\\n                } else {\\n                  target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                    target.render(nographe);\\n                  });\\n                }\\n              });\\n            } else {\\n              var viewPath = view.default;\\n              target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n                target.render(json);\\n              });\\n            };\\n          })\\n      });\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[]}]}]}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelLevel1Navigation\",\"CHANGENAVEEVENT\":\"lv1viewchange\",\"MOVETOEVENT\":\"lv1moveTo\"},\"$$hashKey\":\"object:2138\"},{\"label\":\"导航页\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : item.name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              item.name = elem.value;\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:2145\"},{\"label\":\"导航页\",\"path\":\"setting\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var obj = target.getPopupData() || {};\\n      console.log(obj);\\n      var tabs = obj.tabs || [];\\n      var subTabs = obj.subTabs || [];\\n      var editMode = obj.editMode;\\n      var options = tabs.concat(subTabs).map(function(elem){\\n          if(elem.show == undefined){\\n              elem.show = true;\\n          }\\n          return elem\\n      });\\n      var name = target.getPopupData() || \\\"新建工作台\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"启用编辑模式\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"toggle\\\",\\n          value : editMode,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n              editMode = elem.value;\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"显示项\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"multiSelect\\\",\\n          value : name,\\n          class : \\\"col-md-10\\\",\\n          on : {\\n            change : function(elem){\\n                var values = elem.values;\\n             console.log(values);\\n             for(var i in tabs){\\n                 var some = values.some(function(elem){\\n                     return tabs[i].id == elem.id;\\n                 });\\n                 tabs[i].show = some;\\n             };\\n             for(var i in subTabs){\\n                 var some = values.some(function(elem){\\n                     return subTabs[i].id == elem.id;\\n                 });\\n                 subTabs[i].show = some;\\n             }\\n            }\\n          },\\n          options : options,\\n          format : {\\n              id : \\\"id\\\",\\n              label : \\\"label\\\",\\n              value : \\\"show\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit({\\n                  editMode : editMode,\\n                  tabs : tabs,\\n                  subTabs : subTabs\\n              });\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:5017\"},{\"label\":\"导航页\",\"path\":\"info\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      console.log(\\\"ppd\\\",target.getPopupData());\\n      var item = target.getPopupData() || { name : \\\"新建工作台\\\", id : Math.uuid()};\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"工作台名\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-10\\\"\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"路径ID\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.id,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"保存路径\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"label\\\",\\n          value : item.default,\\n          class : \\\"col-md-10\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\",\\n          class : \\\"col-md-2\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"确定\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"right\\\"\\n          },\\n          icon : \\\"glyphicon glyphicon-ok\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.submit(item);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1135\"},{\"label\":\"诊断申请弹出框\",\"path\":\"popup1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"设备信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        abnormal : {\\n          label : \\\"报警信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        major : {\\n          label : \\\"会诊专业\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        position : {\\n          label : \\\"会诊人员\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        notice : {\\n          label : \\\"完成时限\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"10 h\\\"\\n          }]\\n        }\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        return [labelObj, obj, {\\n          type : \\\"button\\\",\\n          value : \\\"\\\",\\n          icon : \\\"glyphicon glyphicon-plus\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-1\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }];\\n      }\\n      for(var i in Dic){\\n        ctrlGroups.push(loop(Dic[i]))\\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        icon : \\\"glyphicon glyphicon-ok\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.console(elem);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n               target.submit();\\n          }\\n        }\\n      }])\\n      console.log()\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:795\"},{\"label\":\"协同工作的弹出框\",\"path\":\"popup2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"设备信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        abnormal : {\\n          label : \\\"报警信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        position : {\\n          label : \\\"会诊人员\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        notice : {\\n          label : \\\"完成时限\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"10 h\\\"\\n          }]\\n        },\\n        major : {\\n          label : \\\"原因分析\\\",\\n          type : \\\"textarea\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        conclusion : {\\n          label : \\\"结论\\\",\\n          type : \\\"textarea\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n      \\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n          \\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        console.log(item)\\n        if(item.type == \\\"position\\\"){\\n         return [labelObj, obj, {\\n          type : \\\"button\\\",\\n          value : \\\"\\\",\\n          icon : \\\"glyphicon glyphicon-plus\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-1\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n          }]; \\n        }\\n         return [labelObj, obj]; \\n     \\n      }\\n      for(var i in Dic){\\n          ctrlGroups.push(loop(Dic[i])); \\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        icon : \\\"glyphicon glyphicon-ok\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.console(elem);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n              target.submit();\\n          }\\n        }\\n      }])\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:989\"},{\"label\":\"临时设备视频诊断申请\",\"path\":\"popup4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"设备名称\\\",\\n          type : \\\"input\\\"\\n        },\\n        abnormal : {\\n          label : \\\"设备类别\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        position : {\\n          label : \\\"制造商\\\",\\n          type : \\\"input\\\",\\n         \\n        },\\n        notice : {\\n          label : \\\"规格型号\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"10 h\\\"\\n          }]\\n        },\\n        major : {\\n          label : \\\"额定转速\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        conclusion : {\\n          label : \\\"设备模板\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n         measurenum : {\\n          label : \\\"测点数量\\\",\\n          type : \\\"input\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n         measureninfo : {\\n          label : \\\"报警信息\\\",\\n          type : \\\"input\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n          persion: {\\n          label : \\\"会诊人员\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n          time: {\\n          label : \\\"会诊时间\\\",\\n          type : \\\"datePicker\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n         time: {\\n          label : \\\"备注\\\",\\n          type : \\\"textarea\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        }\\n      \\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n          \\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        console.log(item)\\n        if(item.type == \\\"position\\\"){\\n         return [labelObj, obj, {\\n          type : \\\"button\\\",\\n          value : \\\"\\\",\\n          icon : \\\"glyphicon glyphicon-plus\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-1\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n          }]; \\n        }\\n         return [labelObj, obj]; \\n     \\n      }\\n      for(var i in Dic){\\n          ctrlGroups.push(loop(Dic[i])); \\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        icon : \\\"glyphicon glyphicon-ok\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.console(elem);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.submit();\\n          }\\n        }\\n      }])\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:1148\"},{\"label\":\"在线设备视频诊断申请\",\"path\":\"popup3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"设备信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        abnormal : {\\n          label : \\\"报警信息\\\",\\n          type : \\\"input\\\"\\n        },\\n        position : {\\n          label : \\\"会诊人员\\\",\\n          type : \\\"select\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"专家\\\"\\n          }]\\n        },\\n        notice : {\\n          label : \\\"会诊时间\\\",\\n          type : \\\"datePicker\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"10 h\\\"\\n          }]\\n        },\\n        conclusion : {\\n          label : \\\"备注\\\",\\n          type : \\\"textarea\\\",\\n         \\n        },\\n      \\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n          \\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        console.log(item)\\n        if(item.type == \\\"position\\\"){\\n         return [labelObj, obj, {\\n          type : \\\"button\\\",\\n          value : \\\"\\\",\\n          icon : \\\"glyphicon glyphicon-plus\\\",\\n          btnclass : \\\"btn btn-default\\\",\\n          class : \\\"col-md-1\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n          }]; \\n        }\\n         return [labelObj, obj]; \\n     \\n      }\\n      for(var i in Dic){\\n          ctrlGroups.push(loop(Dic[i])); \\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        icon : \\\"glyphicon glyphicon-ok\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.console(elem);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.submit();\\n          }\\n        }\\n      }])\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"7\",\"$$hashKey\":\"object:1262\"}],\"setting\":\"{\\n  \\\"showNavi\\\": false,\\n  \\\"theme\\\": \\\"steel\\\"\\n}\"}"
    },
    {
      "viewTitle": "imageprev",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"图片\",\"type\":\"image\",\"source\":\"IMAGE\",\"parameters\":{\"imgSrc\":\"../images/machine/machine2.png\"},\"style\":{\"height\":300,\"margin\":\"5px\",\"background-color\":\"rgba(0,0,0,.1)\",\"border\":\"1px solid #ccc\"},\"advance\":{\"expression\":\"expressioin = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            var data = target.getPopupData();\\n            var file = data.file;\\n            var url = data.url;\\n            if(file){\\n                target.readImageFile(file, function(url){\\n                    target.setImage(url);\\n                });\\n            } else if(url){\\n                target.setImage(url);\\n            };\\n        }\\n    }\\n}\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "视频诊断_gaoqingxin",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"rgb(255, 255, 255)\",\"border\":\"1px solid blue\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"rgb(255, 255, 255)\",\"border\":\"1px solid blue\",\"height\":\"550\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"button\\\",\\n         \\n          icon : \\\"glyphicon glyphicon-user\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"崔工\\\",\\n         \\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        } ],\\n         [{\\n          type : \\\"button\\\",\\n         \\n          icon : \\\"glyphicon glyphicon-user\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"button\\\",\\n          value : \\\"张工\\\",\\n        \\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        } ],\\n          [{\\n          type : \\\"button\\\",\\n         \\n          icon : \\\"glyphicon glyphicon-user\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        } ,{\\n          type : \\\"button\\\",\\n          value : \\\"李工\\\",\\n        \\n           btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        } ]\\n         \\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}]}]}],\"col\":4},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"rgb(255, 255, 255)\",\"border\":\"1px solid blue\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"图片\",\"type\":\"image\",\"source\":\"IMAGE\",\"parameters\":{\"imgSrc\":\"../images/machine/machine2.png\"},\"style\":{\"height\":300,\"margin\":\"5px\",\"background-color\":\"rgba(0,0,0,.1)\",\"border\":\"1px solid #ccc\"},\"advance\":{\"expression\":{}}}]}],\"parameters\":{}},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"rgb(255, 255, 255)\",\"border\":\"1px solid blue\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"color\":\"#444\",\"text-align\":\"center\",\"border-radius\":\"0px\",\"background-color\":\"#eee\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"基本信息\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{},\"echart\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"设备名称\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"label\\\",\\n          value : \\\"2#除磷泵\\\",\\n\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"设备类型\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"label\\\",\\n          value : \\\"在线设备\\\",\\n\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"设备类别\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"label\\\",\\n          value : \\\"除磷泵 \\\",\\n\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"规格型号\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"label\\\",\\n          value : \\\"高压9级 \\\",\\n\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"额定转速\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"label\\\",\\n          value : \\\"3000   \\\",\\n\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"3px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"echart\":{}}]}]}],\"col\":6},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"rgb(255, 255, 255)\",\"border\":\"1px solid blue\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"auto\",\"padding\":\"5px\",\"font-size\":\"18px\",\"font-weight\":\"bold\",\"color\":\"#444\",\"text-align\":\"center\",\"border-radius\":\"0px\",\"background-color\":\"#eee\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工况信息\\\")\\n        }\\n    }\\n}\"},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true},\"parameters\":{},\"echart\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"风机叶轮温度\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"label\\\",\\n          value : \\\"33\\\",\\n\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电子定机温度1\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"label\\\",\\n          value : \\\"33\\\",\\n\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电子定子温度2\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"label\\\",\\n          value : \\\"33 \\\",\\n\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电子定机3\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"label\\\",\\n          value : \\\"33 \\\",\\n\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"风门开度模拟量\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        },\\n        {\\n          type : \\\"label\\\",\\n          value : \\\"3 \\\",\\n\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"3px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}]}],\"col\":6}]}],\"col\":8}]}]}]}],\"col\":12}}"
    },
    {
      "viewTitle": "宝钢视图-协同分析工作台-tangyaqin",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3003],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"140\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(249, 203, 156)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"50\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"总设备数\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"2px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待协同任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":4},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(86, 176, 242)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"周协同任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":4},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3017],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"32\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(106, 168, 79)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"43%\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"月协同任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":4}],\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"会诊发起人\\\",\\n            class:\\\"col-md-6\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                console.info(\\\"会诊发起人===\\\",elem.value);\\n              }\\n            },\\n            options : [{\\\"id\\\":1,\\\"label\\\":\\\"A\\\"},{\\\"id\\\":2,\\\"label\\\":\\\"B\\\"},{\\\"id\\\":3,\\\"label\\\":\\\"C\\\"}],\\n            format : {\\n              \\\"id\\\" : \\\"id\\\",\\n              \\\"label\\\" : \\\"label\\\"\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"equipment\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(){\\n                  return randomText(['告警设备***']);\\n              }\\n          },{\\n              name : \\\"value\\\",\\n              label : \\\"产线\\\",\\n              render : function(){\\n                  return randomText(['风机故障','振动值超标']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(){\\n                  return randomText(['振动值超标','空载']);\\n              }\\n          },{\\n              name : \\\"alertType\\\",\\n              label : \\\"报警信息\\\",\\n              type : \\\"priority\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"接收时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['admin']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"状态\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"处理\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"device\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"分析\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 10; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"会诊发起人\\\",\\n            class:\\\"col-md-6\\\"\\n          },{\\n            type : \\\"select\\\",\\n            value : \\\"请选择\\\",\\n            on : {\\n              change : function(elem){\\n                console.info(\\\"会诊发起人===\\\",elem.value);\\n              }\\n            },\\n            options : [{\\\"id\\\":1,\\\"label\\\":\\\"A\\\"},{\\\"id\\\":2,\\\"label\\\":\\\"B\\\"},{\\\"id\\\":3,\\\"label\\\":\\\"C\\\"}],\\n            format : {\\n              \\\"id\\\" : \\\"id\\\",\\n              \\\"label\\\" : \\\"label\\\"\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"已办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"equipment\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(){\\n                  return randomText(['告警设备***']);\\n              }\\n          },{\\n              name : \\\"value\\\",\\n              label : \\\"产线\\\",\\n              render : function(){\\n                  return randomText(['风机故障','振动值超标']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(){\\n                  return randomText(['振动值超标','空载']);\\n              }\\n          },{\\n              name : \\\"alertType\\\",\\n              label : \\\"报警信息\\\",\\n              type : \\\"priority\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"接收时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['admin']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"状态\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"device\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 10; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]}],\"col\":12},\"$$hashKey\":\"object:2665\"},{\"label\":\"设备状态\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n\\t    \\\"init\\\" : function(event){\\n\\t        var target = event.target;\\n\\t        list = [{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"0%\\\",\\n    \\t        left : \\\"10%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"3%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"55%\\\",\\n    \\t        left : \\\"15%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"50%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        }]\\n\\t        for(var i in list){\\n\\t            target.createOverlayBypath(\\\"overlay\\\", {\\n    \\t            width : list[i].width,\\n    \\t            top : list[i].top,\\n    \\t            left : list[i].left,\\n    \\t            renderTo : \\\"self\\\"\\n    \\t        })\\n\\t        }\\n\\t        \\n\\t        target.render();\\n\\t    },\\n        \\\"click\\\" : function(event){\\n          console.log(event);\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826066,\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\",\"color\":\"rgb(68, 68, 68)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 510070991266351;\\n      \\n      var render = function(id){\\n        target.getResourceById(id,function(returnData){\\n            var createGroup = function(){\\n                var prodate = target.dateHandler(returnData.values.productionDate);\\n                var current = target.dateHandler(new Date());\\n                var diff = current.minus(prodate)\\n                var ctrlGroups = [];\\n                returnData.values.productionDate = prodate.getDateString(\\\"yy-mm-dd\\\");\\n                returnData.values.runtime = target.topDateString(diff, \\\"dd天hh小时\\\");\\n                var attrNames = {\\n                    modelNo : \\\"设备型号\\\",\\n                    series : \\\"序列号\\\",\\n                    type : \\\"设备类型\\\",\\n                    brands : \\\"设备品牌\\\",\\n                    // manufacturing : \\\"生产制造方\\\",\\n                    productionDate : \\\"接入时间\\\",\\n                    runtime : \\\"运行时长\\\",\\n                    state : \\\"当前状态\\\",\\n                    scope : \\\"加工范围\\\",\\n                    density : \\\"加工精度\\\",\\n                    utilization : \\\"利用率\\\",\\n                    // conforma : \\\"一致性\\\",\\n                    yield : \\\"平均产品合格率\\\"\\n                }\\n                /**[\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备型号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.modelNo,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"序列号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.series,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备类型：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.type,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备品牌：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.brands,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"生产制造方：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.manufacturing,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"接入时间：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : prodate.getDateString(\\\"yy-mm-dd\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"运行时长：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : target.topDateString(diff, \\\"dd天hh小时\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"当前状态：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.state,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工范围：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.scope,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工精度：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.density,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"利用率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.utilization,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"一致性：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.conforma,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"平均产品合格率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :returnData.values.yield,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]*/\\n                console.log(returnData.values)\\n                for(var i in returnData.values){\\n                    if(attrNames[i]){\\n                     ctrlGroups.push([{\\n                      type : \\\"label\\\",\\n                      value : attrNames[i] + \\\"：\\\",\\n                      style : {\\n                        \\\"text-align\\\" : \\\"right\\\",\\n                        \\\"font-weight\\\" : \\\"500\\\",\\n                        \\\"color\\\" : \\\"#939393\\\"\\n                      }\\n                    },{\\n                      type : \\\"label\\\",\\n                      value : returnData.values[i],\\n                      style : {\\n                        \\\"text-align\\\" : \\\"left\\\",\\n                        \\\"font-weight\\\" : \\\"600\\\",\\n                        \\\"color\\\" : \\\"#0980db\\\",\\n                        \\\"line-height\\\" : \\\"30px\\\"\\n                      }\\n                    }])\\n                  };\\n                };\\n              event.target.render(ctrlGroups);\\n            }\\n          createGroup();\\n        })\\n      }\\n      \\n      \\n      \\n      /* 请求接口的方法\\n      target.on(\\\"production_resource_changed\\\", function(resourceId){\\n        render(resourceId)\\n      });\\n      render(id);\\n      */\\n      \\n    var groupData = [\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"机组：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"合成气压缩机组\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"轴承:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"测点名称:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"转速:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"9440\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"通频值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"25.18\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"1X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.42\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"2X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"0.70\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"0.5X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.01\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"GAP电压:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-10.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"有效值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"7.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标序号:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"512\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标时间:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"07:23:32\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\" 波形值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-12.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"幅值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"频率\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"倍频\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.00\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"67\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"单位\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"um\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]\\n        ];\\n     event.target.render(groupData);\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警通知\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}]}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:6278\"},{\"label\":\"分析-综合趋势\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            },\\n             {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":10}]}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:7992\"},{\"label\":\"分析-特征趋势\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备分析\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"信号分析\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:8617\"},{\"label\":\"分析-时域分析\",\"path\":\"page4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 \\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"添加依据\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"15px\",\"border\":\"1px solid #eee\",\"border-top\":0},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var dataList = (function(){\\n        var rs = [];\\n        var inx = 0;\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          rs.push(inx + \\\"\\\");\\n          inx ++;\\n        }\\n        return rs;\\n      })();\\n      var valueList = (function(){\\n        var rs = [];\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          var nu = 0;\\n          for(var j=0; j<8; j++){\\n            nu += (Math.pow((1 / (j+1)), 3) * Math.sin(i * Math.pow(3 ,j))) * 10 + Math.random() * 1.3;\\n          };\\n          rs.push(nu.toFixed(2));\\n        };\\n        return rs;\\n      })();\\n      var data = [];\\n      for (var i = 0; i < dataList.length; i++) {\\n        data.push([dataList[i], valueList[i]])\\n      }\\n      var dateList = data.map(function (item) {\\n        return item[0];\\n      });\\n      var valueList = data.map(function (item) {\\n        return item[1];\\n      });\\n      var render = function(init, sub){\\n          console.log(\\\"init\\\", init, sub);\\n        var type = target.getValue(\\\"type\\\") || 0;\\n        var x0 = target.getValue(\\\"x0\\\") || 0;\\n        var x1 = target.getValue(\\\"x1\\\") || 180;\\n        if(type == 0){\\n            var markLine = undefined;\\n            var markPoint = undefined;\\n        } else if(type == 1){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                  width : 1,\\n                  color : \\\"#436fff\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n              normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var item = {\\n                    xAxis: x0 * (i + 2) + ''\\n                  };\\n                  rs.push(item)\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n            var markPoint = {\\n                symbol : \\\"circle\\\",\\n                symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n    //                        formatter: '{b}: {d}'\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"blue\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var yData = data[x0 / 1 * (i + 2)];\\n                  if (yData) {\\n                    var item = {\\n                      xAxis: x0 * (i + 2) + '',\\n                      yAxis: yData[1]\\n                    };\\n                    rs.push(item)\\n                  }\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n        } else if(type == 2){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                    color : \\\"red\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n                normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                    xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                  })\\n                };\\n                return rs;\\n              })()\\n            };\\n            var markPoint = {\\n              symbol : \\\"circle\\\",\\n              symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"red\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                      xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                      yAxis : valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                  })\\n                };\\n                return rs;\\n              })()\\n            }\\n        };\\n        var option = {\\n          grid: [{\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }, {\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }],\\n          tooltip: {\\n            \\\"alwaysShowContent\\\": true,\\n            triggerOn: 'none'\\n          },\\n          xAxis: [{\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                show: true,\\n                formatter: function (val) {\\n                    console.log(\\\"a\\\", type);\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x0\\\", val.value);\\n                    target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    console.log(\\\"a--init\\\", init);\\n                    if(type == 1){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"blue\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n              },\\n              \\\"value\\\": x0,\\n              snap: false,\\n            }\\n          }, {\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x1\\\", val.value)\\n                    target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 2){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"red\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n\\n              },\\n              \\\"value\\\": x1,\\n              snap: false,\\n            },\\n            gridIndex: 1\\n          }],\\n          yAxis: [{\\n            splitLine: {show: true}\\n\\n          }, {\\n            splitLine: {show: false},\\n            gridIndex: 1\\n          }],\\n          dataZoom: [\\n            {\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n              xAxisIndex: [0,1]\\n            }\\n          ],\\n          series: [{\\n            type: 'line',\\n            showSymbol: false,\\n            data:valueList,\\n            markLine : markLine,\\n            markPoint : markPoint\\n          }, {\\n            type: 'line',\\n            showSymbol: false,\\n            lineStyle : {\\n              normal : {\\n                opacity : 0\\n              }\\n            },\\n            data:valueList,\\n            xAxisIndex: 1,\\n            yAxisIndex: 1\\n          }]\\n        };\\n        option\\n        target.render(option);\\n      };\\n      render();\\n      target.on(\\\"renderChart\\\", function(){\\n          render(undefined, \\\"renderChart\\\");\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"default\"}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"均值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"平均幅值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"有效值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"方根幅值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"波形指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"峭度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"裕度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"峰值指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"脉冲指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"歪度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:8704\"},{\"label\":\"分析-频域波形\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 \\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"添加依据\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"15px\",\"border\":\"1px solid #eee\",\"border-top\":0},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":7},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      var render = function(){\\n          var type = target.getValue(\\\"type\\\") || 0;\\n          var feature = target.getValue(\\\"type\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"radio\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"200px\\\"\\n              },\\n              value : 1,\\n              options : [{\\n                  id : 0,\\n                  label : \\\"显示谱峰\\\"\\n              },{\\n                  id : 1,\\n                  label : \\\"不显示\\\"\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"倍频\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : type == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 1){\\n                          target.setValue(\\\"type\\\", 1);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"边带\\\",\\n                icon : \\\"glyphicon glyphicon-list\\\",\\n                btnclass : type == 2 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 2){\\n                          target.setValue(\\\"type\\\", 2);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"特征值\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : feature == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      \\n                  }\\n                }\\n              }]\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      };\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":5}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var dataList = (function(){\\n        var rs = [];\\n        var inx = 0;\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          rs.push(inx + \\\"\\\");\\n          inx ++;\\n        }\\n        return rs;\\n      })();\\n      var valueList = (function(){\\n        var rs = [];\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          var nu = 0;\\n          for(var j=0; j<8; j++){\\n            nu += (Math.pow((1 / (j+1)), 3) * Math.sin(i * Math.pow(3 ,j))) * 10 + Math.random() * 1.3;\\n          };\\n          rs.push(nu.toFixed(2));\\n        };\\n        return rs;\\n      })();\\n      var data = [];\\n      for (var i = 0; i < dataList.length; i++) {\\n        data.push([dataList[i], valueList[i]])\\n      }\\n      var dateList = data.map(function (item) {\\n        return item[0];\\n      });\\n      var valueList = data.map(function (item) {\\n        return item[1];\\n      });\\n      var render = function(init, sub){\\n          console.log(\\\"init\\\", init, sub);\\n        var type = target.getValue(\\\"type\\\") || 0;\\n        var x0 = target.getValue(\\\"x0\\\") || 0;\\n        var x1 = target.getValue(\\\"x1\\\") || 180;\\n        if(type == 0){\\n            var markLine = undefined;\\n            var markPoint = undefined;\\n        } else if(type == 1){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                  width : 1,\\n                  color : \\\"#436fff\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n              normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var item = {\\n                    xAxis: x0 * (i + 2) + ''\\n                  };\\n                  rs.push(item)\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n            var markPoint = {\\n                symbol : \\\"circle\\\",\\n                symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n    //                        formatter: '{b}: {d}'\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"blue\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var yData = data[x0 / 1 * (i + 2)];\\n                  if (yData) {\\n                    var item = {\\n                      xAxis: x0 * (i + 2) + '',\\n                      yAxis: yData[1]\\n                    };\\n                    rs.push(item)\\n                  }\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n        } else if(type == 2){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                    color : \\\"red\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n                normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                    xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                  })\\n                };\\n                return rs;\\n              })()\\n            };\\n            var markPoint = {\\n              symbol : \\\"circle\\\",\\n              symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"red\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                      xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                      yAxis : valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                  })\\n                };\\n                return rs;\\n              })()\\n            }\\n        };\\n        var option = {\\n          grid: [{\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }, {\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }],\\n          tooltip: {\\n            \\\"alwaysShowContent\\\": true,\\n            triggerOn: 'none'\\n          },\\n          xAxis: [{\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                show: true,\\n                formatter: function (val) {\\n                    console.log(\\\"a\\\", type);\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x0\\\", val.value);\\n                    target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    console.log(\\\"a--init\\\", init);\\n                    if(type == 1){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"blue\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n              },\\n              \\\"value\\\": x0,\\n              snap: false,\\n            }\\n          }, {\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x1\\\", val.value)\\n                    target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 2){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"red\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n\\n              },\\n              \\\"value\\\": x1,\\n              snap: false,\\n            },\\n            gridIndex: 1\\n          }],\\n          yAxis: [{\\n            splitLine: {show: true}\\n\\n          }, {\\n            splitLine: {show: false},\\n            gridIndex: 1\\n          }],\\n          dataZoom: [\\n            {\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n              xAxisIndex: [0,1]\\n            }\\n          ],\\n          series: [{\\n            type: 'line',\\n            showSymbol: false,\\n            data:valueList,\\n            markLine : markLine,\\n            markPoint : markPoint\\n          }, {\\n            type: 'line',\\n            showSymbol: false,\\n            lineStyle : {\\n              normal : {\\n                opacity : 0\\n              }\\n            },\\n            data:valueList,\\n            xAxisIndex: 1,\\n            yAxisIndex: 1\\n          }]\\n        };\\n        option\\n        target.render(option);\\n      };\\n      render();\\n      target.on(\\\"renderChart\\\", function(){\\n          render(undefined, \\\"renderChart\\\");\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"default\"}}],\"col\":9},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"border\":\"1px solid #eee\",\"min-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [];\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n      var createTr = function(){\\n        return [{\\n          type : \\\"jquery\\\",\\n          render : function(){\\n              var div = $(\\\"<div></div>\\\");\\n              div.width(20);\\n              div.height(20);\\n              div.css(\\\"background-color\\\", randomText([\\\"orange\\\", \\\"red\\\"]));\\n              div.css(\\\"border-radius\\\", \\\"50%\\\");\\n              return div;\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"Z1 0.00/0.09\\\",\\n          style : {\\n              \\\"margin-left\\\" : \\\"20px\\\"\\n          }\\n        }]\\n      }\\n      for(var i = 0; i < 5; i++){\\n          ctrlGroups.push(createTr());\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}}],\"col\":3}]}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:8737\"},{\"label\":\"分析-诊断履历\",\"path\":\"page6\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"检测技术\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"检修对象\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"报警时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"异常信息来源\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"反馈人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"检测技术\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"collect\\\",\\n              label : \\\"工艺状况\\\",\\n              render : function(){\\n                  return randomText(['电流300A','轴承温度55度'])\\n              }\\n          },{\\n              name : \\\"unusual\\\",\\n              label : \\\"异常现象\\\",\\n              render : function(){ \\n                 return  randomText(['泵体输入侧轴承振动超标','泵体输入两轴承振动超标']) \\n            }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:8776\"},{\"label\":\"协同诊断-协同诊断\",\"path\":\"page9\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"发起人\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"协同申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"状态\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"诊断详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断详情\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"9\",\"$$hashKey\":\"object:1444\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "诊断履历",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      //-----------\\n      var attr = ['examdevice', 'tech', 'arrisingTime'];\\n      var options1 = [{\\n          id : 0,\\n          label : \\\"助燃风机\\\"\\n      }];\\n      var options2 = [{\\n          id : 0,\\n          label : \\\"振动监测\\\"\\n      }];\\n      var timeSpan = null;\\n      var opt1 = [options1[0]];\\n      var opt2 = [options2[0]];\\n      //-----------\\n      target.setScopeValue(\\\"search\\\", {});\\n      var render = function(){\\n        target.setScopeValue(\\\"search/\\\" + attr[0], {\\n          type : \\\"inside\\\",\\n          value : opt1\\n        });\\n        target.setScopeValue(\\\"search/\\\" + attr[1], {\\n          type : \\\"inside\\\",\\n          value : opt2\\n        });\\n        target.setScopeValue(\\\"search/\\\" + attr[2], {\\n          type : \\\"between\\\",\\n          value : timeSpan\\n        });\\n        var ctrlGroups = [\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n            type: \\\"select\\\",\\n            value: opt1[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt1 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options1,\\n            format: {\\n              \\\"id\\\": \\\"domains\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            }\\n          }, {\\n            type: \\\"label\\\",\\n            value: \\\"检测技术\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"select\\\",\\n            value: opt2[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt2 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options2,\\n            format: {\\n              \\\"id\\\": \\\"id\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            },\\n          }, {\\n            type: \\\"label\\\",\\n            value: \\\"起始时间\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: timeSpan,\\n            class: \\\"col-md-3\\\",\\n            on: {\\n              change: function (elem) {\\n                //var start = target.dateHandler(elem.value.start);\\n                //var end = target.dateHandler(elem.value.end);\\n                timeSpan = [elem.value.start, elem.value.end];\\n                render();\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                target.trigger(\\\"search_toDolist\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        target.render(ctrlGroups);\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //自定义输入\\n      var Dictionary = {\\n        equipment :  \\\"设备编号\\\",\\n        examdevice : \\\"检测对象\\\",\\n        arrisingTime : \\\"告警时间\\\",\\n        from : \\\"异常信息来源\\\",\\n        tech : \\\"检测技术\\\",\\n        status : \\\"工艺状况\\\",\\n        abnormal : \\\"异常现象\\\",\\n        position : \\\"检测部位\\\",\\n        kpi : \\\"速度有效值\\\"\\n      };\\n      var simulate = {\\n        equipment :  function(inx, elem, attr){\\n          return \\\"690530M05\\\" + inx\\n        },\\n        examdevice : function(inx, elem, attr){\\n          //return elem.random(5,0)\\n          return elem.randomText(['助燃风机']);\\n        },\\n        arrisingTime : function(inx, elem, attr){\\n          var current = target.dateHandler(new Date()).addDay(-10);\\n          return current.addHour(parseInt(inx) * 24).getDateString(\\\"yy/MM/dd,hh:mm:ss\\\");\\n        },\\n        from : function(inx, elem, attr){\\n          return elem.randomText(['系统自动']);\\n        },\\n        tech : function(inx, elem, attr){\\n          return elem.randomText(['振动监测']);\\n        },\\n        status : function(inx, elem, attr){\\n          return elem.randomText(['额定工况']);\\n        },\\n        abnormal :  function(inx, elem, attr){\\n          return elem.randomText(['振动值超标，轴承存在异音', '风机垂直振动值严重超标', '传动轴轴承座振动超标']);\\n        },\\n        position : function(inx, elem, attr){\\n          return elem.randomText(['泵', '轴承座']);\\n        },\\n        kpi : function(inx, elem, attr){\\n          return elem.randomText(['速度有效值']);\\n        }\\n      };\\n      //自定义输入\\n      setTimeout(function(){\\n        target.getSimulateApi(simulate, 10, function(datas){\\n          var render = function(){\\n            var format = [];\\n            for(var i in Dictionary){\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            var search = target.getScopeValue(\\\"search\\\");\\n            var filter = datas.filter(function(elem){\\n              for(var i in search){\\n                var type = search[i].type;\\n                var value = search[i].value;\\n                if(type == \\\"between\\\"){\\n                  if(value){\\n                    var dt = target.dateHandler(elem[i]);\\n                    var dt0 = value[0];\\n                    var dt1 = value[1];\\n                    var rs = (dt0 ? dt.after(dt0) : true) && (dt1 ? dt.before(dt1) : true);\\n                    if(!rs){\\n                      return false;\\n                    };\\n                  } else {\\n                    return true;\\n                  }\\n\\n                } else if(type == \\\"inside\\\"){\\n                  var some = value.some(function(el){\\n                    return elem[i] == el.title || elem[i] == el.label;\\n                  });\\n                  if(!some){\\n                    return false;\\n                  }\\n                } else if(type == \\\"domains\\\"){\\n                  return elem.domains.indexOf(value.domains) != -1;\\n                }\\n              };\\n              return true;\\n            })\\n            format.push({\\n              name : \\\"处理\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"device\\\", {\\n                      tabLabel : elem.label\\n                    });\\n\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                return \\\"\\\"\\n              }\\n            });\\n            target.render({\\n              data : filter,\\n              on : {\\n                rowClick : function(event){\\n                  target.createPopupBypath('analysis', {\\n                    title: \\\"诊断分析\\\",\\n                    theme : \\\"system\\\",\\n                    width: \\\"80%\\\"\\n                  }, {\\n                    message: \\\"诊断分析\\\"\\n                  })\\n                }\\n              },\\n              format : format\\n            });\\n          };\\n          target.off(\\\"search_toDolist\\\");\\n          target.on(\\\"search_toDolist\\\", function(){\\n            render();\\n          });\\n          render();\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢视图-审核工作台_tangyaqin_复制1",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3003],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"140\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(78, 195, 195)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"50\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"总设备数\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"2px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待审核任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(86, 176, 242)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"审核中任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(241, 194, 50)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"月新增设备\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"14px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"周审核任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3017],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"32\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(182, 161, 224)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"43\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"审核通过率\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3}],\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"时 间:\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\"\\n          }]\\n        ];\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                  width:\\\"55px\\\",\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var workObj = {};\\n      var render = function(taskData){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(data, type, full){\\n                   return data;\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"taskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              type : \\\"taskStatus\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"审核\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      taskId: elem.row.id\\n                    }\\n                     target.setValue(\\\"taskList\\\",  workObj[elem.row.ticketNo]);\\n                    target.navigateTo(\\\"page3\\\",param);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 10; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : taskData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n        event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n    \\t\\tif(dt.code == 0){\\n    \\t\\t    var workList = dt.data;\\n    \\t\\t    for(var i in workList){\\n    \\t\\t        workObj[workList[i].ticketNo] = workList[i];\\n    \\t\\t    }\\n    \\t\\t      event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByStatus\\\", 10, function(tc){\\n                    if(tc.code == 0){\\n                        var taskList = tc.data;\\n                        var taskArr = [];\\n                        for(var j in taskList){\\n                            taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                            taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                            if(workObj[taskList[j].ticketNo] != undefined){\\n                                if(workObj[taskList[j].ticketNo].values != undefined){\\n                                 if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                                     taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                                     taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                                     taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                                     taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                                     taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                                 }\\n                                }\\n                            }\\n                            taskArr.push(taskList[j]);\\n                        }\\n                         render(taskArr);\\n                    }\\n    \\t\\t          \\n    \\t\\t      })\\n    \\t\\t}else{\\n    \\t\\t event.target.growl(tc.message,\\\"error\\\");\\n            }\\n       })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"任务列表\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(taskData){\\n          var format = [{\\n              name : \\\"id\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(){\\n                  return randomText(['告警设备***']);\\n              }\\n          },{\\n              name : \\\"deviceId\\\",\\n              label : \\\"产线\\\",\\n              render : function(){\\n                  return randomText(['风机故障','振动值超标']);\\n              }\\n          },{\\n              name : \\\"deviceId\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(){\\n                  return randomText(['振动值超标','空载']);\\n              }\\n          },{\\n              name : \\\"deviceId\\\",\\n              label : \\\"报警信息\\\",\\n              type : \\\"priority\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"报警级别\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"senderName\\\",\\n              label : \\\"发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"taskConfigName\\\",\\n              label : \\\"任务类型\\\",\\n              render : function(){\\n                  return randomText(['admin']);\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"处理人\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"taskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              type : \\\"orderStatus\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"过程跟踪\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"page7\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 10; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : taskData,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTicketTasks\\\", [], function(tc){\\n        if(tc.code == 0){\\n         render(tc.data);\\n        }else{\\n\\t\\t event.target.growl(tc.message,\\\"error\\\");\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]}],\"col\":12},\"$$hashKey\":\"object:2665\"},{\"label\":\"设备状态\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n\\t    \\\"init\\\" : function(event){\\n\\t        var target = event.target;\\n\\t        list = [{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"0%\\\",\\n    \\t        left : \\\"10%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"3%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"55%\\\",\\n    \\t        left : \\\"15%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"50%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        }]\\n\\t        for(var i in list){\\n\\t            target.createOverlayBypath(\\\"overlay\\\", {\\n    \\t            width : list[i].width,\\n    \\t            top : list[i].top,\\n    \\t            left : list[i].left,\\n    \\t            renderTo : \\\"self\\\"\\n    \\t        })\\n\\t        }\\n\\t        \\n\\t        target.render();\\n\\t    },\\n        \\\"click\\\" : function(event){\\n          console.log(event);\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826066,\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\",\"color\":\"rgb(68, 68, 68)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 510070991266351;\\n      \\n      var render = function(id){\\n        target.getResourceById(id,function(returnData){\\n            var createGroup = function(){\\n                var prodate = target.dateHandler(returnData.values.productionDate);\\n                var current = target.dateHandler(new Date());\\n                var diff = current.minus(prodate)\\n                var ctrlGroups = [];\\n                returnData.values.productionDate = prodate.getDateString(\\\"yy-mm-dd\\\");\\n                returnData.values.runtime = target.topDateString(diff, \\\"dd天hh小时\\\");\\n                var attrNames = {\\n                    modelNo : \\\"设备型号\\\",\\n                    series : \\\"序列号\\\",\\n                    type : \\\"设备类型\\\",\\n                    brands : \\\"设备品牌\\\",\\n                    // manufacturing : \\\"生产制造方\\\",\\n                    productionDate : \\\"接入时间\\\",\\n                    runtime : \\\"运行时长\\\",\\n                    state : \\\"当前状态\\\",\\n                    scope : \\\"加工范围\\\",\\n                    density : \\\"加工精度\\\",\\n                    utilization : \\\"利用率\\\",\\n                    // conforma : \\\"一致性\\\",\\n                    yield : \\\"平均产品合格率\\\"\\n                }\\n                /**[\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备型号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.modelNo,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"序列号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.series,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备类型：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.type,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备品牌：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.brands,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"生产制造方：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.manufacturing,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"接入时间：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : prodate.getDateString(\\\"yy-mm-dd\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"运行时长：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : target.topDateString(diff, \\\"dd天hh小时\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"当前状态：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.state,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工范围：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.scope,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工精度：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.density,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"利用率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.utilization,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"一致性：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.conforma,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"平均产品合格率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :returnData.values.yield,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]*/\\n                console.log(returnData.values)\\n                for(var i in returnData.values){\\n                    if(attrNames[i]){\\n                     ctrlGroups.push([{\\n                      type : \\\"label\\\",\\n                      value : attrNames[i] + \\\"：\\\",\\n                      style : {\\n                        \\\"text-align\\\" : \\\"right\\\",\\n                        \\\"font-weight\\\" : \\\"500\\\",\\n                        \\\"color\\\" : \\\"#939393\\\"\\n                      }\\n                    },{\\n                      type : \\\"label\\\",\\n                      value : returnData.values[i],\\n                      style : {\\n                        \\\"text-align\\\" : \\\"left\\\",\\n                        \\\"font-weight\\\" : \\\"600\\\",\\n                        \\\"color\\\" : \\\"#0980db\\\",\\n                        \\\"line-height\\\" : \\\"30px\\\"\\n                      }\\n                    }])\\n                  };\\n                };\\n              event.target.render(ctrlGroups);\\n            }\\n          createGroup();\\n        })\\n      }\\n      \\n      \\n      \\n      /* 请求接口的方法\\n      target.on(\\\"production_resource_changed\\\", function(resourceId){\\n        render(resourceId)\\n      });\\n      render(id);\\n      */\\n      \\n    var groupData = [\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"机组：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"合成气压缩机组\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"轴承:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"测点名称:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"转速:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"9440\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"通频值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"25.18\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"1X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.42\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"2X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"0.70\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"0.5X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.01\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"GAP电压:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-10.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"有效值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"7.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标序号:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"512\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标时间:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"07:23:32\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\" 波形值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-12.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"幅值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"频率\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"倍频\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.00\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"67\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"单位\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"um\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]\\n        ];\\n     event.target.render(groupData);\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警通知\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}]}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:6278\"},{\"label\":\"分析\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            },\\n             {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":10}]}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:7992\"},{\"label\":\"诊断-报告编制\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"设备名称:xxx\\\",\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"设备编号:xxx\\\",\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var taskId = event.target.getParameter(\\\"taskId\\\");\\n      var taskList = target.getValue(\\\"taskList\\\");\\n      console.info(\\\"taskList====\\\",taskList);\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"设备告警信息\\\",\\n          class:\\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : \\\"\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 异常现象\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 工艺状况\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 检测部位\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"部位1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"部位2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"部位3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"注意事项\\\"\\n        },{\\n          type : \\\"textarea\\\",\\n          value : \\\"\\\"\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"*判断标准\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"标准1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"标准3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*判断依据\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"依据1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"依据2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"依据3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"判断依据图片\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"选择图片\\\",\\n          btnclass : \\\"btn btn-default\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*综合状态等级\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"等级1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"等级2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"等级3\\\"\\n          }], format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n          \\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*异常部位\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"部位1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"部位2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"部位3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*故障产生原因\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"原因1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"原因2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"原因3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*综合判断结论\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"结论1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"结论2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"结论3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*处理方案建议\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"建议1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"建议2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"建议3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*审核人\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"选择人\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"角色1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"角色2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"角色3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"上传附件\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"选择文件\\\",\\n          btnclass : \\\"btn btn-default\\\"\\n        }]\\n      ];\\n      // var ctrlGroups = [];\\n       event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n        if(tc.code == 0){\\n         console.info(\\\"getTicketTaskById====\\\",tc.data);\\n         if(tc.data.attributeDefinitions.length > 0){\\n             var attrAry = tc.data.attributeDefinitions;\\n             for(var i in attrAry){\\n                 ctrlGroups.push(ctrlGroupsObj[attrAry[i].label]);\\n             }\\n         }\\n         \\n         event.global.fire(\\\"savetask\\\",tc.data)\\n         console.info(\\\"savetask====\\\",tc.data);\\n         event.target.render(ctrlGroups);\\n        }else{\\n\\t\\t event.target.growl(tc.message,\\\"info\\\");\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"通   过\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                \\n                var obj = {\\\"isAudit\\\":1,\\\"auditOpinion\\\":\\\"\\\"};\\n                event.global.detailTask.taskStatus = 200;\\n               event.global.detailTask.values = obj;\\n                console.info(\\\"通   过======\\\",event.global.detailTask);\\n                  var taskObj = {\\\"detailTask\\\":event.global.detailTask};\\n                  target.createPopupBypath(\\\"popup\\\", {\\n                        title : \\\"审核\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        on : {\\n                          submit : function(data){\\n                           console.info(\\\"submitsubmit====\\\",data);\\n                          // if(data.statuc == \\\"success\\\"){\\n                            //  event.global.fire(\\\"query\\\",{});\\n                          // }\\n                          }\\n                        }\\n                      }, taskObj);\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"驳   回\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                  var obj = {\\\"isAudit\\\":0,\\\"auditOpinion\\\":\\\"\\\"};\\n                   event.global.detailTask.taskStatus = 200;\\n                   event.global.detailTask.values = obj;\\n                 console.info(\\\"驳   回======\\\",event.global.detailTask);\\n                 var taskObj = {\\\"detailTask\\\":event.global.detailTask};\\n                  target.createPopupBypath(\\\"popup\\\", {\\n                        title : \\\"审核\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        on : {\\n                          submit : function(data){\\n                           console.info(\\\"submitsubmit====\\\",data);\\n                           //if(data.statuc == \\\"success\\\"){\\n                            //  event.global.fire(\\\"query\\\",{});\\n                           //}\\n                          }\\n                        }\\n                      }, taskObj);\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1223\"},{\"label\":\"诊断-多专业诊断\",\"path\":\"page4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"报警记录\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"诊断申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"专业类型\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"多专业诊断\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:1271\"},{\"label\":\"诊断-协同诊断\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"协同人\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"协同申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"状态\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:1304\"},{\"label\":\"诊断-视频诊断\",\"path\":\"page6\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"视频诊断申请\\\",\\n          class:\\\"col-md-2\\\",\\n          style:{\\n              width:\\\"200px\\\",\\n              fontSize:\\\"16px\\\",\\n              fontWeight:\\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"设备信息：\\\",\\n          class:\\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : \\\"\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"报警信息:\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 会诊人员\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],\\n         [{\\n          type : \\\"button\\\",\\n          colSpan:2,\\n          value : \\\"发起视频诊断\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n      \\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n \\n     \\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:1343\"},{\"label\":\"过程历史\",\"path\":\"page7\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n  width : \\\"100%\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n    var ctrlGroups = [\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[{\\nvalue : \\\"<a href='#'>报警产生</a>\\\"\\n},{\\nvalue : \\\"报警类型：振动报警\\\"\\n},{\\nvalue : \\\"报警级别：警告\\\"\\n},{\\nvalue : \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user bg-aqua\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>报警处理</a>\\\"\\n},{\\nvalue : \\\"处理人：报警信息管理员A\\\"\\n},{\\nvalue : \\\"处理方式：分配/忽略\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user bg-aqua\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>多专业诊断</a>\\\"\\n},{\\nvalue : \\\"发起人：诊断分析技术员B\\\"\\n},{\\nvalue : \\\"会诊专业：电气\\\"\\n},{\\nvalue : \\\"会诊人员：电气专业技术员C、电气专业技术员P\\\"\\n},{\\nvalue : \\\"专业结论：电气诊断结论\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user bg-aqua\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>协同诊断</a>\\\"\\n},{\\nvalue : \\\"发起人：诊断分析技术员B\\\"\\n},{\\nvalue : \\\"发起人结论：发起人结论\\\"\\n},{\\nvalue : \\\"会诊人员：协同分析技术员P\\\"\\n},{\\nvalue : \\\"协同结论：协同诊断结论\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user bg-aqua bg-orange\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]}\\n];   event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"}}],\"col\":12},\"id\":\"7\",\"$$hashKey\":\"object:796\"},{\"label\":\"审核弹出框处理\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var params = target.getPopupData().detailTask;\\n       console.info(\\\"alertObj===\\\",params);\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"审核意见:\\\",\\n          type : \\\"textarea\\\",\\n           on : {\\n            change : function(elem){\\n                params.values.auditOpinion = elem.value;\\n              console.info(\\\"备注====\\\",params)\\n              \\n            }\\n          }\\n        }\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        obj.on = item.on;\\n        return [labelObj, obj];\\n      }\\n      for(var i in Dic){\\n        ctrlGroups.push(loop(Dic[i]))\\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        style:{\\\"text-align\\\":\\\"right\\\"},\\n        on : {\\n          click : function(elem){\\n               event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", params, function(tc){\\n                    if(tc.code == 0){\\n                      event.target.growl(\\\"审核意见提交成功\\\",\\\"success\\\");\\n                      target.submit();\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                  })\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-default\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.submit();\\n          }\\n        }\\n      }])\\n      console.log()\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":12},\"id\":\"8\",\"$$hashKey\":\"object:1694\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢视图-诊断分析工作台_tangyaqin_复制1",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3003],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"140\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(78, 195, 195)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"50\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"总设备数\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"2px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待诊断任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(86, 176, 242)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"诊断中任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(241, 194, 50)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"月新增设备\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"14px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"综合诊断任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3017],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"32\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(182, 161, 224)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"43\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"协同诊断任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月任务===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var workObj = {};\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"taskStatus\\\",\\n              label : \\\"任务状态\\\",\\n              type : \\\"taskStatus\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"分析\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      taskId: elem.row.id\\n                    }\\n                    target.navigateTo(\\\"page2\\\",param);\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"诊断报告\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      taskId: elem.row.id\\n                    }\\n                     target.setValue(\\\"taskList\\\",  workObj[elem.row.ticketNo]);\\n                    target.navigateTo(\\\"page7\\\",param);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n       target.render({\\n            data : tasks,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n       event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n    \\t\\tif(dt.code == 0){\\n    \\t\\t    var workList = dt.data;\\n    \\t\\t    for(var i in workList){\\n    \\t\\t        workObj[workList[i].ticketNo] = workList[i];\\n    \\t\\t    }\\n    \\t\\t    event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByStatus\\\", 10, function(tc){\\n                    if(tc.code == 0){\\n                        var taskList = tc.data;\\n                        var taskArr = [];\\n                        for(var j in taskList){\\n                            taskList[j][\\\"customerName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"devName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"appName\\\"] = \\\"\\\";\\n                            taskList[j][\\\"alertTitle\\\"] = \\\"\\\";\\n                            taskList[j][\\\"severity\\\"] = \\\"\\\";\\n                            if(workObj[taskList[j].ticketNo] != undefined){\\n                                if(workObj[taskList[j].ticketNo].values != undefined){\\n                                 if(workObj[taskList[j].ticketNo].values.customerName != undefined){\\n                                     taskList[j].customerName = workObj[taskList[j].ticketNo].values.customerName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.devName != undefined){\\n                                     taskList[j].devName = workObj[taskList[j].ticketNo].values.devName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.appName != undefined){\\n                                     taskList[j].appName = workObj[taskList[j].ticketNo].values.appName;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.alertTitle != undefined){\\n                                     taskList[j].alertTitle = workObj[taskList[j].ticketNo].values.alertTitle;\\n                                 }\\n                                   if(workObj[taskList[j].ticketNo].values.severity != undefined){\\n                                     taskList[j].severity = workObj[taskList[j].ticketNo].values.severity;\\n                                 }\\n                                }\\n                            }\\n                            taskArr.push(taskList[j]);\\n                        }\\n                         render(taskArr);\\n                    }\\n    \\t\\t          \\n    \\t\\t      })\\n    \\t\\t}else{\\n    \\t\\t event.target.growl(tc.message,\\\"error\\\");\\n            }\\n       })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时    间：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"任务状态：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"全部\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"待处理\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"处理中\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"已完成\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"已办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"commitTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return new Date(data.format(\\\"yyyy-MM-dd HH:mm:ss\\\"));\\n              }\\n          },{\\n              name : \\\"candidateUserOrGroup\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"status\\\",\\n              label : \\\"任务状态\\\",\\n              type : \\\"orderStatus\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"过程跟踪\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      ticketNo : elem.row.ticketNo\\n                    }\\n                    target.navigateTo(\\\"page1\\\",param);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n       target.render({\\n            data : tasks,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTasksByStatus\\\", 200, function(tc){\\n        if(tc.code == 0){\\n           var workOrderData = tc.data;\\n           var workArray = [];\\n         var alertObj = event.global.alertObj;\\n        for(var i in workOrderData){\\n            workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n            if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                if(alertObj != undefined){\\n                    if(alertObj[workOrderData[i].origId[0]] != undefined){\\n                        workOrderData[i].customerName = alertObj[workOrderData[i].origId[0]].customerName;\\n                        workOrderData[i].devName = alertObj[workOrderData[i].origId[0]].devName;\\n                        workOrderData[i].appName = alertObj[workOrderData[i].origId[0]].appName;\\n                        workOrderData[i].alertTitle = alertObj[workOrderData[i].origId[0]].title;\\n                        workOrderData[i].severity = alertObj[workOrderData[i].origId[0]].severity;\\n               \\n                    }\\n                }\\n            }\\n            workArray.push(workOrderData[i]);\\n        }\\n        render(workArray);\\n        }else{\\n\\t\\t event.target.growl(tc.message,\\\"error\\\");\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}],\"col\":12},\"$$hashKey\":\"object:2665\"},{\"label\":\"设备状态\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n\\t    \\\"init\\\" : function(event){\\n\\t        var target = event.target;\\n\\t        list = [{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"0%\\\",\\n    \\t        left : \\\"10%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"3%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"55%\\\",\\n    \\t        left : \\\"15%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"50%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        }]\\n\\t        for(var i in list){\\n\\t            target.createOverlayBypath(\\\"overlay\\\", {\\n    \\t            width : list[i].width,\\n    \\t            top : list[i].top,\\n    \\t            left : list[i].left,\\n    \\t            renderTo : \\\"self\\\"\\n    \\t        })\\n\\t        }\\n\\t        \\n\\t        target.render();\\n\\t    },\\n        \\\"click\\\" : function(event){\\n          console.log(event);\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826066,\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\",\"color\":\"rgb(68, 68, 68)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 510070991266351;\\n      \\n      var render = function(id){\\n        target.getResourceById(id,function(returnData){\\n            var createGroup = function(){\\n                var prodate = target.dateHandler(returnData.values.productionDate);\\n                var current = target.dateHandler(new Date());\\n                var diff = current.minus(prodate)\\n                var ctrlGroups = [];\\n                returnData.values.productionDate = prodate.getDateString(\\\"yy-mm-dd\\\");\\n                returnData.values.runtime = target.topDateString(diff, \\\"dd天hh小时\\\");\\n                var attrNames = {\\n                    modelNo : \\\"设备型号\\\",\\n                    series : \\\"序列号\\\",\\n                    type : \\\"设备类型\\\",\\n                    brands : \\\"设备品牌\\\",\\n                    // manufacturing : \\\"生产制造方\\\",\\n                    productionDate : \\\"接入时间\\\",\\n                    runtime : \\\"运行时长\\\",\\n                    state : \\\"当前状态\\\",\\n                    scope : \\\"加工范围\\\",\\n                    density : \\\"加工精度\\\",\\n                    utilization : \\\"利用率\\\",\\n                    // conforma : \\\"一致性\\\",\\n                    yield : \\\"平均产品合格率\\\"\\n                }\\n                /**[\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备型号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.modelNo,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"序列号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.series,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备类型：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.type,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备品牌：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.brands,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"生产制造方：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.manufacturing,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"接入时间：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : prodate.getDateString(\\\"yy-mm-dd\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"运行时长：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : target.topDateString(diff, \\\"dd天hh小时\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"当前状态：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.state,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工范围：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.scope,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工精度：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.density,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"利用率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.utilization,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"一致性：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.conforma,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"平均产品合格率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :returnData.values.yield,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]*/\\n                console.log(returnData.values)\\n                for(var i in returnData.values){\\n                    if(attrNames[i]){\\n                     ctrlGroups.push([{\\n                      type : \\\"label\\\",\\n                      value : attrNames[i] + \\\"：\\\",\\n                      style : {\\n                        \\\"text-align\\\" : \\\"right\\\",\\n                        \\\"font-weight\\\" : \\\"500\\\",\\n                        \\\"color\\\" : \\\"#939393\\\"\\n                      }\\n                    },{\\n                      type : \\\"label\\\",\\n                      value : returnData.values[i],\\n                      style : {\\n                        \\\"text-align\\\" : \\\"left\\\",\\n                        \\\"font-weight\\\" : \\\"600\\\",\\n                        \\\"color\\\" : \\\"#0980db\\\",\\n                        \\\"line-height\\\" : \\\"30px\\\"\\n                      }\\n                    }])\\n                  };\\n                };\\n              event.target.render(ctrlGroups);\\n            }\\n          createGroup();\\n        })\\n      }\\n      \\n      \\n      \\n      /* 请求接口的方法\\n      target.on(\\\"production_resource_changed\\\", function(resourceId){\\n        render(resourceId)\\n      });\\n      render(id);\\n      */\\n      \\n    var groupData = [\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"机组：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"合成气压缩机组\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"轴承:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"测点名称:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"转速:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"9440\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"通频值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"25.18\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"1X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.42\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"2X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"0.70\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"0.5X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.01\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"GAP电压:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-10.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"有效值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"7.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标序号:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"512\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标时间:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"07:23:32\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\" 波形值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-12.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"幅值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"频率\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"倍频\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.00\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"67\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"单位\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"um\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]\\n        ];\\n     event.target.render(groupData);\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警通知\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}]}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:6278\"},{\"label\":\"分析-综合趋势\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\r\\n  on: {\\r\\n    init: function (event) {\\r\\n      var target = event.target;\\r\\n      var global = event.global;\\r\\n      var target = event.target;\\r\\n      var global = event.global;\\r\\n      console.info(\\\"taskId====\\\", event.target.getParameter(\\\"taskId\\\"));\\r\\n      event.target.getDomainsByFilter({\\r\\n        modelIds: [301, 302]\\r\\n      }, function (obj) {\\r\\n        var projects = obj.filter(function (elem) {\\r\\n          return elem.modelId == 302;\\r\\n        })\\r\\n        var customers = obj.filter(function (elem) {\\r\\n          return elem.modelId == 301;\\r\\n        })\\r\\n        event.target.getDevicesByCondition({}, function (devices) {\\r\\n          var ctrlGroups = [\\r\\n            [{\\r\\n              type: \\\"label\\\",\\r\\n              value: \\\"起始时间\\\",\\r\\n              class: \\\"col-md-1\\\",\\r\\n              style: {\\r\\n                textAlign: \\\"center\\\"\\r\\n              }\\r\\n            }, {\\r\\n              type: \\\"dateRangePicker\\\",\\r\\n              value: \\\"\\\",\\r\\n              class: \\\"col-md-3\\\",\\r\\n              on: {\\r\\n                change: function (elem) {\\r\\n                  console.log(elem);\\r\\n                }\\r\\n              },\\r\\n            }, {\\r\\n              type: \\\"button\\\",\\r\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\r\\n              btnclass: \\\"btn btn-primary\\\",\\r\\n              value: \\\"设备信息\\\",\\r\\n              btnStyle: {\\r\\n                width: \\\"100px\\\",\\r\\n              }\\r\\n            },\\r\\n              {\\r\\n                type: \\\"button\\\",\\r\\n                class: \\\"col-md-1 col-md-offset-1\\\",\\r\\n                btnclass: \\\"btn btn-primary\\\",\\r\\n                value: \\\"填写报告\\\",\\r\\n                btnStyle: {\\r\\n                  width: \\\"100px\\\",\\r\\n                },\\r\\n                on: {\\r\\n                  click: function (elem) {\\r\\n                    var taskId = event.target.getParameter(\\\"taskId\\\");\\r\\n                    if (taskId) {\\r\\n                      event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function (tc) {\\r\\n                        if (tc.code == 0) {\\r\\n                          console.info(\\\"getTicketTaskById====\\\", tc.data);\\r\\n                          var param = {\\r\\n                            taskId: taskId,\\r\\n                            taskList: tc.data\\r\\n                          }\\r\\n                          target.navigateTo(\\\"page7\\\", param);\\r\\n                        } else {\\r\\n                          event.target.growl(tc.message, \\\"info\\\");\\r\\n                        }\\r\\n                      })\\r\\n                    }\\r\\n                  }\\r\\n                }\\r\\n              }]\\r\\n          ];\\r\\n          event.target.render(ctrlGroups);\\r\\n        });\\r\\n      });\\r\\n    },\\r\\n    highlight: function (event) {\\r\\n      console.info(\\\"param===\\\", event.params);\\r\\n    }\\r\\n  }\\r\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":10}]}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:7992\"},{\"label\":\"分析-特征趋势\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      var taskId = event.target.getParameter(\\\"taskId\\\");\\n      var taskList = event.target.getParameter(\\\"taskList\\\");\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备分析\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"信号分析\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                  if (taskId) {\\n                    var param = {\\n                     taskId: taskId\\n                    }\\n                    target.navigateTo(\\\"page7\\\", param);\\n                   \\n                  }\\n                }\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:8617\"},{\"label\":\"分析-时域分析\",\"path\":\"page4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 \\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"添加依据\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"15px\",\"border\":\"1px solid #eee\",\"border-top\":0},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var dataList = (function(){\\n        var rs = [];\\n        var inx = 0;\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          rs.push(inx + \\\"\\\");\\n          inx ++;\\n        }\\n        return rs;\\n      })();\\n      var valueList = (function(){\\n        var rs = [];\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          var nu = 0;\\n          for(var j=0; j<8; j++){\\n            nu += (Math.pow((1 / (j+1)), 3) * Math.sin(i * Math.pow(3 ,j))) * 10 + Math.random() * 1.3;\\n          };\\n          rs.push(nu.toFixed(2));\\n        };\\n        return rs;\\n      })();\\n      var data = [];\\n      for (var i = 0; i < dataList.length; i++) {\\n        data.push([dataList[i], valueList[i]])\\n      }\\n      var dateList = data.map(function (item) {\\n        return item[0];\\n      });\\n      var valueList = data.map(function (item) {\\n        return item[1];\\n      });\\n      var render = function(init, sub){\\n          console.log(\\\"init\\\", init, sub);\\n        var type = target.getValue(\\\"type\\\") || 0;\\n        var x0 = target.getValue(\\\"x0\\\") || 0;\\n        var x1 = target.getValue(\\\"x1\\\") || 180;\\n        if(type == 0){\\n            var markLine = undefined;\\n            var markPoint = undefined;\\n        } else if(type == 1){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                  width : 1,\\n                  color : \\\"#436fff\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n              normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var item = {\\n                    xAxis: x0 * (i + 2) + ''\\n                  };\\n                  rs.push(item)\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n            var markPoint = {\\n                symbol : \\\"circle\\\",\\n                symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n    //                        formatter: '{b}: {d}'\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"blue\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var yData = data[x0 / 1 * (i + 2)];\\n                  if (yData) {\\n                    var item = {\\n                      xAxis: x0 * (i + 2) + '',\\n                      yAxis: yData[1]\\n                    };\\n                    rs.push(item)\\n                  }\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n        } else if(type == 2){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                    color : \\\"red\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n                normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                    xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                  })\\n                };\\n                return rs;\\n              })()\\n            };\\n            var markPoint = {\\n              symbol : \\\"circle\\\",\\n              symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"red\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                      xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                      yAxis : valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                  })\\n                };\\n                return rs;\\n              })()\\n            }\\n        };\\n        var option = {\\n          grid: [{\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }, {\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }],\\n          tooltip: {\\n            \\\"alwaysShowContent\\\": true,\\n            triggerOn: 'none'\\n          },\\n          xAxis: [{\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                show: true,\\n                formatter: function (val) {\\n                    console.log(\\\"a\\\", type);\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x0\\\", val.value);\\n                    target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    console.log(\\\"a--init\\\", init);\\n                    if(type == 1){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"blue\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n              },\\n              \\\"value\\\": x0,\\n              snap: false,\\n            }\\n          }, {\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x1\\\", val.value)\\n                    target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 2){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"red\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n\\n              },\\n              \\\"value\\\": x1,\\n              snap: false,\\n            },\\n            gridIndex: 1\\n          }],\\n          yAxis: [{\\n            splitLine: {show: true}\\n\\n          }, {\\n            splitLine: {show: false},\\n            gridIndex: 1\\n          }],\\n          dataZoom: [\\n            {\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n              xAxisIndex: [0,1]\\n            }\\n          ],\\n          series: [{\\n            type: 'line',\\n            showSymbol: false,\\n            data:valueList,\\n            markLine : markLine,\\n            markPoint : markPoint\\n          }, {\\n            type: 'line',\\n            showSymbol: false,\\n            lineStyle : {\\n              normal : {\\n                opacity : 0\\n              }\\n            },\\n            data:valueList,\\n            xAxisIndex: 1,\\n            yAxisIndex: 1\\n          }]\\n        };\\n        option\\n        target.render(option);\\n      };\\n      render();\\n      target.on(\\\"renderChart\\\", function(){\\n          render(undefined, \\\"renderChart\\\");\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"default\"}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"均值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"平均幅值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"有效值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"方根幅值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"波形指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"峭度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"裕度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"峰值指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"脉冲指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"歪度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:8704\"},{\"label\":\"分析-频域波形\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 \\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"添加依据\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"15px\",\"border\":\"1px solid #eee\",\"border-top\":0},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":7},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      var render = function(){\\n          var type = target.getValue(\\\"type\\\") || 0;\\n          var feature = target.getValue(\\\"type\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"radio\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"200px\\\"\\n              },\\n              value : 1,\\n              options : [{\\n                  id : 0,\\n                  label : \\\"显示谱峰\\\"\\n              },{\\n                  id : 1,\\n                  label : \\\"不显示\\\"\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"倍频\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : type == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 1){\\n                          target.setValue(\\\"type\\\", 1);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"边带\\\",\\n                icon : \\\"glyphicon glyphicon-list\\\",\\n                btnclass : type == 2 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 2){\\n                          target.setValue(\\\"type\\\", 2);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"特征值\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : feature == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      \\n                  }\\n                }\\n              }]\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      };\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":5}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var dataList = (function(){\\n        var rs = [];\\n        var inx = 0;\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          rs.push(inx + \\\"\\\");\\n          inx ++;\\n        }\\n        return rs;\\n      })();\\n      var valueList = (function(){\\n        var rs = [];\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          var nu = 0;\\n          for(var j=0; j<8; j++){\\n            nu += (Math.pow((1 / (j+1)), 3) * Math.sin(i * Math.pow(3 ,j))) * 10 + Math.random() * 1.3;\\n          };\\n          rs.push(nu.toFixed(2));\\n        };\\n        return rs;\\n      })();\\n      var data = [];\\n      for (var i = 0; i < dataList.length; i++) {\\n        data.push([dataList[i], valueList[i]])\\n      }\\n      var dateList = data.map(function (item) {\\n        return item[0];\\n      });\\n      var valueList = data.map(function (item) {\\n        return item[1];\\n      });\\n      var render = function(init, sub){\\n          console.log(\\\"init\\\", init, sub);\\n        var type = target.getValue(\\\"type\\\") || 0;\\n        var x0 = target.getValue(\\\"x0\\\") || 0;\\n        var x1 = target.getValue(\\\"x1\\\") || 180;\\n        if(type == 0){\\n            var markLine = undefined;\\n            var markPoint = undefined;\\n        } else if(type == 1){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                  width : 1,\\n                  color : \\\"#436fff\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n              normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var item = {\\n                    xAxis: x0 * (i + 2) + ''\\n                  };\\n                  rs.push(item)\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n            var markPoint = {\\n                symbol : \\\"circle\\\",\\n                symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n    //                        formatter: '{b}: {d}'\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"blue\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var yData = data[x0 / 1 * (i + 2)];\\n                  if (yData) {\\n                    var item = {\\n                      xAxis: x0 * (i + 2) + '',\\n                      yAxis: yData[1]\\n                    };\\n                    rs.push(item)\\n                  }\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n        } else if(type == 2){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                    color : \\\"red\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n                normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                    xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                  })\\n                };\\n                return rs;\\n              })()\\n            };\\n            var markPoint = {\\n              symbol : \\\"circle\\\",\\n              symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"red\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                      xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                      yAxis : valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                  })\\n                };\\n                return rs;\\n              })()\\n            }\\n        };\\n        var option = {\\n          grid: [{\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }, {\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }],\\n          tooltip: {\\n            \\\"alwaysShowContent\\\": true,\\n            triggerOn: 'none'\\n          },\\n          xAxis: [{\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                show: true,\\n                formatter: function (val) {\\n                    console.log(\\\"a\\\", type);\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x0\\\", val.value);\\n                    target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    console.log(\\\"a--init\\\", init);\\n                    if(type == 1){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"blue\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n              },\\n              \\\"value\\\": x0,\\n              snap: false,\\n            }\\n          }, {\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x1\\\", val.value)\\n                    target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 2){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"red\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n\\n              },\\n              \\\"value\\\": x1,\\n              snap: false,\\n            },\\n            gridIndex: 1\\n          }],\\n          yAxis: [{\\n            splitLine: {show: true}\\n\\n          }, {\\n            splitLine: {show: false},\\n            gridIndex: 1\\n          }],\\n          dataZoom: [\\n            {\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n              xAxisIndex: [0,1]\\n            }\\n          ],\\n          series: [{\\n            type: 'line',\\n            showSymbol: false,\\n            data:valueList,\\n            markLine : markLine,\\n            markPoint : markPoint\\n          }, {\\n            type: 'line',\\n            showSymbol: false,\\n            lineStyle : {\\n              normal : {\\n                opacity : 0\\n              }\\n            },\\n            data:valueList,\\n            xAxisIndex: 1,\\n            yAxisIndex: 1\\n          }]\\n        };\\n        option\\n        target.render(option);\\n      };\\n      render();\\n      target.on(\\\"renderChart\\\", function(){\\n          render(undefined, \\\"renderChart\\\");\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"default\"}}],\"col\":9},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"border\":\"1px solid #eee\",\"min-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [];\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n      var createTr = function(){\\n        return [{\\n          type : \\\"jquery\\\",\\n          render : function(){\\n              var div = $(\\\"<div></div>\\\");\\n              div.width(20);\\n              div.height(20);\\n              div.css(\\\"background-color\\\", randomText([\\\"orange\\\", \\\"red\\\"]));\\n              div.css(\\\"border-radius\\\", \\\"50%\\\");\\n              return div;\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"Z1 0.00/0.09\\\",\\n          style : {\\n              \\\"margin-left\\\" : \\\"20px\\\"\\n          }\\n        }]\\n      }\\n      for(var i = 0; i < 5; i++){\\n          ctrlGroups.push(createTr());\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}}],\"col\":3}]}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:8737\"},{\"label\":\"分析-诊断履历\",\"path\":\"page6\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"检测技术\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"检修对象\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"报警时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"异常信息来源\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"反馈人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"检测技术\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"collect\\\",\\n              label : \\\"工艺状况\\\",\\n              render : function(){\\n                  return randomText(['电流300A','轴承温度55度'])\\n              }\\n          },{\\n              name : \\\"unusual\\\",\\n              label : \\\"异常现象\\\",\\n              render : function(){ \\n                 return  randomText(['泵体输入侧轴承振动超标','泵体输入两轴承振动超标']) \\n            }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:8776\"},{\"label\":\"诊断-报告编制\",\"path\":\"page7\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"设备名称:xxx\\\",\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"设备编号:xxx\\\",\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var workObj = target.getValue(\\\"taskList\\\");\\n      console.info(\\\"workObj===\\\",workObj);\\n      var dName = \\\"设备名称:\\\"+workObj.values.devName+\\\"\\\";\\n      var numberD = \\\"设备编号:\\\"+workObj.values.deviceId+\\\"\\\";\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : dName,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : numberD,\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var taskId = event.target.getParameter(\\\"taskId\\\");\\n      var taskList = target.getValue(\\\"taskList\\\");\\n      console.info(\\\"taskList====\\\",taskList);\\n       var ctrlGroupsObj = {};\\n      ctrlGroupsObj[\\\"alertTitle\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"设备告警信息\\\",\\n        class:\\\"col-md-2\\\"\\n      },{\\n        type : \\\"input\\\",\\n        value : \\\"\\\",\\n        on : {\\n          change : function(elem){\\n            console.log(elem);\\n          }\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"abnPhenomenon\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\" * 异常现象\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.log(elem);\\n          }\\n        },\\n        options : [{\\n          id : 0,\\n          label : \\\"项目1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"项目名称2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"名称3\\\"\\n        }],\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"technicsStatus\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\" * 工艺状况\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.log(elem);\\n          }\\n        },\\n        options : [{\\n          id : 0,\\n          label : \\\"项目1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"项目名称2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"名称3\\\"\\n        }],\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"position\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\" * 检测部位\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.log(elem);\\n          }\\n        },\\n        options : [{\\n          id : 0,\\n          label : \\\"部位1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"部位2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"部位3\\\"\\n        }],\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"attention\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"注意事项\\\"\\n      },{\\n        type : \\\"textarea\\\",\\n        value : \\\"\\\"\\n      }];\\n      ctrlGroupsObj[\\\"standard\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"*判断标准\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"标准1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"标准2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"标准3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"basis\\\"] =  [{\\n        type : \\\"label\\\",\\n        value : \\\"*判断依据\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"依据1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"依据2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"依据3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"basisImage\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"判断依据图片\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"选择图片\\\",\\n        btnclass : \\\"btn btn-default\\\"\\n      }];\\n      ctrlGroupsObj[\\\"statusGrade\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"*综合状态等级\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"等级1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"等级2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"等级3\\\"\\n        }], format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"abnPosition\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"*异常部位\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"部位1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"部位2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"部位3\\\"\\n        }],\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"failureRepairReson\\\"] =   [{\\n        type : \\\"label\\\",\\n        value : \\\"*故障产生原因\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"原因1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"原因2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"原因3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"multipleConclusion\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"*综合判断结论\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"结论1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"结论2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"结论3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"cessingScheme\\\"] =[{\\n        type : \\\"label\\\",\\n        value : \\\"*处理方案建议\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"建议1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"建议2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"建议3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"auditor\\\"] =[{\\n        type : \\\"label\\\",\\n        value : \\\"*审核人\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"选择人\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"角色1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"角色2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"角色3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"attUpload\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"上传附件\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"选择文件\\\",\\n        btnclass : \\\"btn btn-default\\\"\\n      }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"\\n        },{\\n          type : \\\"button\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          value : \\\"提交\\\",\\n          style : {\\n            \\\"textAlign\\\" : \\\"right\\\",\\n            \\\"padding\\\":\\\"5px\\\"\\n          }\\n        }];\\n      var ctrlGroups = [];\\n       event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n        if(tc.code == 0){\\n         console.info(\\\"getTicketTaskById====\\\",tc.data);\\n         if(tc.data.attributeDefinitions.length > 0){\\n             var attrAry = tc.data.attributeDefinitions;\\n             for(var i in attrAry){\\n                 ctrlGroups.push(ctrlGroupsObj[attrAry[i].label]);\\n             }\\n         }\\n         event.global.fire(\\\"savetask\\\",tc.data)\\n\\n         event.target.render(ctrlGroups);\\n        }else{\\n\\t\\t event.target.growl(tc.message,\\\"info\\\");\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"提   交\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                console.log(\\\"提交\\\");\\n                console.info(\\\"savetask======\\\",event.global.detailTask);\\n                    event.global.detailTask.taskStatus = 200;\\n                     event.target.postService(\\\"ticketTaskService\\\", \\\"doTask\\\", event.global.detailTask, function(tc){\\n                    if(tc.code == 0){\\n                      event.target.growl(\\\"报诊断报告提交成功，等待审核\\\",\\\"success\\\");\\n                      target.navigateTo(\\\"page0\\\");\\n                    }else{\\n            \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                    }\\n                  })\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"取   消\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                target.navigateTo(\\\"page0\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    },\\n    savetask:function(event){\\n        console.info(\\\"savetask======\\\",event.params);\\n      event.global.detailTask = event.params;\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"7\",\"$$hashKey\":\"object:628\"},{\"label\":\"诊断-多专业诊断\",\"path\":\"page8\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"报警记录\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"诊断申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"专业类型\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"多专业诊断\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"8\",\"$$hashKey\":\"object:1224\"},{\"label\":\"诊断-协同诊断\",\"path\":\"page9\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"协同人\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"协同申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"状态\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"9\",\"$$hashKey\":\"object:1444\"},{\"label\":\"诊断-视频诊断\",\"path\":\"page10\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"视频诊断申请\\\",\\n          class:\\\"col-md-2\\\",\\n          style:{\\n              width:\\\"200px\\\",\\n              fontSize:\\\"16px\\\",\\n              fontWeight:\\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"设备信息：\\\",\\n          class:\\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : \\\"\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"报警信息:\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 会诊人员\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],\\n         [{\\n          type : \\\"button\\\",\\n          colSpan:2,\\n          value : \\\"发起视频诊断\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n      \\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n \\n     \\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"10\",\"$$hashKey\":\"object:1576\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢视图-报警管理工作台_tangyaqin_复制1",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3003],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"140\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(249, 203, 156)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      console.log(1)    \\n      var target = event.target;\\n      var ci = [515445641576227];\\n      var ciNames = [\\\"宝武钢铁集团\\\"];\\n      var kpi = [3003];\\n      var extension = {};\\n      target.getKpiValueCi(ci, kpi, function (returnData) {\\n        var data = returnData;\\n        target.setText(data?\\\"-\\\":data);\\n      }, extension)\\n    }\\n  }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"总设备数\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"2px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待处理报警数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(86, 176, 242)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var ci = [515445641576227];\\n      var ciNames = [\\\"宝武钢铁集团\\\"];\\n      var kpi = [3051];\\n      var extension = {};\\n      target.getKpiValueCi(ci, kpi, function (returnData) {\\n        var data = returnData;\\n        target.setText(data?\\\"-\\\":data);\\n      }, extension)\\n    }\\n  }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"处理中任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(106, 168, 79)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var ci = [515445641576227];\\n      var ciNames = [\\\"宝武钢铁集团\\\"];\\n      var kpi = [3051];\\n      var extension = {};\\n      target.getKpiValueCi(ci, kpi, function (returnData) {\\n        var data = returnData;\\n        target.setText(data?\\\"-\\\":data);\\n      }, extension)\\n    }\\n  }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"月新增设备\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"14px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"周处理报警数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3017],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"32\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(224, 102, 102)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var ci = [515445641576227];\\n      var ciNames = [\\\"宝武钢铁集团\\\"];\\n      var kpi = [100002];\\n      var extension = {};\\n      target.getKpiValueCi(ci, kpi, function (returnData) {\\n        var data = returnData;\\n        target.setText(data?\\\"-\\\":data);\\n      }, extension)\\n    }\\n  }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"报警处理及时率\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var currStatus = \\\"\\\";\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n          console.log(\\\"currStatus==\\\"+currStatus);\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"时 间:\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\"\\n          }]\\n        ];\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时 间：\\\",\\n              style: {\\n                  width:\\\"55px\\\",\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日报警\\\",\\n              btnclass:currStatus==\\\"today\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n               currStatus = \\\"today\\\";\\n               render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周报警\\\",\\n              btnclass:currStatus==\\\"bz\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n               currStatus = \\\"bz\\\";\\n                render();\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月报警\\\",\\n              btnclass:currStatus==\\\"month\\\"?\\\"btn btn-primary\\\":\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n               currStatus = \\\"month\\\";\\n                render();\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                    console.info(\\\"elem===\\\",elem);\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj);\\n                       currStatus = \\\"today\\\";\\n                       inpStatus = false;\\n                       render();\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"报警通知\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var ticketCategorys = {};\\n      var deviceDic = {};\\n      var getDataByJquerySync = function(service,method,param){\\n\\t\\t\\tvar ret;\\n\\t\\t\\t$.ajax({\\n\\t\\t\\t  url : \\\"/api/rest/post/\\\" + service + \\\"/\\\" + method,\\n\\t\\t\\t  type : \\\"post\\\",\\n\\t\\t\\t  async : false,\\n\\t\\t\\t  contentType : 'application/json',\\n\\t\\t\\t  data : param ? JSON.stringify(param) : \\\"[]\\\",\\n\\t\\t\\t  dataType : \\\"json\\\",\\n\\t\\t\\t  success : function(data) {\\n\\t\\t\\t    //console.log(\\\"函数回调\\\",data);\\n\\t\\t\\t\\tif(data.code == '0'){\\n\\t\\t\\t\\t\\tret = data.data;\\n\\t\\t\\t\\t}\\n\\t\\t\\t  }\\n\\t\\t\\t});\\n\\t\\t\\treturn ret;\\n\\t\\t};\\n      var render = function(alertData){\\n          var format = [{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"title\\\",\\n              label : \\\"报警消息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n             render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"firstArisingTime\\\",\\n              label : \\\"报警时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                  \\n                  return new Date(data.format(\\\"yyyy-MM-dd HH:mm:ss\\\"));\\n              }\\n          },{\\n              name : \\\"state\\\",\\n              label : \\\"报警状态\\\",\\n              type : \\\"status\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroupAlert\\\",\\n              content : [{\\n                label : \\\"确认\\\",\\n                icon: \\\"null\\\",\\n                name:\\\"confirm\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                  if(elem.row.state == 0 || elem.row.state == 5){\\n                        var severity = elem.row.severity;\\n                        if(severity == 1 || severity == 2) {\\n                          severity = 0;\\n                        } else if(severity == 3) {\\n                          severity = 100;\\n                        } else if(severity == 5 || severity == 4) {\\n                          severity = 200;\\n                        }\\n                        var AuditPersonObj = eval(\\\"(\\\" +deviceDic[elem.row.nodeId].values.AuditPerson + \\\")\\\");\\n                        var ResponsiblePersonObj =eval(\\\"(\\\" + deviceDic[elem.row.nodeId].values.ResponsiblePerson + \\\")\\\");\\n                        var valuesObj = {\\\"customerName\\\":elem.row.customerName,\\\"devName\\\":elem.row.devName,\\\"appName\\\":elem.row.appName,\\n                        \\\"alertTitle\\\":elem.row.title,\\\"severity\\\":elem.row.severity,\\\"AuditPerson\\\":AuditPersonObj.Z,\\n                        \\\"CheckPerson\\\":deviceDic[elem.row.nodeId].values.CheckPerson,\\\"ResponsiblePerson\\\":ResponsiblePersonObj.Z};\\n                        var alertInfo = {\\n                            \\\"actionType\\\": \\\"forward\\\",\\n                            \\\"alertIds\\\": [elem.row.alertId],\\n                            \\\"severity\\\": 0,\\n                            \\\"target\\\": \\\"EOMS://auttest/auttest\\\"\\n                          };\\n                       var ticket = {\\n                        \\\"title\\\": elem.row.title,\\n                        \\\"category\\\": ticketCategorys.category,\\n                        \\\"ticketCategoryId\\\": ticketCategorys.id,\\n                        \\\"priorityCode\\\": severity,\\n                        \\\"faultId\\\": \\\"\\\",\\n                        \\\"deviceId\\\": elem.row.nodeId,\\n                        \\\"message\\\": elem.row.message,\\n                        \\\"values\\\":valuesObj\\n                      };\\n                     var claimObj ={\\\"actionType\\\":\\\"claim\\\",\\\"alertIds\\\":[elem.row.alertId]};\\n                    console.info(\\\"ticket\\\",ticket);\\n                     event.target.postService(\\\"alertManageFlexService\\\", \\\"sendForwardAction\\\", [alertInfo,ticket], function(tc){\\n                        if(tc.code == 0){\\n                          event.target.postService(\\\"alertManageFlexService\\\", \\\"sendClaimAction\\\", [claimObj], function(claimData){\\n                              if(claimData.code == 0){\\n                                event.target.growl(\\\"报警处理成功，已发送给相关负责人\\\",\\\"success\\\");\\n                                event.global.fire(\\\"query\\\",{});\\n                                  \\n                              }\\n                          });\\n                        }else{\\n                \\t\\t event.target.growl(tc.message,\\\"info\\\");\\n                        }\\n                      })\\n                    }else{\\n                         event.target.growl(\\\"不能转工单\\\",\\\"warning\\\");\\n                    }\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"忽略\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                name:\\\"ignore\\\",\\n                on : {\\n                  click : function(elem){\\n                    console.info(\\\"忽略===\\\",elem);\\n                    var alertObj = {\\\"alertObj\\\":elem.row};\\n                  target.createPopupBypath(\\\"popup\\\", {\\n                        title : \\\"处理\\\",\\n                        width : \\\"40%\\\",\\n                        theme : \\\"system\\\",\\n                        on : {\\n                          submit : function(data){\\n                           console.info(\\\"submitsubmit====\\\",data);\\n                           if(data.statuc == \\\"success\\\"){\\n                              event.global.fire(\\\"query\\\",{});\\n                           }\\n                          }\\n                        }\\n                      }, alertObj);\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n          \\n        target.setValue(\\\"format\\\",format);\\n       target.render({\\n            data : alertData,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n\\t\\tvar customersList = getDataByJquerySync(\\\"customerUIService\\\",\\\"findCustomersByCondition\\\",[{}]);\\n\\t\\tvar customersDic = {};\\n\\t\\tif(customersList){\\n\\t\\t\\tcustomersList.forEach(function(u){\\n\\t\\t\\t\\tcustomersDic[u.id] = u;\\n\\t\\t\\t});\\n\\t\\t}\\n\\t\\t\\n      var deviceList = getDataByJquerySync(\\\"resourceUIService\\\",\\\"getDevicesByCondition\\\",[{}]);\\n\\t\\tif(deviceList){\\n\\t\\t\\tdeviceList.forEach(function(u){\\n\\t\\t\\t\\tdeviceDic[u.id] = u;\\n\\t\\t\\t});\\n\\t\\t}\\n\\t\\ttarget.setValue(\\\"customersDic\\\",customersDic);\\n\\t\\ttarget.setValue(\\\"deviceDic\\\",deviceDic);\\n         var queryItem = {\\\"severities\\\":\\\"1,2,3,4\\\",\\\"states\\\":\\\"0,5,10\\\"};\\n      var pageRequest = {\\\"start\\\":0,\\\"length\\\":500,\\\"statCount\\\":true};\\t\\n      var alertList = getDataByJquerySync(\\\"alertQueryFlexService\\\",\\\"getAlertByPage\\\",[queryItem,pageRequest]);\\n\\t\\tvar alertArr = [];\\n\\t\\tvar alertDic = {};\\n\\t\\tif(alertList.data.length > 0){\\n\\t\\tfor(var i in alertList.data){\\n\\t\\t    alertList.data[i][\\\"nodeName\\\"] = \\\"\\\";\\n\\t\\t    alertList.data[i][\\\"customerName\\\"] = \\\"\\\";\\n\\t\\t    if(alertList.data[i].nodeId &&  deviceDic[alertList.data[i].nodeId] != undefined){\\n\\t\\t       var customersId = deviceDic[alertList.data[i].nodeId].customerId;\\n\\t\\t        if(customersDic[customersId] != undefined){\\n\\t\\t           alertList.data[i].customerName = customersDic[customersId].customerName;\\n\\t\\t        }\\n\\t\\t    }\\n\\t\\t    alertDic[alertList.data[i].alertId] = alertList.data[i];\\n\\t\\t    alertArr.push(alertList.data[i]);\\n\\t\\t}\\n\\t\\t}\\n        event.global.fire(\\\"accept\\\",alertDic)\\n        target.setValue(\\\"alertArr\\\",alertArr);\\n        event.target.postService(\\\"ticketCategoryService\\\", \\\"getTicketCategorys\\\", [], function(tc){\\n        if(tc.code == 0){\\n        var ticketData = tc.data;\\n        var ticketSort = [];\\n        for(var t in ticketData){\\n\\t     if(ticketData[t].category == 50){\\n\\t    \\tticketSort.push(ticketData[t]);\\n\\t\\t }\\n\\t\\t}\\n      \\tticketSort.sort(function(a, b){\\n           return a.createTime < b.createTime ? 1 : -1;\\n        });\\n        ticketCategorys = ticketSort[0];\\n\\t\\tconsole.info(\\\"queren===\\\",ticketCategorys);\\n        render(alertArr);\\n        }else{\\n            console.log(\\\"流程关联接口异常\\\");\\n        }\\n      })\\n    },\\n     refresh:function(event){\\n          var target = event.target;\\n         console.info(\\\"alertArr===\\\",target.getValue(\\\"alertArr\\\"));\\n     },\\n     query:function(event){\\n         var target = event.target;\\n         var customersDic = target.getValue(\\\"customersDic\\\");\\n         var deviceDic = target.getValue(\\\"deviceDic\\\");\\n         var format = target.getValue(\\\"format\\\");\\n        var  params=event.params;\\n         console.info(\\\"params====\\\",event.params);\\n         console.info(\\\"format====\\\",format);\\n         var render = function(alertData){\\n            target.render({\\n            data : alertData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n         }\\n         var queryItem = {\\\"severities\\\":\\\"1,2,3,4\\\",\\\"states\\\":\\\"0,5,10\\\",\\\"firstTimeFrom\\\":params.firstTimeFrom,\\\"firstTimeTo\\\":params.firstTimeTo};\\n         var pageRequest = {\\\"start\\\":0,\\\"length\\\":500,\\\"statCount\\\":true};\\t\\n         var jsonToString = JSON.stringify(queryItem) ;\\n         event.target.postService(\\\"alertQueryFlexService\\\", \\\"getAlertByPage\\\", [eval(\\\"(\\\" + jsonToString + \\\")\\\"),pageRequest], function(tc){\\n             if(tc.code == 0){\\n                var alertList = tc.data.data;\\n                var alertArr = [];\\n        \\t\\tvar alertDic = {};\\n        \\t\\tif(alertList.length > 0){\\n        \\t\\tfor(var i in alertList){\\n        \\t\\t    alertList[i][\\\"nodeName\\\"] = \\\"\\\";\\n        \\t\\t    alertList[i][\\\"customerName\\\"] = \\\"\\\";\\n        \\t\\t    if(alertList[i].nodeId &&  deviceDic[alertList[i].nodeId] != undefined){\\n        \\t\\t       var customersId = deviceDic[alertList[i].nodeId].customerId;\\n        \\t\\t        if(customersDic[customersId] != undefined){\\n        \\t\\t           alertList[i].customerName = customersDic[customersId].customerName;\\n        \\t\\t        }\\n        \\t\\t    }\\n        \\t\\t    alertDic[alertList[i].alertId] = alertList[i];\\n        \\t\\t    alertArr.push(alertList[i]);\\n        \\t\\t}\\n        \\t  }\\n        \\t  render(alertArr);\\n             }\\n         })\\n     }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var timeObj = {\\\"firstTimeFrom\\\":\\\"\\\",\\\"firstTimeTo\\\":\\\"\\\"};\\n      var inpStatus = false;\\n      var now = new Date(); //当前日期 \\n      var render = function(){\\n         var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"时    间：\\\",\\n              style: {\\n                  width:\\\"100px\\\",\\n                textAlign: \\\"right\\\"\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当日任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                var today = new Date();\\n                today.setHours(0);\\n                today.setMinutes(0);\\n                today.setSeconds(0);\\n                today.setMilliseconds(0);\\n               timeObj.firstTimeFrom = today;\\n               timeObj.firstTimeTo = now;\\n               \\n               console.info(\\\"当日报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"本周任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                 \\n                 //获得本周的开端日期 \\n                function getWeekStartDate() { \\n                   \\tvar nowDayOfWeek = now.getDay(); //今天本周的第几天 \\n                \\tvar nowDay = now.getDate(); //当前日 \\n                \\tvar nowMonth = now.getMonth(); //当前月 \\n                \\tvar nowYear = now.getFullYear(); //当前年 \\n                \\tvar weekStartDate = new Date(nowYear, nowMonth, nowDay - nowDayOfWeek); \\n                 return weekStartDate; \\n                } \\n               timeObj.firstTimeFrom = getWeekStartDate();\\n               timeObj.firstTimeTo = now;\\n                console.info(\\\"本周报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            },{\\n              type: \\\"button\\\",\\n              value: \\\"当月任务\\\",\\n              btnclass:\\\"btn btn-default\\\",\\n              btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",\\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n               \\t\\n               //当前月的第一天\\n                function getCurrentMonthFirst(){\\n                 var date=new Date();\\n                 date.setDate(1);\\n                 return date;\\n                }\\n               timeObj.firstTimeFrom = getCurrentMonthFirst();\\n               timeObj.firstTimeTo = now;\\n               console.info(\\\"当月报警===\\\",timeObj);\\n               event.global.fire(\\\"query\\\",timeObj)\\n              }\\n            }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-5\\\",\\n             style: {\\n                  width:\\\"200px\\\",\\n                textAlign: \\\"center\\\"\\n              },\\n              on: {\\n                change: function (elem) {\\n                 timeObj.firstTimeFrom = elem.value.start;\\n                 timeObj.firstTimeTo = elem.value.end;\\n                 if(elem.value.start){\\n                   inpStatus = true;\\n                 }\\n                  console.info(\\\"dateRangePicker===\\\",elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              },\\n              on: {\\n                click: function (elem) {\\n                    console.info(\\\"chaxun====\\\",timeObj);\\n                    if(inpStatus){\\n                      event.global.fire(\\\"query\\\",timeObj)\\n                    }else{\\n                     event.target.growl(\\\"请选择时间\\\",\\\"warning\\\");\\n                    }\\n                }\\n              }\\n            }]\\n          ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 1,\\n          title : \\\"全部工单\\\",\\n          value : 0,\\n          btnclass:\\\"btn btn-primary\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 2,\\n          title : \\\"执行中\\\",\\n          value : 100,\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 3,\\n          title : \\\"已完成\\\",\\n          value : 200,\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      },{\\n          id : 4,\\n          title : \\\"未发布\\\",\\n          value : 10,\\n          btnclass:\\\"btn btn-default\\\",\\n          activeclass:\\\"\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"任务状态:\\\",\\n            style:{\\n                textAlign:\\\"right\\\",\\n                width:\\\"100px\\\"\\n            }\\n          }]\\n        ];\\n        for(var i in list){\\n           \\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass :list[i].btnclass,\\n                    paramvalue:list[i].value,\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        var value = elem.current.paramvalue;\\n                        console.info(\\\"list=====\\\",id);\\n                        event.global.fire(\\\"highlight\\\", {\\n                            status: value\\n                       })\\n                       \\n                          for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].btnclass = \\\"btn btn-primary\\\";\\n                            } else {\\n                               list[i].btnclass = \\\"btn btn-default\\\"; \\n                            } \\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"任务跟踪\\\")\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var getDataByJquerySync = function(service,method,param){\\n\\t\\t\\tvar ret;\\n\\t\\t\\t$.ajax({\\n\\t\\t\\t  url : \\\"/api/rest/post/\\\" + service + \\\"/\\\" + method,\\n\\t\\t\\t  type : \\\"post\\\",\\n\\t\\t\\t  async : false,\\n\\t\\t\\t  contentType : 'application/json',\\n\\t\\t\\t  data : param ? JSON.stringify(param) : \\\"[]\\\",\\n\\t\\t\\t  dataType : \\\"json\\\",\\n\\t\\t\\t  success : function(data) {\\n\\t\\t\\t    //console.log(\\\"函数回调\\\",data);\\n\\t\\t\\t\\tif(data.code == '0'){\\n\\t\\t\\t\\t\\tret = data.data;\\n\\t\\t\\t\\t}\\n\\t\\t\\t  }\\n\\t\\t\\t});\\n\\t\\t\\treturn ret;\\n\\t\\t};\\n      var render = function(workOrderData){\\n          var format = [{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"customerName\\\",\\n              label : \\\"产线\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"devName\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"appName\\\",\\n              label : \\\"报警来源\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"alertTitle\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"severity\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(data, type, full){\\n                  return data;\\n              }\\n          },{\\n              name : \\\"commitTime\\\",\\n              label : \\\"报警分配时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return new Date(data.format(\\\"yyyy-MM-dd HH:mm:ss\\\"));\\n              }\\n          },{\\n              name : \\\"candidateUserOrGroup\\\",\\n              label : \\\"当前处理人\\\",\\n              render : function(data, type, full){\\n                  console.log(\\\"candidateUserOrGroup===\\\"+data);\\n                return data;\\n              }\\n          },{\\n              name : \\\"status\\\",\\n              label : \\\"任务状态\\\",\\n              type : \\\"orderStatus\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"过程跟踪\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                      ticketNo : elem.row.ticketNo\\n                    }\\n                    target.navigateTo(\\\"page1\\\",param);\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        target.setValue(\\\"orderFormat\\\",format);\\n       target.render({\\n            data : workOrderData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      \\n      event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n        if(dt.code == 0){\\n        var workOrderData = dt.data;\\n        var workArray = [];\\n        var alertObj = event.global.alertObj;\\n        for(var i in workOrderData){\\n            workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n            workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n            if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                if(alertObj != undefined){\\n                    if(alertObj[workOrderData[i].origId[0]] != undefined){\\n                        workOrderData[i].customerName = alertObj[workOrderData[i].origId[0]].customerName;\\n                        workOrderData[i].devName = alertObj[workOrderData[i].origId[0]].devName;\\n                        workOrderData[i].appName = alertObj[workOrderData[i].origId[0]].appName;\\n                        workOrderData[i].alertTitle = alertObj[workOrderData[i].origId[0]].title;\\n                        workOrderData[i].severity = alertObj[workOrderData[i].origId[0]].severity;\\n               \\n                    }\\n                }\\n            }\\n            workArray.push(workOrderData[i]);\\n        }\\n             \\n                console.log(\\\"origId=====\\\",workArray);\\n        render(workArray);\\n        //event.target.render(projects);\\n        }else{\\n            console.log(\\\"接口异常\\\");\\n        }\\n      })\\n    },\\n    highlight : function(event){\\n    //   event.element.render(event.params)\\n    console.log(event.params);\\n    var paramsStatus = event.params;\\n    var target = event.target;\\n\\n      var render = function(workOrderData){\\n       var format = target.getValue(\\\"orderFormat\\\");\\n       target.render({\\n            data : workOrderData,\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      if(paramsStatus.status > 0){\\n           event.target.postService(\\\"ticketTaskService\\\", \\\"findTickets\\\",[paramsStatus], function(dt){\\n            if(dt.code == 0){\\n                var workOrderData = dt.data;\\n                var workArray = [];\\n                var alertObj = event.global.alertObj;\\n                for(var i in workOrderData){\\n                    workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n                    workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n                    workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n                    workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n                    workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n                    if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                        if(alertObj != undefined){\\n                            if(alertObj[workOrderData[i].origId[0]] != undefined){\\n                                workOrderData[i].customerName = alertObj[workOrderData[i].origId[0]].customerName;\\n                                workOrderData[i].devName = alertObj[workOrderData[i].origId[0]].devName;\\n                                workOrderData[i].appName = alertObj[workOrderData[i].origId[0]].appName;\\n                                workOrderData[i].alertTitle = alertObj[workOrderData[i].origId[0]].title;\\n                                workOrderData[i].severity = alertObj[workOrderData[i].origId[0]].severity;\\n                       \\n                            }\\n                        }\\n                    }\\n                    workArray.push(workOrderData[i]);\\n                }\\n                     \\n                render(workArray);\\n            }else{\\n                console.log(\\\"接口异常\\\");\\n            }\\n      })\\n     }else{\\n      event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTickets\\\",[], function(dt){\\n        if(dt.code == 0){\\n            var workOrderData = dt.data;\\n            var alertObj = event.global.alertObj;\\n            var workArray = [];\\n            for(var i in workOrderData){\\n                workOrderData[i][\\\"customerName\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"devName\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"appName\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"alertTitle\\\"] = \\\"\\\";\\n                workOrderData[i][\\\"severity\\\"] = \\\"\\\";\\n                if(workOrderData[i].origId && workOrderData[i].origId.length > 0){\\n                    if(alertObj != undefined){\\n                        if(alertObj[workOrderData[i].origId[0]] != undefined){\\n                            workOrderData[i].customerName = alertObj[workOrderData[i].origId[0]].customerName;\\n                            workOrderData[i].devName = alertObj[workOrderData[i].origId[0]].devName;\\n                            workOrderData[i].appName = alertObj[workOrderData[i].origId[0]].appName;\\n                            workOrderData[i].alertTitle = alertObj[workOrderData[i].origId[0]].title;\\n                            workOrderData[i].severity = alertObj[workOrderData[i].origId[0]].severity;\\n                   \\n                        }\\n                    }\\n                }\\n                workArray.push(workOrderData[i]);\\n            }\\n                 \\n            render(workArray);\\n        }else{\\n            console.log(\\\"接口异常\\\");\\n        }\\n      })\\n     }\\n   \\n    },\\n    accept:function(event){\\n      console.info(\\\"接受告警数据===\\\",event.params);  \\n       event.global.alertObj = event.params;\\n        \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"}}]}]}],\"col\":12,\"alertObj\":{\"536687391997887\":{\"eventId\":539220341586177,\"alertId\":536687391997887,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"9\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:8.0 [24] 异常\",\"arisingTime\":\"2017-11-10T10:09:16.969+0000\",\"receiveTime\":\"2017-11-10T10:09:16.969+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":24,\"state\":0,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T09:46:16.867+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T18:05:46.865+0000\",\"comments\":\"\",\"incidentId\":0,\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536687391997414\":{\"eventId\":538746819166095,\"alertId\":536687391997414,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"6\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:5.0 [2] 异常\",\"arisingTime\":\"2017-11-10T07:47:16.841+0000\",\"receiveTime\":\"2017-11-10T07:47:16.841+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":2,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T07:46:16.845+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T15:43:46.743+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T07:47:47.994+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"536859189296064\":{\"eventId\":538540371966064,\"alertId\":536859189296064,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"4\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:6.0 [13] 异常\",\"arisingTime\":\"2017-11-10T01:41:57.515+0000\",\"receiveTime\":\"2017-11-10T01:41:57.515+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":7,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:35:58.068+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:38:27.436+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T04:42:00.762+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"},\"540911188148124\":{\"eventId\":538517251976594,\"alertId\":540911188148124,\"alertCode\":528961739176064,\"nodeId\":533293384596078,\"domains\":\"/0/515445641576227/515445641576264/515445641576272/524031514586065/524031514586068/\",\"nodeTypes\":\"/0/1/9/526443915616064/516239472306097/\",\"devName\":\"助燃风机（流程测试01）\",\"appName\":\"助燃风机（流程测试01）\",\"relatedNodeId\":0,\"kpiValue\":\"2\",\"kpiCode\":10000101,\"kpiUnit\":\"mm/s\",\"severity\":1,\"title\":\"流程测试01\",\"message\":\"速度有效值:9.0 [6] 异常\",\"arisingTime\":\"2017-11-10T01:07:03.606+0000\",\"receiveTime\":\"2017-11-10T01:07:03.606+0000\",\"agentId\":\"RULE:536428705066064\",\"filtered\":false,\"classified\":false,\"domainList\":[\"0\",\"515445641576227\",\"515445641576264\",\"515445641576272\",\"524031514586065\",\"524031514586068\"],\"nodeTypeList\":[\"0\",\"1\",\"9\",\"526443915616064\",\"516239472306097\"],\"count\":6,\"state\":5,\"causeAlertId\":0,\"related\":false,\"firstArisingTime\":\"2017-11-10T01:02:03.603+0000\",\"oldSeverity\":1,\"updateTime\":\"2017-11-10T09:03:33.483+0000\",\"owner\":\"诊断中心系统管理员\",\"comments\":\"\",\"incidentId\":0,\"claimTime\":\"2017-11-10T06:26:53.346+0000\",\"claimBy\":\"诊断中心系统管理员\",\"upgradeCount\":0,\"activeState\":0,\"nodeName\":\"\",\"customerName\":\"1580产线\"}}},\"$$hashKey\":\"object:431\"},{\"label\":\"过程跟踪\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"按钮\",\"type\":\"button\",\"source\":\"BUTTON\",\"parameters\":{\"text\":\"返回\",\"icon\":{\"perfix\":\"proudsmart\",\"css\":\"ps-back-01\",\"id\":\"23\"}},\"advance\":{\"expression\":\"{\\n  on : {\\n    click : function(event){\\n      console.log(event);\\n       var target = event.target;\\n        target.navigateTo(\\\"page0\\\");\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"}},{\"label\":\"时间轴\",\"type\":\"history\",\"source\":\"HISTORY\",\"help\":\"../pdf/weather.pdf\",\"parameters\":{\"data\":[{\"time\":\"2017-11-12 12:30:10\",\"icon\":\"fa fa-user bg-aqua\",\"disList\":[\"<a  href='#'>用户任务</a>\",\"处理人:分析员\"]}]},\"advance\":{\"expression\":\"expression = {\\n  width : \\\"100%\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ticketNo = event.target.getParameter(\\\"ticketNo\\\");\\n      console.log(\\\"ticketNo===\\\"+ticketNo);\\n    var ctrlGroups = [\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[{\\nvalue : \\\"<a href='#'>报警产生</a>\\\"\\n},{\\nvalue : \\\"报警类型：振动报警\\\"\\n},{\\nvalue : \\\"报警级别：警告\\\"\\n},{\\nvalue : \\\"报警描述：速度有效值:1.250mm/s超出预警范围\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user bg-aqua bg-orange\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]},\\n{\\ntime:\\\"2017-11-12 12:30:10\\\",\\nicon:\\\"fa fa-user fa-fw fa-circle-o bg-green\\\",\\ndisList:[\\n{\\nvalue : \\\"<a href='#'>检修反馈</a>\\\"\\n}\\n]}\\n];   \\n if(ticketNo){\\n\\n        event.target.postService(\\\"ticketLogService\\\", \\\"getByTicketNo\\\",[ticketNo], function(dt){\\n          if(dt.code == 0){\\n            var ticketHistoryList = dt.data;\\n            var arr = [];\\n            console.info(\\\"ticketHistoryList===\\\",ticketHistoryList);\\n            for(var i in ticketHistoryList){\\n            var cantentList = [];\\n            var historyList = {time:\\\"\\\",icon:\\\"\\\",disList:\\\"\\\"};\\n             if(ticketHistoryList[i].logType == \\\"startEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle-o bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList.message});\\n             }\\n             if(ticketHistoryList[i].logType == \\\"endEvent\\\"){\\n                 historyList.icon = \\\"fa fa-fw fa-circle bg-green\\\";\\n                 cantentList.push({\\\"value\\\":ticketHistoryList.message});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"cancelEvent\\\"){\\n                 historyList.icon = \\\"fa fa-rotate-left fa-lg\\\";\\n                 cantentList.push({\\\"value\\\":\\\"已撤销\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"userTask\\\"){\\n                 historyList.icon = \\\"fa fa-user bg-aqua\\\";\\n                 var taskRemark = \\\"\\\";\\n                 if(ticketHistoryList[i].ticketTask.values && ticketHistoryList[i].ticketTask.values.ticketTaskDesc != undefined){\\n                     taskRemark = ticketHistoryList[i].ticketTask.values.ticketTaskDesc;\\n                 }\\n                 var handlerName = ticketHistoryList[i].ticketTask.handlerName;\\n                 cantentList.push({\\\"value\\\":\\\"处理人:\\\"+handlerName+\\\"\\\"});\\n                 cantentList.push({\\\"value\\\":\\\"处理描述:\\\"+taskRemark+\\\"\\\"});\\n             }\\n              if(ticketHistoryList[i].logType == \\\"serviceTask\\\"){\\n                 historyList.icon = \\\"ion ion-ios-gear-outline bg-blue\\\";\\n                 cantentList.push({\\\"value\\\":\\\"处理人:系统\\\"});\\n             }\\n             historyList.disList = cantentList;\\n             arr.push(historyList);\\n            }\\n            console.info(\\\"处理====\\\",arr);\\n            event.target.render(arr);\\n          }else{\\n            console.log(\\\"接口异常\\\");\\n          }\\n        })\\n      }else{\\n          event.target.render(ctrlGroups);\\n      }\\n\\n    }\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"}}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:766\"},{\"label\":\"忽略弹出框处理\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n       var params = target.getPopupData();\\n       console.info(\\\"alertObj===\\\",params);\\n       var objRemark={\\\"remark\\\":\\\"\\\"};\\n      var Dic = {\\n        alertInfo : {\\n          label : \\\"忽略原因:\\\",\\n          type : \\\"textarea\\\",\\n           on : {\\n            change : function(elem){\\n                objRemark.remark = elem.value;\\n              console.log(\\\"备注====\\\"+elem.value)\\n              \\n            }\\n          }\\n        }\\n      }\\n      var ctrlGroups = [];\\n      var loop = function(item){\\n        var labelObj = {\\n          type : \\\"label\\\",\\n          value : item.label,\\n          class : \\\"col-md-2\\\"\\n        }\\n        var type = item.type;\\n        var obj = {};\\n        obj.type = type;\\n        obj.options = item.options;\\n        obj.class = \\\"col-md-9\\\";\\n        obj.colSpan = 2;\\n        obj.on = item.on;\\n        return [labelObj, obj];\\n      }\\n      for(var i in Dic){\\n        ctrlGroups.push(loop(Dic[i]))\\n      }\\n      ctrlGroups.push([{\\n        type : \\\"label\\\",\\n        value : \\\"\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"提交\\\",\\n        btnclass : \\\"btn btn-primary\\\",\\n        class : \\\"col-md-1\\\",\\n        style:{\\\"text-align\\\":\\\"right\\\"},\\n        on : {\\n          click : function(elem){\\n              var ary = [];\\n              ary.push(params.alertObj.alertId);\\n              var alertInfo = {\\\"actionType\\\":\\\"recover\\\",\\\"alertIds\\\":ary,\\\"recoverAll\\\":true,\\\"resolved\\\":false,\\\"clearOut\\\":true,\\\"comment\\\":objRemark.remark};\\n              event.target.postService(\\\"alertManageFlexService\\\", \\\"sendRecoverAction\\\", [alertInfo], function(dt){\\n                  if(dt.code == 0){\\n                      event.target.growl(\\\"报警处理处理成功\\\",\\\"success\\\");\\n                      target.submit({\\\"statuc\\\":\\\"success\\\"});\\n                  }\\n              })\\n            console.log(\\\"提交\\\"+objRemark.remark);\\n          }\\n        }\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"取消\\\",\\n        btnclass : \\\"btn btn-default\\\",\\n        class : \\\"col-md-1\\\",\\n        on : {\\n          click : function(elem){\\n            target.submit();\\n          }\\n        }\\n      }])\\n      console.log()\\n      target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:844\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "实时状态(工作台_baogang/device)",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"overflow\":\"auto\",\"height\":\"calc( 100vh - 80px)\",\"background-color\":\"#04131e\",\"border\":\"0\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expression = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      var customers, projects, devices;\\n      var getData = function(returnData, callback, isDevices){\\n        var data = returnData.map(function(item){\\n          item.showfold = false;\\n          item.searchable = false;\\n          item.triggerEvent = \\\"fold\\\";\\n          item.icon = \\\"tag tag-green\\\";\\n          if(isDevices){\\n              item.on = {\\n                click : function(node){\\n                  node = node.node;\\n                  var str = node.label;\\n                  node.traverseParents(function(parent){\\n                    str = parent.label + \\\" / \\\" + str;\\n                  })\\n                  target.trigger(\\\"analysisNavigateTo\\\", 0);\\n                  target.setValue(\\\"global/resource\\\", node);\\n                  target.trigger(\\\"tree_resourceChange\\\", {\\n                      path : str,\\n                      resource : node\\n                  });\\n                }\\n              }\\n          };\\n          return item;\\n        });\\n        var Ids = data.map(function(item){\\n          return item.id;\\n        });\\n        target.getKpiValueCi(Ids, [999999], function(valuelist){\\n          for(var i in data){\\n            var find = valuelist.find(function(value){\\n              return value.nodeId == data[i].id;\\n            });\\n            if(find){\\n              if(find.value == 0){\\n                data[i].icon = \\\"tag tag-green\\\"\\n              } else if(find.value == 1){\\n                data[i].icon = \\\"tag tag-orange\\\"\\n              } else if(find.value == 2){\\n                data[i].icon = \\\"tag tag-red\\\"\\n              }\\n            }\\n          }\\n          callback(data);\\n        })\\n      }\\n      target.getResourceByModelId(301, function(data){\\n        getData(data, function(data){\\n          customers = data;\\n          target.getResourceByModelId(302, function(data){\\n            getData(data, function(data){\\n              projects = data;\\n              target.getDevicesByCondition({},function(data){\\n                getData(data, function(data){\\n                  devices = data;\\n                  target.queryDomainTree(function(domains){\\n                      var rootNode = domains[0];\\n                      var domainsArr = [];\\n                      var traverse = function(domain){\\n                          domain.children = domain.domainInfos || [];\\n                          domain.showfold = false;\\n                          domain.searchable = false;\\n                          domain.triggerEvent = \\\"fold\\\";\\n                          domain.icon = \\\"tag tag-green\\\";\\n                          delete domain.domainInfos;\\n                          var filter = customers.filter(function(customer){\\n                            return customer.domains == domain.domains + customer.id + \\\"/\\\";\\n                          });\\n                          Array.prototype.push.apply(domain.children, filter);\\n                          if(domain.children){\\n                            for(var i in domain.children){\\n                              traverse(domain.children[i])\\n                            }\\n                          }\\n                          domainsArr.push(domain)\\n                      }\\n                      traverse(rootNode);\\n                      for(var i in customers){\\n                        var filter = projects.filter(function(project){\\n                          return project.domains == customers[i].domains + project.id + \\\"/\\\";\\n                        });\\n                         console.log(\\\"customers\\\", filter)\\n                        customers[i].children = filter;\\n                      };\\n                      for(var i in projects){\\n                        var filter = devices.filter(function(device){\\n                          return device.domains == projects[i].domains;\\n                        });\\n                        projects[i].children = filter;\\n                      };\\n                      var treeDataMap = target.render(rootNode);\\n                      var firstNode;\\n                      treeDataMap.traverse(function(node){\\n                          if(node.label.indexOf(\\\"1111\\\") != -1){\\n                              firstNode = node;\\n                          }\\n                      })\\n                      var str = firstNode.label;\\n                      firstNode.traverseParents(function(parent){\\n                        str = parent.label + \\\" / \\\" + str;\\n                      });\\n                      target.setValue(\\\"global/resource\\\", firstNode);\\n                      target.trigger(\\\"tree_resourceChange\\\", {\\n                          path : str,\\n                          resource : firstNode\\n                      });\\n                      treeDataMap.traverse(function(node){\\n                        //console.log(node.id != firstNode.id);\\n                        if(node.level > 3){\\n                          if(typeof node.close == \\\"function\\\"){\\n                            node.close();\\n                          };\\n                        } else {\\n                          if(typeof node.open == \\\"function\\\"){\\n                            node.open();\\n                          };\\n                        }\\n                      })\\n                  });\\n                }, true);\\n              })\\n            });\\n          })\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"},\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px 15px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(str){\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"label\\\",\\n              value : str || \\\"普通标签\\\",\\n              style : {\\n                  \\\"font-weight\\\" : \\\"bold\\\",\\n                  \\\"color\\\" : \\\"#72b3d7\\\",\\n                  \\\"line-height\\\" : \\\"40px\\\"\\n              },\\n              class : \\\"col-md-12\\\"\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n      }\\n      render(\\\"读取中请稍后。。。\\\");\\n      target.on(\\\"tree_resourceChange\\\", function(data){\\n          render(data.path);\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\",\"color\":\"#72b3d7\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"15px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n\\t    \\\"init\\\" : function(event){\\n\\t        var target = event.target;\\n\\t        list = [{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"0%\\\",\\n    \\t        left : \\\"10%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"3%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"55%\\\",\\n    \\t        left : \\\"15%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"50%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        }]\\n\\t        for(var i in list){\\n\\t            target.createOverlayBypath(\\\"overlay\\\", {\\n    \\t            width : list[i].width,\\n    \\t            top : list[i].top,\\n    \\t            left : list[i].left,\\n    \\t            renderTo : \\\"self\\\"\\n    \\t        })\\n\\t        }\\n\\t        \\n\\t        target.render();\\n\\t    },\\n        \\\"click\\\" : function(event){\\n          console.log(event);\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"300px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826066,\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"normal\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 510070991266351;\\n      \\n      var render = function(id){\\n        target.getResourceById(id,function(returnData){\\n            var createGroup = function(){\\n                var prodate = target.dateHandler(returnData.values.productionDate);\\n                var current = target.dateHandler(new Date());\\n                var diff = current.minus(prodate)\\n                var ctrlGroups = [];\\n                returnData.values.productionDate = prodate.getDateString(\\\"yy-mm-dd\\\");\\n                returnData.values.runtime = target.topDateString(diff, \\\"dd天hh小时\\\");\\n                var attrNames = {\\n                    modelNo : \\\"设备型号\\\",\\n                    series : \\\"序列号\\\",\\n                    type : \\\"设备类型\\\",\\n                    brands : \\\"设备品牌\\\",\\n                    // manufacturing : \\\"生产制造方\\\",\\n                    productionDate : \\\"接入时间\\\",\\n                    runtime : \\\"运行时长\\\",\\n                    state : \\\"当前状态\\\",\\n                    scope : \\\"加工范围\\\",\\n                    density : \\\"加工精度\\\",\\n                    utilization : \\\"利用率\\\",\\n                    // conforma : \\\"一致性\\\",\\n                    yield : \\\"平均产品合格率\\\"\\n                }\\n                /**[\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备型号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.modelNo,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"序列号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.series,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备类型：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.type,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备品牌：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.brands,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"生产制造方：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.manufacturing,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"接入时间：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : prodate.getDateString(\\\"yy-mm-dd\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"运行时长：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : target.topDateString(diff, \\\"dd天hh小时\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"当前状态：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.state,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工范围：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.scope,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工精度：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.density,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"利用率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.utilization,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"一致性：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.conforma,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"平均产品合格率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :returnData.values.yield,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]*/\\n                console.log(returnData.values)\\n                for(var i in returnData.values){\\n                    if(attrNames[i]){\\n                     ctrlGroups.push([{\\n                      type : \\\"label\\\",\\n                      value : attrNames[i] + \\\"：\\\",\\n                      style : {\\n                        \\\"text-align\\\" : \\\"right\\\",\\n                        \\\"font-weight\\\" : \\\"500\\\",\\n                        \\\"color\\\" : \\\"#939393\\\"\\n                      }\\n                    },{\\n                      type : \\\"label\\\",\\n                      value : returnData.values[i],\\n                      style : {\\n                        \\\"text-align\\\" : \\\"left\\\",\\n                        \\\"font-weight\\\" : \\\"600\\\",\\n                        \\\"color\\\" : \\\"#0980db\\\",\\n                        \\\"line-height\\\" : \\\"30px\\\"\\n                      }\\n                    }])\\n                  };\\n                };\\n              event.target.render(ctrlGroups);\\n            }\\n          createGroup();\\n        })\\n      }\\n      \\n      \\n      \\n      /* 请求接口的方法\\n      target.on(\\\"production_resource_changed\\\", function(resourceId){\\n        render(resourceId)\\n      });\\n      render(id);\\n      */\\n      \\n    var groupData = [\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"机组：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"合成气压缩机组\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"20px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"轴承:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"20px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"测点名称:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"20px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"转速:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"9440\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"20px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"通频值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"25.18\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"20px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"1X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.42\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"20px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"2X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"0.70\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"20px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"0.5X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.01\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"20px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"GAP电压:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-10.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"20px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"有效值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"7.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"20px\\\"\\n                  }\\n                }]\\n        ];\\n     event.target.render(groupData);\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"15px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警通知\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}],\"url\":\"images/map/map1.png\"}],\"col\":9}],\"url\":\"images/map/map1.png\"}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelAnalysisNavigation\",\"CHANGENAVEEVENT\":\"analysisviewchange\",\"MOVETOEVENT\":\"analysismoveTo\"},\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "分析(工作台_baogang/analysis)",
      "viewType": "dashboard",
      "content": "{\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"overflow\":\"auto\",\"height\":\"calc( 100vh - 80px)\",\"background-color\":\"#04131e\",\"border\":\"0\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"数结构目录\",\"type\":\"treemenu\",\"source\":\"TREEMENU\",\"advance\":{\"expression\":\"var expression = {\\n  on : {\\n    init : function(event){\\n      var models = {}\\n      var target = event.target;\\n      /**\\n      var rootNode = {\\n        label : \\\"宝武集团\\\",\\n        showfold : false,\\n        searchable : false,\\n        children : []\\n      }*/\\n      var customers, projects, devices;\\n      var getData = function(returnData, callback, isDevices){\\n        var data = returnData.map(function(item){\\n          item.showfold = false;\\n          item.searchable = false;\\n          item.triggerEvent = \\\"fold\\\";\\n          item.icon = \\\"tag tag-green\\\";\\n          if(isDevices){\\n              item.on = {\\n                click : function(node){\\n                  node = node.node;\\n                  var str = node.label;\\n                  node.traverseParents(function(parent){\\n                    str = parent.label + \\\" / \\\" + str;\\n                  })\\n                  target.trigger(\\\"tree_resourceChange\\\", {\\n                      path : str,\\n                      resource : node\\n                  });\\n                }\\n              }\\n          };\\n          return item;\\n        });\\n        var Ids = data.map(function(item){\\n          return item.id;\\n        });\\n        target.getKpiValueCi(Ids, [999999], function(valuelist){\\n          for(var i in data){\\n            var find = valuelist.find(function(value){\\n              return value.nodeId == data[i].id;\\n            });\\n            if(find){\\n              if(find.value == 0){\\n                data[i].icon = \\\"tag tag-green\\\"\\n              } else if(find.value == 1){\\n                data[i].icon = \\\"tag tag-orange\\\"\\n              } else if(find.value == 2){\\n                data[i].icon = \\\"tag tag-red\\\"\\n              }\\n            }\\n          }\\n          callback(data);\\n        })\\n      }\\n      target.getResourceByModelId(301, function(data){\\n        getData(data, function(data){\\n          customers = data;\\n          target.getResourceByModelId(302, function(data){\\n            getData(data, function(data){\\n              projects = data;\\n              target.getDevicesByCondition({},function(data){\\n                getData(data, function(data){\\n                  devices = data;\\n                  target.queryDomainTree(function(domains){\\n                      var rootNode = domains[0];\\n                      var domainsArr = [];\\n                      var traverse = function(domain){\\n                          domain.children = domain.domainInfos || [];\\n                          domain.showfold = false;\\n                          domain.searchable = false;\\n                          domain.triggerEvent = \\\"fold\\\";\\n                          domain.icon = \\\"tag tag-green\\\";\\n                          delete domain.domainInfos;\\n                          var filter = customers.filter(function(customer){\\n                            return customer.domains == domain.domains + customer.id + \\\"/\\\";\\n                          });\\n                          Array.prototype.push.apply(domain.children, filter);\\n                          if(domain.children){\\n                            for(var i in domain.children){\\n                              traverse(domain.children[i])\\n                            }\\n                          }\\n                          domainsArr.push(domain)\\n                      }\\n                      traverse(rootNode);\\n                      for(var i in customers){\\n                        var filter = projects.filter(function(project){\\n                          return project.domains == customers[i].domains + project.id + \\\"/\\\";\\n                        });\\n                         console.log(\\\"customers\\\", filter)\\n                        customers[i].children = filter;\\n                      };\\n                      console.log(\\\"customers\\\", customers);\\n                      for(var i in projects){\\n                        var filter = devices.filter(function(device){\\n                          return device.domains == projects[i].domains;\\n                        });\\n                        projects[i].children = filter;\\n                      };\\n                      console.log(\\\"rootNode\\\", rootNode)\\n                      var treeDataMap = target.render(rootNode);\\n                      var firstNode = treeDataMap.children[0].children[0].children[0];\\n                      var str = firstNode.label;\\n                      firstNode.traverseParents(function(parent){\\n                        str = parent.label + \\\" / \\\" + str;\\n                      })\\n                      target.trigger(\\\"tree_resourceChange\\\", {\\n                          path : str,\\n                          resource : firstNode\\n                      });\\n                      treeDataMap.traverse(function(node){\\n                        if(node.level > 3){\\n                          if(typeof node.close == \\\"function\\\"){\\n                            node.close();\\n                          };\\n                        } else {\\n                          if(typeof node.open == \\\"function\\\"){\\n                            node.open();\\n                          };\\n                        }\\n                      })\\n                  });\\n                }, true);\\n              })\\n            });\\n          })\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"padding\":\"5px\",\"min-height\":\"100px\"},\"parameters\":{},\"id\":\"rkYiRpcFEnEAEcBb5CjNa7mYhKZSBFXa\"}],\"id\":\"rpSPpQDwTMkEySpJYYpWfbkfGpMBseM2\"}],\"template\":[{\"type\":\"css\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"}},{\"type\":\"css\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\",\"border-top\":\"0\"}},{\"type\":\"css\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"#efdcaf\",\"border\":\"1px solid #c2ad7a\"}},{\"type\":\"css\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"#f0c0a4\",\"border\":\"1px solid #e5671b\"}},{\"type\":\"css\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"#ffb3b3\",\"border\":\"1px solid #db2222\"}}],\"id\":\"m5FpkCXTSaEtPkrW5CjGi4DR8S4JWfeA\"}],\"col\":3,\"id\":\"KrYZf7heJCzHZZ3hkB2TkJRRSrMxf7Gk\"},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px 15px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(str){\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"label\\\",\\n              value : str || \\\"普通标签\\\",\\n              style : {\\n                  \\\"font-weight\\\" : \\\"bold\\\",\\n                  \\\"color\\\" : \\\"#72b3d7\\\",\\n                  \\\"line-height\\\" : \\\"40px\\\"\\n              },\\n              class : \\\"col-md-12\\\"\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n      }\\n      render(\\\"读取中请稍后。。。\\\");\\n      target.on(\\\"tree_resourceChange\\\", function(data){\\n          render(data.path);\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\",\"color\":\"#72b3d7\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"template\":[{\"label\":\"测点选择器\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var sensors = [];\\n      var render = function(){\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"button\\\",\\n              value : \\\"测点选择器[已选择\\\" + sensors.length + \\\"个测点]\\\", \\n              icon : \\\"glyphicon glyphicon-dashboard\\\",\\n              btnclass : \\\"btn btn-default\\\",\\n              class : \\\"col-md-12\\\",\\n              on : {\\n                click : function(elem){\\n                  target.createSystemPopupByJsonName(\\\"nodeciSelector\\\", {\\n                      title : \\\"测点选择器\\\",\\n                      message : \\\"\\\",\\n                      on : {\\n                          submit : function(data){\\n                              sensors = data;\\n                              console.log(sensors);\\n                              render();\\n                          }\\n                      }\\n                  },sensors)\\n                }\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"普通按钮\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"button\\\",\\n          value : \\\"按钮\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"页面导航\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var pages = target.getPages();\\n      var ctrlGroups = [];\\n      var tr = [];\\n      ctrlGroups.push(tr)\\n      var createPage = function(i, page){\\n          return {\\n              type : \\\"label\\\",\\n              linkage : true,\\n              value : page.tabLabel || \\\"标签\\\",\\n              on : {\\n                  click : function(event){\\n                      target.moveTo(page.path);\\n                  }\\n              }\\n          }\\n      }\\n      for(var i in pages){\\n          tr.push(createPage(i, pages[i]));\\n          if(i < pages.length - 1){\\n             tr.push({\\n                type : \\\"label\\\",\\n                value : \\\" > \\\"\\n             }); \\n          };\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"设备，项目，客户下拉\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds : [301,302]\\n      }, function(obj){\\n        var projects = obj.filter(function(elem){\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function(elem){\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function(devices){\\n          var ctrlGroups = [\\n            [{\\n              type : \\\"label\\\",\\n              value : \\\"设备下拉列表\\\"\\n            },{\\n              type : \\\"select\\\",\\n              value : \\\"\\\",\\n              on : {\\n                change : function(elem){\\n                  console.log(elem);\\n                }\\n              },\\n              options : devices,\\n              format : {\\n                \\\"id\\\" : \\\"id\\\",\\n                \\\"label\\\" : \\\"label\\\"\\n              }\\n            }],[{\\n              type : \\\"label\\\",\\n              value : \\\"客户下拉列表\\\"\\n            },{\\n              type : \\\"select\\\",\\n              value : \\\"\\\",\\n              on : {\\n                change : function(elem){\\n                  console.log(elem);\\n                }\\n              },\\n              options : customers,\\n              format : {\\n                \\\"id\\\" : \\\"id\\\",\\n                \\\"label\\\" : \\\"label\\\"\\n              }\\n            }],[{\\n              type : \\\"label\\\",\\n              value : \\\"项目下拉列表1\\\"\\n            },{\\n              type : \\\"select\\\",\\n              value : \\\"\\\",\\n              on : {\\n                change : function(elem){\\n                  console.log(elem);\\n                }\\n              },\\n              options : projects,\\n              format : {\\n                \\\"id\\\" : \\\"id\\\",\\n                \\\"label\\\" : \\\"label\\\"\\n              }\\n            }],[{\\n              type : \\\"label\\\",\\n              value : \\\"\\\"\\n            },{\\n              type : \\\"button\\\",\\n              value : \\\"按钮\\\",\\n              icon : \\\"glyphicon glyphicon-search\\\",\\n              class : \\\"btn-primary\\\",\\n              on : {\\n                click : function(elem){\\n                  console.log(elem);\\n                }\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"竖排组件功能组件\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"普通输入框\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : \\\"普通输入框\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"普通下拉列表\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"普通下拉列表\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"日期选择器\\\"\\n        },{\\n          type : \\\"datePicker\\\",\\n          value : \\\"普通输入框\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"输入选择器\\\"\\n        },{\\n          type : \\\"autoComplete\\\",\\n          value : \\\"search\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n            \\\"searchkey\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"树状选择器\\\"\\n        },{\\n          type : \\\"dropdowntree\\\",\\n          value : \\\"search\\\",\\n          options : {\\n            \\\"children\\\" : [{\\n              id : 0,\\n              label : \\\"根节点\\\",\\n              children : [{\\n                id : 1,\\n                label : \\\"子节点1\\\"\\n              },{\\n                id : 2,\\n                label : \\\"子节点2\\\"\\n              }]\\n            }]\\n          },\\n          on : {\\n            change : function(elem){\\n              console.log(elem)\\n            }\\n          },\\n          format : {\\n            \\\"children\\\" : \\\"children\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"按钮\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          class : \\\"btn-primary\\\",\\n          on : {\\n            click : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"},{\"label\":\"项目，管理域,提交按钮\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"{\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.queryDomainTree(function(domaintree){\\n        event.target.getDomainsByFilter({\\n          modelIds : [302]\\n        }, function(projects){\\n          event.target.setValue(\\\"projectName\\\", \\\"\\\");\\n          event.target.setValue(\\\"domainPath\\\", \\\"\\\")\\n          var ctrlGroups = [\\n            [{\\n              type : \\\"label\\\",\\n              value : \\\"项目名称\\\"\\n            },{\\n              type : \\\"autoComplete\\\",\\n              value : \\\"search\\\",\\n              options : projects,\\n              on : {\\n                change : function(elem){\\n                  var projectName = elem.value;\\n                  target.setValue(\\\"projectName\\\", projectName);\\n                }\\n              },\\n              format : {\\n                \\\"id\\\" : \\\"id\\\",\\n                \\\"label\\\" : \\\"label\\\",\\n                \\\"searchkey\\\" : \\\"label\\\"\\n              }\\n            }],[{\\n              type : \\\"label\\\",\\n              value : \\\"管理域\\\"\\n            },{\\n              type : \\\"dropdowntree\\\",\\n              value : \\\"search\\\",\\n              options : {\\n                \\\"domainInfos\\\" : domaintree\\n              },\\n              on : {\\n                change : function(elem){\\n                  var domain = elem.value;\\n                  target.setValue(\\\"domainPath\\\", domain.domainPath);\\n                }\\n              },\\n              format : {\\n                \\\"children\\\" : \\\"domainInfos\\\"\\n              }\\n            }],[{\\n              type : \\\"label\\\",\\n              value : \\\"\\\"\\n            },{\\n              type : \\\"button\\\",\\n              value : \\\"搜索\\\",\\n              icon : \\\"glyphicon glyphicon-search\\\",\\n              class : \\\"btn-primary\\\",\\n              on : {\\n                click : function(elem){\\n                  global.fire(\\\"refresh\\\")\\n                }\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\",\"width\":\"100%\"},\"url\":\"images/map/map1.png\"}],\"id\":\"rfXPFjJA4knt278KGCJRmkBAzHKibRGD\"},{\"label\":\"伪TAB样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      // -------------- 初始化内容在这里设置;\\n      var tabs = [{\\n        id : 0,\\n        label : \\\"综合趋势\\\",\\n        default : \\\"baogang/analysis/general\\\",\\n        icon : \\\"glyphicon glyphicon-home\\\",\\n      },{\\n        id : 1,\\n        label : \\\"特征趋势\\\",\\n        default : \\\"baogang/analysis/feature\\\",\\n        icon : \\\"glyphicon glyphicon-home\\\",\\n      },{\\n        id : 2,\\n        label : \\\"时域分析\\\",\\n        default : \\\"baogang/analysis/time\\\",\\n        icon : \\\"glyphicon glyphicon-home\\\",\\n      },{\\n        id : 3,\\n        label : \\\"频域波形\\\",\\n        default : \\\"baogang/analysis/frequence\\\",\\n        icon : \\\"glyphicon glyphicon-home\\\",\\n      },{\\n        id : 4,\\n        label : \\\"诊断履历\\\",\\n        default : \\\"baogang/analysis/diagnose\\\",\\n        icon : \\\"glyphicon glyphicon-home\\\",\\n      }];\\n      var CACHEDVALUENAME = \\\"controlPanelAnalysisNavigation\\\";\\n      var CHANGENAVEEVENT = \\\"analysisviewchange\\\";\\n      var MOVETOEVENT = \\\"analysismoveTo\\\";\\n      // ------------------- 初始化内容在这里设置\\n      var target = event.target;\\n      target.setScopeValue(\\\"CACHEDVALUENAME\\\", CACHEDVALUENAME);\\n      target.setScopeValue(\\\"CHANGENAVEEVENT\\\", CHANGENAVEEVENT);\\n      target.setScopeValue(\\\"MOVETOEVENT\\\", MOVETOEVENT);\\n      var editMode = true;\\n      var subTabs = [];\\n      var updateNaviList = function(){\\n        var obj = {\\n          tabs : tabs,\\n          subTabs : subTabs,\\n          editMode : editMode\\n        };\\n        target.saveEditorStatus(CACHEDVALUENAME, obj);\\n      }\\n      var select = function(item){\\n        var viewId = item.viewId;\\n        //console.log(\\\"trigger\\\", 40);\\n        target.trigger(CHANGENAVEEVENT, item);\\n      };\\n      var saveView = function(item, callback){\\n        var viewTitle = item.label;\\n        var viewType = \\\"dashboard\\\";\\n        var viewId = item.viewId;\\n        if(viewId){\\n          target.updateView({\\n            viewId : viewId,\\n            viewTitle : item.label,\\n            viewType : \\\"dashboard\\\"\\n          }, function(data){\\n            callback(data);\\n          })\\n        } else {\\n          var run = function(json){\\n              //console.log(\\\"run\\\", json);\\n            target.addView({\\n              viewTitle : item.label + \\\"(工作台配置文件_\\\" + (item.default || \\\"自定义\\\")  + \\\")\\\",\\n              viewType : \\\"dashboard\\\",\\n              content : json ? json : null,\\n            }, function(data){\\n              item.viewId = data.data.viewId;\\n              callback(data);\\n            })\\n          };\\n          if(item.default){\\n            target.Info(\\\"../../localdb/echartTemplate/\\\" + item.default + \\\".json\\\", function(json){\\n              run(JSON.stringify(json));\\n            })\\n          } else {\\n            run();\\n          }\\n        }\\n      };\\n      var deleteView = function(item){\\n        if(item.viewId){\\n          target.deleteView(item.viewId);\\n        };\\n      }\\n      target.getEditorStatus(CACHEDVALUENAME, function(status){\\n        var configGroupFound = function(){\\n          if(status){\\n            editMode = (status.editMode == undefined) ? true : status.editMode;\\n            \\n            for(var i in tabs){\\n                var find = status.tabs.find(function(elem){\\n                    return elem.id == tabs[i].id;\\n                })\\n                console.log(\\\"find\\\", find);\\n                if(find){\\n                    tabs[i].viewId = find.viewId;\\n                }\\n            };\\n            Array.prototype.push.apply(subTabs, status.subTabs);\\n          };\\n          var render = function(view){\\n            var tabFilter = tabs.filter(function(elem){\\n              return elem.show != false || editMode;\\n            })\\n            console.log(tabs);\\n            var tabsClone = tabFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.indexOf(elem);\\n                  render();\\n                }\\n              };\\n              if(editMode){\\n                clone.addOn = [{\\n                  icon : \\\"glyphicon glyphicon-scale\\\",\\n                  on : {\\n                    click : function(el){\\n                      var run = function(){\\n                        var viewId = elem.viewId;\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                      if(!elem.viewId){\\n                        saveView(elem, function(){\\n                          updateNaviList();\\n                          run();\\n                        });\\n                      } else {\\n                        run();\\n                      }\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-edit\\\",\\n                  on : {\\n                    click : function(event){\\n                      target.createPopupBypath(\\\"info\\\", {\\n                          title : \\\"工作台信息\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                             \\n                            }\\n                          }\\n                        }, elem);\\n                    }\\n                  }\\n                },{\\n                  icon : \\\"glyphicon glyphicon-refresh\\\",\\n                  on : {\\n                    click : function(event){\\n                      deleteView(elem);\\n                      delete elem.viewId;\\n                      updateNaviList();\\n                      render();\\n                    }\\n                  }\\n                }]\\n              };\\n              return clone;\\n            });\\n            var subTabsFilter = subTabs.filter(function(elem){\\n              return elem.show || editMode;\\n            })\\n            var subTabsClone = subTabsFilter.map(function(elem){\\n              var clone = elem.$clone();\\n              clone.on = {\\n                click : function(el){\\n                  target.tabInx = tabFilter.length + subTabsFilter.indexOf(elem);\\n                  //select(elem)\\n                  render();\\n                }\\n              }\\n              if(editMode){\\n                clone.$extension({\\n                  addOn : [{\\n                    icon : \\\"glyphicon glyphicon-edit\\\",\\n                    on : {\\n                      click : function(){\\n                        target.createPopupBypath(\\\"popup\\\", {\\n                          title : \\\"编辑工作台\\\",\\n                          theme : \\\"system\\\",\\n                          width : 500,\\n                          on : {\\n                            submit : function(item){\\n                              elem.label = item.name;\\n                              elem.id = item.id;\\n                              saveView(elem, function(){\\n                                updateNaviList();\\n                                render();\\n                              });\\n                            }\\n                          }\\n                        }, elem);\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"glyphicon glyphicon-scale\\\",\\n                    on : {\\n                      click : function(event){\\n                        target.linkTo(\\\"../app-freeboard/index.html#/freeboard/view/dashboard/\\\" + elem.viewId + \\\"/0\\\");\\n                      }\\n                    }\\n                  },{\\n                    icon : \\\"proudsmart ps-delete-02\\\",\\n                    on : {\\n                      click : function(event){\\n                        var inx = subTabs.indexOf(elem);\\n                        subTabs.splice(inx, 1);\\n                        deleteView(elem);\\n                        updateNaviList();\\n                        render();\\n                      }\\n                    }\\n                  }]\\n                });\\n              }\\n              return clone;\\n            });\\n            var concat = tabFilter.concat(subTabsFilter);\\n            \\n            if(view){\\n                target.tabInx = concat.indexOf(view);\\n            };\\n            if(target.tabInx > concat.length - 1){\\n                target.tabInx = concat.length - 1\\n                //select(concat[target.tabInx]);\\n            };\\n            select(concat[target.tabInx]);\\n            if(editMode){\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-plus\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.createPopupBypath(\\\"popup\\\", {\\n                      title : \\\"新建工作台\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(item){\\n                          var item = {\\n                            id : item.id,\\n                            label : item.name\\n                          };\\n                          saveView(item, function(){\\n                            subTabs.push(item);\\n                            updateNaviList();\\n                            render();\\n                          });\\n                        }\\n                      }\\n                    });\\n                  }\\n                }\\n              },{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }])\\n            } else {\\n              var clist = tabsClone.concat(subTabsClone).concat([{\\n                id : -1,\\n                label : \\\"\\\",\\n                icon : \\\"glyphicon glyphicon-cog\\\",\\n                on : {\\n                  click : function(elem){\\n                    //console.log(\\\"editMode\\\", editMode);\\n                    target.createPopupBypath(\\\"setting\\\", {\\n                      title : \\\"设置\\\",\\n                      theme : \\\"system\\\",\\n                      width : 500,\\n                      on : {\\n                        submit : function(data){\\n                          tabs = data.tabs;\\n                          editMode = data.editMode;\\n                          subTabs = data.subTabs;\\n                          updateNaviList();\\n                          render();\\n                        }\\n                      }\\n                    }, {\\n                      editMode : editMode,\\n                      tabs : tabs,\\n                      subTabs : subTabs\\n                    });\\n                  }\\n                }\\n              }]);\\n            }\\n            target.render(clist);\\n          };\\n          target.on(\\\"lv1naviTo\\\", function(id){\\n              var concat = tabs.concat(subTabs);\\n              var find = concat.find(function(elem){\\n                  return elem.id == id;\\n              });\\n              render(find);\\n              if(find){\\n                select(find);   \\n              }\\n          })\\n          render();\\n        }\\n        if(!status){\\n          target.saveConfigGroup({\\n            name : \\\"controlPanelLevel1Navigation\\\",\\n            label : \\\"工作台导航\\\",\\n            type : \\\"string\\\"\\n          }, function(data){\\n            configGroupFound();\\n          })\\n        } else {\\n          configGroupFound();\\n        }\\n      });\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n};\",\"customCategory\":\"\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"parameters\":{},\"url\":\"images/map/map1.png\",\"template\":[{\"label\":\"普通样式\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"{\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var tabs = [];\\n      for(var i=0; i<4; i++){\\n        tabs.push({\\n          id : i,\\n        \\tlabel : \\\"标签页\\\" + i\\n        })\\n      }\\n      event.target.render(tabs);\\n    },\\n    \\\"click\\\" : function(event){\\n      console.log(event);\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"tabInx\":0,\"url\":\"images/map/map1.png\"},{\"label\":\"可删减TAB\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"expression\":\"{\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var data = [];\\n      for(var i=0; i<4; i++) {\\n        data.push({\\n          id: i,\\n          label: \\\"标签页\\\" + i\\n        })\\n      };\\n      var render = function(){\\n        var tabs = [];\\n        var createItem = function(inx, item){\\n          var rs = {\\n            id : item.id,\\n            label : item.label,\\n            on : {\\n              click : function(event){\\n                target.tabInx = inx;\\n                render();\\n              }\\n            },\\n            addOn : [{\\n              icon : \\\"glyphicon glyphicon-remove\\\",\\n              on : {\\n                click  : function(event){\\n                  data.splice(inx, 1);\\n                  if(target.tabInx > data.length - 1){\\n                      target.tabInx = data.length - 1;\\n                  };\\n                  render();\\n                }\\n              }\\n            }]\\n          };\\n          return rs;\\n        };\\n        for(var i in data){\\n          tabs.push(createItem(i, data[i]))\\n        };\\n        event.target.render(tabs);\\n      };\\n      render();\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"tabInx\":0,\"url\":\"images/map/map1.png\"},{\"label\":\"所有项目\",\"type\":\"faketab\",\"source\":\"FAKETAB\",\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"{\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      event.target.getDomainsByFilter({\\n        modelIds : [302]\\n      }, function(projects){\\n        event.target.render(projects);\\n      })\\n    },\\n    \\\"click\\\" : function(event){\\n      console.log(event);\\n    }\\n  },\\n  \\\"format\\\" : {\\n    \\\"id\\\" : \\\"id\\\",\\n    \\\"label\\\" : \\\"label\\\"\\n  }\\n}\"},\"style\":{\"color\":\"#fff\",\"background-color\":\"#3c8dbc\",\"margin\":\"5px\"},\"tabInx\":0,\"url\":\"images/map/map1.png\"}],\"id\":\"NQrsZP75b5hE6isZZNsyNAzxi2P6GHZ5\",\"tabInx\":0},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"min-height\":\"calc(100vh - 200px)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"视图嵌入\",\"type\":\"injector\",\"source\":\"INJECTOR\",\"parameters\":{\"icon\":{\"id\":0,\"perfix\":\"ion\",\"css\":\"ion-ios-gear-outline\"}},\"advance\":{\"getfunction\":\"\",\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var json;\\n      var target = event.target;\\n      var CHANGENAVEEVENT = target.getScopeValue(\\\"CHANGENAVEEVENT\\\");\\n      var MOVETOEVENT = target.getScopeValue(\\\"MOVETOEVENT\\\");\\n      console.log(CHANGENAVEEVENT, CHANGENAVEEVENT)\\n      target.on(MOVETOEVENT, function(path){\\n        var find = json.groups.find(function(elem){\\n          return elem.path == path;\\n        });\\n        json.layout = find.layout;\\n        target.render(json);\\n      });\\n      target.on(CHANGENAVEEVENT, function(view){\\n        var viewId = view.viewId;\\n        console.log(\\\"viewId\\\", viewId);\\n        if(viewId){\\n          target.setValue(\\\"global/viewId\\\", viewId);\\n          target.getViewById(viewId, function(view){\\n            var content = view.content;\\n            if(content){\\n              json = JSON.parse(content);\\n              target.render(json);\\n            } else {\\n              target.Info('../../localdb/echartTemplate/baogang/nographe.json', function(nographe){\\n                target.render(nographe);\\n              });\\n            }\\n          });\\n        } else {\\n          var viewPath = view.default;\\n          target.Info('../../localdb/echartTemplate/' + view.default + \\\".json\\\", function(json){\\n            target.render(json);\\n          });\\n        };\\n      })\\n    }\\n  }\\n}\"},\"style\":{},\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            },\\n             {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\",\"border\":\"0\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}],\"url\":\"images/map/map1.png\"},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      target.on(\\\"tree_resourceChange\\\", function (node) {\\n          console.log(\\\"tree_resourceChange\\\", node);\\n        var ci = [node.resource.id]; // 设备\\n        var ciNames = node.resource.label;\\n        var kpi = [10020001];     //测点（指标）\\n        var kpiNames = [\\\"温度\\\"];\\n        var time = 24 * 3600 * 1000;\\n        // 扩展参数\\n        var extension = {};\\n        var xAxis = [];\\n        target.getKpiValueList(ci, kpi, time, function (returnData) {\\n          var xAxisData = [];\\n          returnData.forEach(function (ele) {\\n            xAxisData.push(target.dateHandler(ele.arisingTime).getDateString(\\\"hh:mm:ss\\\"));\\n          });\\n          var seriesData = []\\n          if (returnData) {\\n            for (var i in kpi) {\\n              var item = {\\n                name: kpiNames[i],\\n                data: returnData.map(function (elem) {\\n                  return elem.value;\\n                })\\n              }\\n              seriesData.push(item);\\n            }\\n          }\\n          var option = {\\n            title: {\\n              textStyle: {color: \\\"#fff\\\"}\\n            },\\n            tooltip: {},\\n            legend: {\\n              data: seriesData.map(function (elem) {\\n                return elem.name;\\n              })\\n            },\\n            xAxis: {\\n              boundaryGap: false,\\n              type: 'category',\\n              data: xAxisData\\n            },\\n            yAxis: {\\n              type: 'value'\\n            },\\n            dataZoom: [{\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n            }],\\n            series: seriesData.map(function (elem) {\\n              elem.type = \\\"line\\\";\\n              elem.symbolSize = 8;\\n              elem.data = elem.data;\\n              return elem;\\n            })\\n          };\\n          // 触发事件\\n          event.target.render(option);\\n        }, extension)\\n\\n      });\\n\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"default\"},\"url\":\"images/map/map1.png\"}],\"col\":10}],\"url\":\"images/map/map1.png\"}],\"id\":\"8xW8hwcx5kJhnjz2ntCE2eejeGhj8SWB\"}],\"id\":\"b5pYyQnY6ZTZexFYchJF5wwAy7nDDPys\"}],\"url\":\"images/map/map1.png\",\"parameters\":{},\"template\":[{\"type\":\"css\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"}},{\"type\":\"css\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\",\"border-top\":\"0\"}},{\"type\":\"css\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"#efdcaf\",\"border\":\"1px solid #c2ad7a\"}},{\"type\":\"css\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"#f0c0a4\",\"border\":\"1px solid #e5671b\"}},{\"type\":\"css\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"#ffb3b3\",\"border\":\"1px solid #db2222\"}}],\"id\":\"GKJCGZYGxkmmKYMeRsXzFsGBmBfEecEB\"}],\"id\":\"CpMCKMpNSiY56JwxNbePdZKbinGmNi74\"}],\"template\":[{\"type\":\"css\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"}},{\"type\":\"css\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\",\"border-top\":\"0\"}},{\"type\":\"css\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"#efdcaf\",\"border\":\"1px solid #c2ad7a\"}},{\"type\":\"css\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"#f0c0a4\",\"border\":\"1px solid #e5671b\"}},{\"type\":\"css\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"#ffb3b3\",\"border\":\"1px solid #db2222\"}}],\"id\":\"JPQNTHZanKwf8dtZtyRAjbBhrzMtC2as\"}],\"col\":9,\"id\":\"JQCB8aWAiySx2sM8fwp3zxKQjwW26pzn\"}],\"id\":\"iaEb8PjMeTWynhktWxWdQewbpT8hRMRt\"}],\"col\":12,\"CACHEDVALUENAME\":\"controlPanelAnalysisNavigation\",\"CHANGENAVEEVENT\":\"analysisviewchange\",\"MOVETOEVENT\":\"analysismoveTo\",\"id\":\"Yh54KfXP7pfXxkwNhPwNh8hDzryDT5yF\"},\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "实时状态(工作台配置文件_baogang/device)",
      "viewType": "dashboard",
      "content": "null"
    },
    {
      "viewTitle": "协同诊断(工作台:baogang/diagnose/corpor",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"导航页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      //-----------\\n      var attr = [ 'person','startDate','endDate'];\\n     var options1 = [\\n          {\\n          id : 0,\\n          label : \\\"请选择\\\"\\n      }];/*\\n      var options2 = [{\\n          id : 0,\\n          label : \\\"振动监测\\\"\\n      }];*/\\n      var timeSpan = null;\\n      var opt1 = [options1[0]];\\n     // var opt2 = [options2[0]];\\n      //-----------\\n      target.setScopeValue(\\\"search\\\", {});\\n      var render = function(){\\n       target.setScopeValue(\\\"search/\\\" + attr[0], {\\n          type : \\\"inside\\\",\\n          value : opt1\\n        });/*\\n        target.setScopeValue(\\\"search/\\\" + attr[1], {\\n          type : \\\"inside\\\",\\n          value : opt2\\n        });*/\\n        target.setScopeValue(\\\"search/\\\" + attr[1], {\\n          type : \\\"between\\\",\\n          value : timeSpan\\n        });\\n        var ctrlGroups = [\\n          [ {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"在线设备视频诊断申请\\\",\\n            btnStyle: {\\n              width: \\\"400px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                target.createPopupBypath('popup3', {\\n                        title: \\\"在线设备视频诊断申请\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"60%\\\"\\n                })\\n              }\\n            }\\n          },  /*{\\n            type: \\\"label\\\",\\n            value: \\\"检测技术\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"select\\\",\\n            value: opt2[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt2 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options2,\\n            format: {\\n              \\\"id\\\": \\\"id\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            },\\n          }, */\\n           {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"临时设备视频诊断申请\\\",\\n            btnStyle: {\\n              width: \\\"400px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                target.createPopupBypath('popup4', {\\n                        title: \\\"临时设备视频诊断申请\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"60%\\\"\\n                })\\n              }\\n            }\\n          }]\\n        ];\\n        target.render(ctrlGroups);\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //自定义输入\\n      var Dictionary = {\\n        warningMessage :  \\\"报警信息\\\",\\n        startTime : \\\"发起时间\\\",\\n        consultant : \\\"会诊发起人\\\",\\n        consultationParticipants : \\\"会诊参与人\\\",\\n        time : \\\"时限\\\",\\n        state : \\\"状态\\\"\\n       \\n      };\\n      var simulate = {\\n        warningMessage:  function(inx, elem, attr){\\n           return elem.randomText(['test']);\\n        },\\n         startTime : function(inx, elem, attr){\\n          var current = target.dateHandler(new Date()).addDay(-10);\\n          return current.addHour(parseInt(inx) * 24).getDateString(\\\"yy/MM/dd,hh:mm:ss\\\");\\n        },\\n        consultant: function(inx, elem, attr){\\n          return elem.randomText(['发起人']);\\n        },\\n       consultationParticipants : function(inx, elem, attr){\\n          return elem.randomText(['参与人']);\\n        },\\n       time : function(inx, elem, attr){\\n          return elem.randomText(['15h']);\\n        },\\n        state :  function(inx, elem, attr){\\n          return elem.randomText(['待协同', '协同完毕']);\\n        },\\n      \\n      };\\n      //自定义输入\\n      setTimeout(function(){\\n        target.getSimulateApi(simulate, 10, function(datas){\\n          var render = function(){\\n            var format = [];\\n            for(var i in Dictionary){\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            var search = target.getScopeValue(\\\"search\\\");\\n            var filter = datas.filter(function(elem){\\n              for(var i in search){\\n                var type = search[i].type;\\n                var value = search[i].value;\\n                if(type == \\\"between\\\"){\\n                  if(value){\\n                    var dt = target.dateHandler(elem[i]);\\n                    var dt0 = value[0];\\n                    var dt1 = value[1];\\n                    var rs = (dt0 ? dt.after(dt0) : true) && (dt1 ? dt.before(dt1) : true);\\n                    if(!rs){\\n                      return false;\\n                    };\\n                  } else {\\n                    return true;\\n                  }\\n\\n                } else if(type == \\\"inside\\\"){\\n                  var some = value.some(function(el){\\n                    return elem[i] == el.title || elem[i] == el.label;\\n                  });\\n                  if(!some){\\n                    return false;\\n                  }\\n                } else if(type == \\\"domains\\\"){\\n                  return elem.domains.indexOf(value.domains) != -1;\\n                }\\n              };\\n              return true;\\n            })\\n            format.push({\\n              name : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"诊断详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"device\\\", {\\n                      tabLabel : elem.label\\n                    });\\n\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                return \\\"\\\"\\n              }\\n            });\\n            target.render({\\n              data : filter,\\n              on : {\\n                rowClick : function(event){\\n                  target.createPopupBypath('analysis', {\\n                    title: \\\"诊断分析\\\",\\n                    theme : \\\"system\\\",\\n                    width: \\\"80%\\\"\\n                  }, {\\n                    message: \\\"诊断分析\\\"\\n                  })\\n                }\\n              },\\n              format : format\\n            });\\n          };\\n          target.off(\\\"search_toDolist\\\");\\n          target.on(\\\"search_toDolist\\\", function(){\\n            render();\\n          });\\n          render();\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"$$hashKey\":\"object:469\"},{\"label\":\"诊断申请的弹出框\",\"path\":\"popup\",\"layout\":{\"type\":\"column\",\"children\":[],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:480\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "诊断报告(工作台:baogang/history/diagnos",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3},{\"type\":\"column\",\"children\":[],\"col\":3}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      //-----------\\n      var attr = [ 'diagnosticType','startDate','endDate'];\\n     var options1 = [\\n          {\\n          id : 0,\\n          label : \\\"振动\\\"\\n      }];/*\\n      var options2 = [{\\n          id : 0,\\n          label : \\\"振动监测\\\"\\n      }];*/\\n      var timeSpan = null;\\n      var opt1 = [options1[0]];\\n     // var opt2 = [options2[0]];\\n      //-----------\\n      target.setScopeValue(\\\"search\\\", {});\\n      var render = function(){\\n       target.setScopeValue(\\\"search/\\\" + attr[0], {\\n          type : \\\"inside\\\",\\n          value : opt1\\n        });/*\\n        target.setScopeValue(\\\"search/\\\" + attr[1], {\\n          type : \\\"inside\\\",\\n          value : opt2\\n        });*/\\n        target.setScopeValue(\\\"search/\\\" + attr[1], {\\n          type : \\\"between\\\",\\n          value : timeSpan\\n        });\\n        var ctrlGroups = [\\n          [\\n            {\\n              type: \\\"label\\\",\\n              value: \\\"诊断类型\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n            type: \\\"select\\\",\\n            value: opt1[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt1 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options1,\\n            format: {\\n              \\\"id\\\": \\\"domains\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            }\\n          }, /*{\\n            type: \\\"label\\\",\\n            value: \\\"检测技术\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"select\\\",\\n            value: opt2[0].id,\\n            class: \\\"col-md-2\\\",\\n            on: {\\n              change: function (elem) {\\n                opt2 = [elem.value];\\n                render();\\n              }\\n            },\\n            options: options2,\\n            format: {\\n              \\\"id\\\": \\\"id\\\",\\n              \\\"label\\\": \\\"label\\\"\\n            },\\n          }, */\\n          {\\n            type: \\\"label\\\",\\n            value: \\\"起始时间\\\",\\n            class: \\\"col-md-1\\\",\\n            style: {\\n\\n              textAlign: \\\"center\\\"\\n            }\\n          }, {\\n            type: \\\"dateRangePicker\\\",\\n            value: timeSpan,\\n            class: \\\"col-md-3\\\",\\n            on: {\\n              change: function (elem) {\\n                //var start = target.dateHandler(elem.value.start);\\n                //var end = target.dateHandler(elem.value.end);\\n                timeSpan = [elem.value.start, elem.value.end];\\n                render();\\n              }\\n            },\\n          }, {\\n            type: \\\"button\\\",\\n            class: \\\"col-md-1 col-md-offset-1\\\",\\n            btnclass: \\\"btn btn-primary\\\",\\n            value: \\\"查 询\\\",\\n            btnStyle: {\\n              width: \\\"100px\\\",\\n            },\\n            on : {\\n              click : function(){\\n                target.trigger(\\\"search_toDolist\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        target.render(ctrlGroups);\\n      }\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}}]}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      //自定义输入\\n      var Dictionary = {\\n        reportNumber :  \\\"报告编号\\\",\\n        endTime : \\\"完成时间\\\",\\n        diagnosticOfficer : \\\"诊断负责人\\\",\\n        diagnosticType : \\\"诊断类型\\\",\\n        reportConclusio : \\\"报告结论\\\",\\n        reportSource : \\\"报告来源\\\"\\n       \\n      };\\n      var simulate = {\\n        reportNumber :  function(inx, elem, attr){\\n          return \\\"690530M05\\\" + inx\\n        },\\n     endTime : function(inx, elem, attr){\\n          var current = target.dateHandler(new Date()).addDay(-10);\\n          return current.addHour(parseInt(inx) * 24).getDateString(\\\"yy/MM/dd,hh:mm:ss\\\");\\n        },\\n        diagnosticOfficer : function(inx, elem, attr){\\n          return elem.randomText(['诊断技术员']);\\n        },\\n       diagnosticType: function(inx, elem, attr){\\n          return elem.randomText(['振动']);\\n        },\\n       reportConclusio : function(inx, elem, attr){\\n          return elem.randomText(['在2级叶轮轮盖与叶片连接焊缝均发现线性缺陷显示','裂纹性缺陷','风机加强板焊缝均有咬边']);\\n        },\\n         reportSource  :  function(inx, elem, attr){\\n          return elem.randomText([  '在线诊断','离线诊断']);\\n        },\\n       \\n      };\\n      //自定义输入\\n      setTimeout(function(){\\n        target.getSimulateApi(simulate, 10, function(datas){\\n          var render = function(){\\n            var format = [];\\n            for(var i in Dictionary){\\n              var item = target.explainDic(i, Dictionary[i]);\\n              format.push(item);\\n            }\\n            var search = target.getScopeValue(\\\"search\\\");\\n            var filter = datas.filter(function(elem){\\n              for(var i in search){\\n                var type = search[i].type;\\n                var value = search[i].value;\\n                if(type == \\\"between\\\"){\\n                  if(value){\\n                    var dt = target.dateHandler(elem[i]);\\n                    var dt0 = value[0];\\n                    var dt1 = value[1];\\n                    var rs = (dt0 ? dt.after(dt0) : true) && (dt1 ? dt.before(dt1) : true);\\n                    if(!rs){\\n                      return false;\\n                    };\\n                  } else {\\n                    return true;\\n                  }\\n\\n                } else if(type == \\\"inside\\\"){\\n                  var some = value.some(function(el){\\n                    return elem[i] == el.title || elem[i] == el.label;\\n                  });\\n                  if(!some){\\n                    return false;\\n                  }\\n                } else if(type == \\\"domains\\\"){\\n                  return elem.domains.indexOf(value.domains) != -1;\\n                }\\n              };\\n              return true;\\n            })\\n            format.push({\\n              name : \\\"处理\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"device\\\", {\\n                      tabLabel : elem.label\\n                    });\\n\\n                  }\\n                }\\n              }],\\n              render : function(){\\n                return \\\"\\\"\\n              }\\n            });\\n            target.render({\\n              data : filter,\\n              on : {\\n                rowClick : function(event){\\n                  target.createPopupBypath('analysis', {\\n                    title: \\\"诊断分析\\\",\\n                    theme : \\\"system\\\",\\n                    width: \\\"80%\\\"\\n                  }, {\\n                    message: \\\"诊断分析\\\"\\n                  })\\n                }\\n              },\\n              format : format\\n            });\\n          };\\n          target.off(\\\"search_toDolist\\\");\\n          target.on(\\\"search_toDolist\\\", function(){\\n            render();\\n          });\\n          render();\\n        });\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "delete",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "隐马尔可夫型HMM(专家模型)",
      "viewType": "dashboard",
      "content": "{\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"600px\"},\"advance\":{\"expression\":\"expression = {\\n            on : {\\n              init : function(event){\\n            var target = event.target;\\n            var global = event.global;\\n            var inx = 0;\\n            var execute = function(input){\\n  return [{\\n      name : \\\"aaa\\\",\\n      data : [1,2,3,4,5,4,3,2,1]\\n  }]\\n}\\n            console.log('execute', execute);\\n            var option = {\\n              title: {\\n                text: \\\"隐马尔可夫型HMM\\\"\\n              },\\n              tooltip: {},\\n              legend: {\\n                data: execute().map(function(elem){return elem.name;})\\n              },\\n              xAxis: {\\n                data: execute()[0].data.map(function(elem){return inx; inx++})\\n              },\\n              yAxis: {},\\n              series: execute().map(function(elem){ elem.type = elem.type || 'line'; return elem;})\\n            };\\n            target.render(option);\\n          }\\n\\n            }\\n          }\\n\"}}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "诊断履历(工作台配置文件_baogang/analysis/di",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"检测技术\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['690530M05']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"检修对象\\\",\\n              render : function(){\\n                  return randomText(['助燃风机']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"告警时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"异常信息来源\\\",\\n              render : function(){\\n                  return randomText(['系统自动']);\\n              }\\n          },\\n          {\\n              name : \\\"warn\\\",\\n              label : \\\"检测技术\\\",\\n              render : function(){\\n                  return randomText(['振动监测'])\\n              }\\n          },{\\n              name : \\\"collect\\\",\\n              label : \\\"工艺状况\\\",\\n              render : function(){\\n                  return randomText(['额定工况'])\\n              }\\n          },{\\n              name : \\\"unusual\\\",\\n              label : \\\"异常现象\\\",\\n              render : function(){ \\n                 return  randomText(['振动值超标，轴承存在异音','风机垂直振动值严重超标','传动轴轴承座振动超标']) \\n            }\\n          },\\n          {\\n              name : \\\"part\\\",\\n              label : \\\"检修部位\\\",\\n              render : function(){ \\n                 return  randomText(['泵','轴承座']) \\n            }\\n          },\\n          {\\n              name : \\\"content\\\",\\n              label : \\\"监测内容\\\",\\n              render : function(){ \\n                 return  randomText(['速度有效值']) \\n            }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"setting\":{\"showNavi\":false,\"style\":{\"padding\":\"15px\"}}}"
    },
    {
      "viewTitle": "宝钢视图-诊断分析工作台_hanxing",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3003],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"140\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(78, 195, 195)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"50\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"总设备数\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"2px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待诊断任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(86, 176, 242)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"诊断中任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(241, 194, 50)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"月新增设备\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"14px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"综合诊断任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3017],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"32\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(182, 161, 224)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"43\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"协同诊断任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 0,\\n          title : \\\"当日计划\\\",\\n          value : 1\\n      },{\\n          id : 1,\\n          title : \\\"周计划\\\",\\n          value : 0\\n      },{\\n          id : 2,\\n          title : \\\"月计划\\\",\\n          value : 0\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"时 间:\\\",\\n            style:{\\n                textAlign:\\\"center\\\",\\n                width:\\\"55px\\\"\\n            }\\n          }]\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 3,\\n          title : \\\"任务类型\\\",\\n          type:\\\"label\\\"\\n      },{\\n          id : 4,\\n          title : \\\"诊断\\\",\\n          value : true,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 5,\\n          title : \\\"报告审核\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 6,\\n          title : \\\"知识整理\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"评价反馈\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n           []\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 3,\\n          title : \\\"设备类型\\\",\\n          type:\\\"label\\\"\\n      },{\\n          id : 4,\\n          title : \\\"加热炉\\\",\\n          value : true,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 5,\\n          title : \\\"测压机\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 6,\\n          title : \\\"粗轧\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"精轧\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 8,\\n          title : \\\"供配电系统\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 9,\\n          title : \\\"除磷系统\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 10,\\n          title : \\\"高级\\\",\\n          value : 3,\\n          type:\\\"query\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n           []\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                          target.trigger(\\\"showAdvance\\\")\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"高级\\\",\\n          \\n              style: {\\n                  width:\\\"55px\\\",\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"检测技术\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(tasks){\\n          var format = [{\\n              name : \\\"id\\\",\\n              label : \\\"诊断编号\\\",\\n              render : function(){\\n                  return randomText(['告警设备***']);\\n              }\\n          },{\\n              name : \\\"deviceId\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['风机故障','振动值超标']);\\n              }\\n          },{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"报警类型\\\",\\n              render : function(){\\n                  return randomText(['振动值超标','空载']);\\n              }\\n          },{\\n              name : \\\"ticketNo\\\",\\n              label : \\\"报警级别\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"sendTime\\\",\\n              label : \\\"申请时间\\\",\\n              type : \\\"date\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"告警管理员\\\",\\n               render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handlerName\\\",\\n              label : \\\"诊断管理员\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"ticketTitle\\\",\\n              label : \\\"诊断状态\\\",\\n              render : function(data, type, full){\\n                return data;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    var param = {\\n                        taskId : elem.row.id,\\n                        deviceId : elem.row.deviceId\\n                    }\\n                    target.navigateTo(\\\"page2\\\", param);\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"接诊\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 10; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : tasks,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      event.target.postService(\\\"ticketTaskService\\\", \\\"getAllTicketTasks\\\", [], function(tc){\\n        if(tc.code == 0){\\n         render(tc.data);\\n        }else{\\n\\t\\t event.target.growl(tc.message,\\\"error\\\");\\n        }\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}],\"col\":12},\"$$hashKey\":\"object:2665\"},{\"label\":\"设备状态\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n\\t    \\\"init\\\" : function(event){\\n\\t        var target = event.target;\\n\\t        list = [{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"0%\\\",\\n    \\t        left : \\\"10%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"3%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"55%\\\",\\n    \\t        left : \\\"15%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"50%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        }]\\n\\t        for(var i in list){\\n\\t            target.createOverlayBypath(\\\"overlay\\\", {\\n    \\t            width : list[i].width,\\n    \\t            top : list[i].top,\\n    \\t            left : list[i].left,\\n    \\t            renderTo : \\\"self\\\"\\n    \\t        })\\n\\t        }\\n\\t        \\n\\t        target.render();\\n\\t    },\\n        \\\"click\\\" : function(event){\\n          console.log(event);\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826066,\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\",\"color\":\"rgb(68, 68, 68)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 510070991266351;\\n      \\n      var render = function(id){\\n        target.getResourceById(id,function(returnData){\\n            var createGroup = function(){\\n                var prodate = target.dateHandler(returnData.values.productionDate);\\n                var current = target.dateHandler(new Date());\\n                var diff = current.minus(prodate)\\n                var ctrlGroups = [];\\n                returnData.values.productionDate = prodate.getDateString(\\\"yy-mm-dd\\\");\\n                returnData.values.runtime = target.topDateString(diff, \\\"dd天hh小时\\\");\\n                var attrNames = {\\n                    modelNo : \\\"设备型号\\\",\\n                    series : \\\"序列号\\\",\\n                    type : \\\"设备类型\\\",\\n                    brands : \\\"设备品牌\\\",\\n                    // manufacturing : \\\"生产制造方\\\",\\n                    productionDate : \\\"接入时间\\\",\\n                    runtime : \\\"运行时长\\\",\\n                    state : \\\"当前状态\\\",\\n                    scope : \\\"加工范围\\\",\\n                    density : \\\"加工精度\\\",\\n                    utilization : \\\"利用率\\\",\\n                    // conforma : \\\"一致性\\\",\\n                    yield : \\\"平均产品合格率\\\"\\n                }\\n                /**[\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备型号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.modelNo,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"序列号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.series,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备类型：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.type,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备品牌：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.brands,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"生产制造方：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.manufacturing,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"接入时间：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : prodate.getDateString(\\\"yy-mm-dd\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"运行时长：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : target.topDateString(diff, \\\"dd天hh小时\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"当前状态：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.state,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工范围：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.scope,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工精度：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.density,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"利用率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.utilization,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"一致性：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.conforma,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"平均产品合格率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :returnData.values.yield,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]*/\\n                console.log(returnData.values)\\n                for(var i in returnData.values){\\n                    if(attrNames[i]){\\n                     ctrlGroups.push([{\\n                      type : \\\"label\\\",\\n                      value : attrNames[i] + \\\"：\\\",\\n                      style : {\\n                        \\\"text-align\\\" : \\\"right\\\",\\n                        \\\"font-weight\\\" : \\\"500\\\",\\n                        \\\"color\\\" : \\\"#939393\\\"\\n                      }\\n                    },{\\n                      type : \\\"label\\\",\\n                      value : returnData.values[i],\\n                      style : {\\n                        \\\"text-align\\\" : \\\"left\\\",\\n                        \\\"font-weight\\\" : \\\"600\\\",\\n                        \\\"color\\\" : \\\"#0980db\\\",\\n                        \\\"line-height\\\" : \\\"30px\\\"\\n                      }\\n                    }])\\n                  };\\n                };\\n              event.target.render(ctrlGroups);\\n            }\\n          createGroup();\\n        })\\n      }\\n      \\n      \\n      \\n      /* 请求接口的方法\\n      target.on(\\\"production_resource_changed\\\", function(resourceId){\\n        render(resourceId)\\n      });\\n      render(id);\\n      */\\n      \\n    var groupData = [\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"机组：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"合成气压缩机组\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"轴承:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"测点名称:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"转速:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"9440\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"通频值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"25.18\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"1X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.42\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"2X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"0.70\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"0.5X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.01\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"GAP电压:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-10.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"有效值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"7.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标序号:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"512\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标时间:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"07:23:32\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\" 波形值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-12.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"幅值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"频率\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"倍频\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.00\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"67\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"单位\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"um\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]\\n        ];\\n     event.target.render(groupData);\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警通知\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}]}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:6278\"},{\"label\":\"分析-综合趋势\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\r\\n  on: {\\r\\n    init: function (event) {\\r\\n      var target = event.target;\\r\\n      var global = event.global;\\r\\n      var target = event.target;\\r\\n      var global = event.global;\\r\\n      console.info(\\\"taskId====\\\", event.target.getParameter(\\\"taskId\\\"));\\r\\n      event.target.getDomainsByFilter({\\r\\n        modelIds: [301, 302]\\r\\n      }, function (obj) {\\r\\n        var projects = obj.filter(function (elem) {\\r\\n          return elem.modelId == 302;\\r\\n        })\\r\\n        var customers = obj.filter(function (elem) {\\r\\n          return elem.modelId == 301;\\r\\n        })\\r\\n        event.target.getDevicesByCondition({}, function (devices) {\\r\\n          var ctrlGroups = [\\r\\n            [{\\r\\n              type: \\\"label\\\",\\r\\n              value: \\\"起始时间\\\",\\r\\n              class: \\\"col-md-1\\\",\\r\\n              style: {\\r\\n                textAlign: \\\"center\\\"\\r\\n              }\\r\\n            }, {\\r\\n              type: \\\"dateRangePicker\\\",\\r\\n              value: \\\"\\\",\\r\\n              class: \\\"col-md-3\\\",\\r\\n              on: {\\r\\n                change: function (elem) {\\r\\n                  console.log(elem);\\r\\n                }\\r\\n              },\\r\\n            }, {\\r\\n              type: \\\"button\\\",\\r\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\r\\n              btnclass: \\\"btn btn-primary\\\",\\r\\n              value: \\\"设备信息\\\",\\r\\n              btnStyle: {\\r\\n                width: \\\"100px\\\",\\r\\n              }\\r\\n            },\\r\\n              {\\r\\n                type: \\\"button\\\",\\r\\n                class: \\\"col-md-1 col-md-offset-1\\\",\\r\\n                btnclass: \\\"btn btn-primary\\\",\\r\\n                value: \\\"填写报告\\\",\\r\\n                btnStyle: {\\r\\n                  width: \\\"100px\\\",\\r\\n                },\\r\\n                on: {\\r\\n                  click: function (elem) {\\r\\n                    var taskId = event.target.getParameter(\\\"taskId\\\");\\r\\n                    if (taskId) {\\r\\n                      event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function (tc) {\\r\\n                        if (tc.code == 0) {\\r\\n                          console.info(\\\"getTicketTaskById====\\\", tc.data);\\r\\n                          var param = {\\r\\n                            taskId: taskId,\\r\\n                            taskList: tc.data\\r\\n                          }\\r\\n                          target.navigateTo(\\\"page7\\\", param);\\r\\n                        } else {\\r\\n                          event.target.growl(tc.message, \\\"info\\\");\\r\\n                        }\\r\\n                      })\\r\\n                    }\\r\\n                  }\\r\\n                }\\r\\n              }]\\r\\n          ];\\r\\n          event.target.render(ctrlGroups);\\r\\n        });\\r\\n      });\\r\\n    },\\r\\n    highlight: function (event) {\\r\\n      console.info(\\\"param===\\\", event.params);\\r\\n    }\\r\\n  }\\r\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\",\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"0\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":10}]}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:7992\"},{\"label\":\"分析-特征趋势\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备分析\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"信号分析\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:8617\"},{\"label\":\"分析-时域分析\",\"path\":\"page4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 \\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"添加依据\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"15px\",\"border\":\"1px solid #eee\",\"border-top\":0},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var dataList = (function(){\\n        var rs = [];\\n        var inx = 0;\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          rs.push(inx + \\\"\\\");\\n          inx ++;\\n        }\\n        return rs;\\n      })();\\n      var valueList = (function(){\\n        var rs = [];\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          var nu = 0;\\n          for(var j=0; j<8; j++){\\n            nu += (Math.pow((1 / (j+1)), 3) * Math.sin(i * Math.pow(3 ,j))) * 10 + Math.random() * 1.3;\\n          };\\n          rs.push(nu.toFixed(2));\\n        };\\n        return rs;\\n      })();\\n      var data = [];\\n      for (var i = 0; i < dataList.length; i++) {\\n        data.push([dataList[i], valueList[i]])\\n      }\\n      var dateList = data.map(function (item) {\\n        return item[0];\\n      });\\n      var valueList = data.map(function (item) {\\n        return item[1];\\n      });\\n      var render = function(init, sub){\\n          console.log(\\\"init\\\", init, sub);\\n        var type = target.getValue(\\\"type\\\") || 0;\\n        var x0 = target.getValue(\\\"x0\\\") || 0;\\n        var x1 = target.getValue(\\\"x1\\\") || 180;\\n        if(type == 0){\\n            var markLine = undefined;\\n            var markPoint = undefined;\\n        } else if(type == 1){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                  width : 1,\\n                  color : \\\"#436fff\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n              normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var item = {\\n                    xAxis: x0 * (i + 2) + ''\\n                  };\\n                  rs.push(item)\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n            var markPoint = {\\n                symbol : \\\"circle\\\",\\n                symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n    //                        formatter: '{b}: {d}'\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"blue\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var yData = data[x0 / 1 * (i + 2)];\\n                  if (yData) {\\n                    var item = {\\n                      xAxis: x0 * (i + 2) + '',\\n                      yAxis: yData[1]\\n                    };\\n                    rs.push(item)\\n                  }\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n        } else if(type == 2){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                    color : \\\"red\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n                normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                    xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                  })\\n                };\\n                return rs;\\n              })()\\n            };\\n            var markPoint = {\\n              symbol : \\\"circle\\\",\\n              symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"red\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                      xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                      yAxis : valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                  })\\n                };\\n                return rs;\\n              })()\\n            }\\n        };\\n        var option = {\\n          grid: [{\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }, {\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }],\\n          tooltip: {\\n            \\\"alwaysShowContent\\\": true,\\n            triggerOn: 'none'\\n          },\\n          xAxis: [{\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                show: true,\\n                formatter: function (val) {\\n                    console.log(\\\"a\\\", type);\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x0\\\", val.value);\\n                    target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    console.log(\\\"a--init\\\", init);\\n                    if(type == 1){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"blue\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n              },\\n              \\\"value\\\": x0,\\n              snap: false,\\n            }\\n          }, {\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x1\\\", val.value)\\n                    target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 2){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"red\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n\\n              },\\n              \\\"value\\\": x1,\\n              snap: false,\\n            },\\n            gridIndex: 1\\n          }],\\n          yAxis: [{\\n            splitLine: {show: true}\\n\\n          }, {\\n            splitLine: {show: false},\\n            gridIndex: 1\\n          }],\\n          dataZoom: [\\n            {\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n              xAxisIndex: [0,1]\\n            }\\n          ],\\n          series: [{\\n            type: 'line',\\n            showSymbol: false,\\n            data:valueList,\\n            markLine : markLine,\\n            markPoint : markPoint\\n          }, {\\n            type: 'line',\\n            showSymbol: false,\\n            lineStyle : {\\n              normal : {\\n                opacity : 0\\n              }\\n            },\\n            data:valueList,\\n            xAxisIndex: 1,\\n            yAxisIndex: 1\\n          }]\\n        };\\n        option\\n        target.render(option);\\n      };\\n      render();\\n      target.on(\\\"renderChart\\\", function(){\\n          render(undefined, \\\"renderChart\\\");\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"default\"}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"均值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"平均幅值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"有效值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"方根幅值\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"波形指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"峭度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"裕度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"峰值指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"脉冲指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"歪度指标\\\",\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"XXX\\\",\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:8704\"},{\"label\":\"分析-频域波形\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"测点\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"参数\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 \\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"添加依据\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            },{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"min-height\":\"300px\",\"padding\":\"15px\",\"border\":\"1px solid #eee\",\"border-top\":0},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      target.setValue(\\\"x0\\\", undefined);\\n      target.setValue(\\\"x1\\\", undefined);\\n      var render = function(){\\n          var x0 = target.getValue(\\\"x0\\\") || 0;\\n          var y0 = target.getValue(\\\"y0\\\") || 0;\\n          var x1 = target.getValue(\\\"x1\\\") || 0;\\n          var y1 = target.getValue(\\\"y1\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"background-color\\\", \\\"blue\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y0,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n               type : \\\"jquery\\\",\\n               render : function(){\\n                   var div = $(\\\"<div></div>\\\");\\n                   div.width(25);\\n                   div.height(10);\\n                   div.css(\\\"margin-left\\\", \\\"50px\\\");\\n                   div.css(\\\"background-color\\\", \\\"red\\\");\\n                   return div;\\n               }\\n           },{\\n              type : \\\"label\\\",\\n              value : \\\"X\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : x1 || \\\"0.00\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : y1,\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?X\\\",\\n              style : {\\n                  \\\"margin-left\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (x1-x0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : \\\"?Y\\\",\\n              style : {\\n                  \\\"padding\\\" : \\\"3px\\\"\\n              }\\n            },{\\n              type : \\\"label\\\",\\n              value : (y1-y0).toFixed(2),\\n              style : {\\n                  \\\"width\\\" : \\\"50px\\\",\\n                  \\\"padding\\\" : \\\"3px 10px\\\",\\n                  \\\"background-color\\\" : \\\"rgba(0,0,0,.1)\\\",\\n                  \\\"margin-right\\\" : \\\"50px\\\"\\n              }\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      }\\n      target.on(\\\"handleChange\\\", function(){\\n          render();\\n      })\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":7},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      target.setValue(\\\"type\\\", 0);\\n      var render = function(){\\n          var type = target.getValue(\\\"type\\\") || 0;\\n          var feature = target.getValue(\\\"type\\\") || 0;\\n          var ctrlGroups = [\\n           [{\\n              type : \\\"radio\\\",\\n              style : {\\n                  \\\"width\\\" : \\\"200px\\\"\\n              },\\n              value : 1,\\n              options : [{\\n                  id : 0,\\n                  label : \\\"显示谱峰\\\"\\n              },{\\n                  id : 1,\\n                  label : \\\"不显示\\\"\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"倍频\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : type == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 1){\\n                          target.setValue(\\\"type\\\", 1);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              },{\\n                type : \\\"button\\\",\\n                value : \\\"边带\\\",\\n                icon : \\\"glyphicon glyphicon-list\\\",\\n                btnclass : type == 2 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      if(target.getValue(\\\"type\\\") != 2){\\n                          target.setValue(\\\"type\\\", 2);\\n                      } else {\\n                          target.setValue(\\\"type\\\", 0);\\n                      };\\n                      target.trigger(\\\"renderChart\\\");\\n                      render();\\n                  }\\n                }\\n              }]\\n            },{\\n              type : \\\"buttonGroup\\\",\\n              class : \\\"col-md-12\\\",\\n              content : [{\\n                type : \\\"button\\\",\\n                value : \\\"特征值\\\",\\n                icon : \\\"glyphicon glyphicon-indent-right\\\",\\n                btnclass : feature == 1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                on : {\\n                  click : function(elem){\\n                      \\n                  }\\n                }\\n              }]\\n            }]\\n          ];\\n          target.render(ctrlGroups);\\n      };\\n      render();\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":5}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var dataList = (function(){\\n        var rs = [];\\n        var inx = 0;\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          rs.push(inx + \\\"\\\");\\n          inx ++;\\n        }\\n        return rs;\\n      })();\\n      var valueList = (function(){\\n        var rs = [];\\n        for(var i=0; i < 50 * Math.PI; i += (2 * Math.PI /180)){\\n          var nu = 0;\\n          for(var j=0; j<8; j++){\\n            nu += (Math.pow((1 / (j+1)), 3) * Math.sin(i * Math.pow(3 ,j))) * 10 + Math.random() * 1.3;\\n          };\\n          rs.push(nu.toFixed(2));\\n        };\\n        return rs;\\n      })();\\n      var data = [];\\n      for (var i = 0; i < dataList.length; i++) {\\n        data.push([dataList[i], valueList[i]])\\n      }\\n      var dateList = data.map(function (item) {\\n        return item[0];\\n      });\\n      var valueList = data.map(function (item) {\\n        return item[1];\\n      });\\n      var render = function(init, sub){\\n          console.log(\\\"init\\\", init, sub);\\n        var type = target.getValue(\\\"type\\\") || 0;\\n        var x0 = target.getValue(\\\"x0\\\") || 0;\\n        var x1 = target.getValue(\\\"x1\\\") || 180;\\n        if(type == 0){\\n            var markLine = undefined;\\n            var markPoint = undefined;\\n        } else if(type == 1){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                  width : 1,\\n                  color : \\\"#436fff\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n              normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var item = {\\n                    xAxis: x0 * (i + 2) + ''\\n                  };\\n                  rs.push(item)\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                    xAxis : i * x0\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n            var markPoint = {\\n                symbol : \\\"circle\\\",\\n                symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n    //                        formatter: '{b}: {d}'\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"blue\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for (i = 0; i < 10; i++) {\\n                  var yData = data[x0 / 1 * (i + 2)];\\n                  if (yData) {\\n                    var item = {\\n                      xAxis: x0 * (i + 2) + '',\\n                      yAxis: yData[1]\\n                    };\\n                    rs.push(item)\\n                  }\\n                }\\n                /**\\n                for(var i = 0; i < 10; i++){\\n                  rs.push({\\n                      xAxis : i * x0,\\n                      yAxis : valueList[i * x0]\\n                  })\\n                };*/\\n                return rs;\\n              })()\\n            }\\n        } else if(type == 2){\\n            var markLine = {\\n              animation: false,\\n              symbol: 'none',\\n              silent: false,\\n              lineStyle: {\\n                normal: {\\n                    color : \\\"red\\\",\\n                  type: 'solid'\\n                }\\n              },\\n              label: {\\n                normal: {\\n                  show: true,\\n                  position: 'end',\\n                  formatter : function(elem){\\n                    return elem.data.value + \\\"Hz\\\";\\n                  }\\n                }\\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                    xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1))\\n                  })\\n                };\\n                return rs;\\n              })()\\n            };\\n            var markPoint = {\\n              symbol : \\\"circle\\\",\\n              symbolSize : 8,\\n              animation: false,\\n              silent: false,\\n              label: {\\n                normal: {\\n                  show: false\\n                }\\n              },\\n              itemStyle : {\\n                normal : {\\n                    color : \\\"#fff\\\",\\n                    borderColor : \\\"red\\\"\\n                }  \\n              },\\n              data : (function(){\\n                var rs = [];\\n                for(var i = -5; i < 5; i++){\\n                  rs.push({\\n                      xAxis : parseInt(x1) + i * (parseInt(x0) - parseInt(x1)),\\n                      yAxis : valueList[parseInt(x1) + i * (parseInt(x0) - parseInt(x1))]\\n                  })\\n                };\\n                return rs;\\n              })()\\n            }\\n        };\\n        var option = {\\n          grid: [{\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }, {\\n            \\\"top\\\": \\\"10%\\\",\\n            \\\"width\\\" : \\\"90%\\\",\\n            \\\"left\\\" : \\\"5%\\\",\\n            \\\"height\\\" : \\\"65%\\\"\\n          }],\\n          tooltip: {\\n            \\\"alwaysShowContent\\\": true,\\n            triggerOn: 'none'\\n          },\\n          xAxis: [{\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                show: true,\\n                formatter: function (val) {\\n                    console.log(\\\"a\\\", type);\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x0\\\", val.value);\\n                    target.setValue(\\\"y0\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    console.log(\\\"a--init\\\", init);\\n                    if(type == 1){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"blue\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n              },\\n              \\\"value\\\": x0,\\n              snap: false,\\n            }\\n          }, {\\n            data: dataList,\\n            axisPointer: {\\n              label: {\\n                formatter: function (val) {\\n                  if (val.seriesData[0]) {\\n                    target.setValue(\\\"x1\\\", val.value)\\n                    target.setValue(\\\"y1\\\", val.seriesData[0].data);\\n                    target.trigger(\\\"handleChange\\\");\\n                    if(type == 2){\\n                        if(init == false){\\n                          render();\\n                        };\\n                        init = false;\\n                    };\\n                  }\\n                  return val.value\\n                }\\n              },\\n              lineStyle: {\\n                color: \\\"red\\\",\\n                width: 2\\n              },\\n              handle: {\\n                show: true,\\n                size: 30,\\n                margin: 40,\\n\\n              },\\n              \\\"value\\\": x1,\\n              snap: false,\\n            },\\n            gridIndex: 1\\n          }],\\n          yAxis: [{\\n            splitLine: {show: true}\\n\\n          }, {\\n            splitLine: {show: false},\\n            gridIndex: 1\\n          }],\\n          dataZoom: [\\n            {\\n              show: true,\\n              realtime: true,\\n              start: 0,\\n              end: 10,\\n              xAxisIndex: [0,1]\\n            }\\n          ],\\n          series: [{\\n            type: 'line',\\n            showSymbol: false,\\n            data:valueList,\\n            markLine : markLine,\\n            markPoint : markPoint\\n          }, {\\n            type: 'line',\\n            showSymbol: false,\\n            lineStyle : {\\n              normal : {\\n                opacity : 0\\n              }\\n            },\\n            data:valueList,\\n            xAxisIndex: 1,\\n            yAxisIndex: 1\\n          }]\\n        };\\n        option\\n        target.render(option);\\n      };\\n      render();\\n      target.on(\\\"renderChart\\\", function(){\\n          render(undefined, \\\"renderChart\\\");\\n      })\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"url\":\"images/map/map1.png\",\"parameters\":{\"theme\":\"default\"}}],\"col\":9},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"border\":\"1px solid #eee\",\"min-height\":\"400px\"},\"advance\":{\"expression\":\"{}\"},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n    width : \\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [];\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n      var createTr = function(){\\n        return [{\\n          type : \\\"jquery\\\",\\n          render : function(){\\n              var div = $(\\\"<div></div>\\\");\\n              div.width(20);\\n              div.height(20);\\n              div.css(\\\"background-color\\\", randomText([\\\"orange\\\", \\\"red\\\"]));\\n              div.css(\\\"border-radius\\\", \\\"50%\\\");\\n              return div;\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"Z1 0.00/0.09\\\",\\n          style : {\\n              \\\"margin-left\\\" : \\\"20px\\\"\\n          }\\n        }]\\n      }\\n      for(var i = 0; i < 5; i++){\\n          ctrlGroups.push(createTr());\\n      }\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}],\"parameters\":{}}],\"col\":3}]}]}],\"advance\":{\"expression\":{}},\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:8737\"},{\"label\":\"分析-诊断履历\",\"path\":\"page6\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"检测技术\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"检修对象\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"报警时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"异常信息来源\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"反馈人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"检测技术\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"collect\\\",\\n              label : \\\"工艺状况\\\",\\n              render : function(){\\n                  return randomText(['电流300A','轴承温度55度'])\\n              }\\n          },{\\n              name : \\\"unusual\\\",\\n              label : \\\"异常现象\\\",\\n              render : function(){ \\n                 return  randomText(['泵体输入侧轴承振动超标','泵体输入两轴承振动超标']) \\n            }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:8776\"},{\"label\":\"诊断-报告编制\",\"path\":\"page7\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"设备名称:xxx\\\",\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"设备编号:xxx\\\",\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var taskId = event.target.getParameter(\\\"taskId\\\");\\n      var taskList = event.target.getParameter(\\\"taskList\\\");\\n      console.info(\\\"taskList====\\\",taskList);\\n       var ctrlGroupsObj = {};\\n      ctrlGroupsObj[\\\"alertTitle\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"设备告警信息\\\",\\n        class:\\\"col-md-2\\\"\\n      },{\\n        type : \\\"input\\\",\\n        value : \\\"\\\",\\n        on : {\\n          change : function(elem){\\n            console.log(elem);\\n          }\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"abnPhenomenon\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\" * 异常现象\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.log(elem);\\n          }\\n        },\\n        options : [{\\n          id : 0,\\n          label : \\\"项目1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"项目名称2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"名称3\\\"\\n        }],\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"technicsStatus\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\" * 工艺状况\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.log(elem);\\n          }\\n        },\\n        options : [{\\n          id : 0,\\n          label : \\\"项目1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"项目名称2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"名称3\\\"\\n        }],\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"position\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\" * 检测部位\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        on : {\\n          change : function(elem){\\n            console.log(elem);\\n          }\\n        },\\n        options : [{\\n          id : 0,\\n          label : \\\"部位1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"部位2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"部位3\\\"\\n        }],\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\"\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"attention\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"注意事项\\\"\\n      },{\\n        type : \\\"textarea\\\",\\n        value : \\\"\\\"\\n      }];\\n      ctrlGroupsObj[\\\"standard\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"*判断标准\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"标准1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"标准2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"标准3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"basis\\\"] =  [{\\n        type : \\\"label\\\",\\n        value : \\\"*判断依据\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"依据1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"依据2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"依据3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"basisImage\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"判断依据图片\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"选择图片\\\",\\n        btnclass : \\\"btn btn-default\\\"\\n      }];\\n      ctrlGroupsObj[\\\"statusGrade\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"*综合状态等级\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"等级1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"等级2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"等级3\\\"\\n        }], format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"abnPosition\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"*异常部位\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"部位1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"部位2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"部位3\\\"\\n        }],\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"failureRepairReson\\\"] =   [{\\n        type : \\\"label\\\",\\n        value : \\\"*故障产生原因\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"原因1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"原因2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"原因3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"multipleConclusion\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"*综合判断结论\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"结论1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"结论2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"结论3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"cessingScheme\\\"] =[{\\n        type : \\\"label\\\",\\n        value : \\\"*处理方案建议\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"请选择\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"建议1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"建议2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"建议3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"auditor\\\"] =[{\\n        type : \\\"label\\\",\\n        value : \\\"*审核人\\\"\\n      },{\\n        type : \\\"select\\\",\\n        value : \\\"选择人\\\",\\n        options : [{\\n          id : 0,\\n          label : \\\"角色1\\\"\\n        },{\\n          id : 1,\\n          label : \\\"角色2\\\"\\n        },{\\n          id : 2,\\n          label : \\\"角色3\\\"\\n        }],\\n\\n        format : {\\n          \\\"id\\\" : \\\"id\\\",\\n          \\\"label\\\" : \\\"label\\\",\\n        }\\n      }];\\n      ctrlGroupsObj[\\\"attUpload\\\"] = [{\\n        type : \\\"label\\\",\\n        value : \\\"上传附件\\\"\\n      },{\\n        type : \\\"button\\\",\\n        value : \\\"选择文件\\\",\\n        btnclass : \\\"btn btn-default\\\"\\n      }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"\\n        },{\\n          type : \\\"button\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          value : \\\"提交\\\",\\n          style : {\\n            \\\"textAlign\\\" : \\\"right\\\",\\n            \\\"padding\\\":\\\"5px\\\"\\n          }\\n        }];\\n      var ctrlGroups = [];\\n      if(taskId != undefined && taskId != null){\\n       event.target.postService(\\\"ticketTaskService\\\", \\\"getTicketTaskById\\\", taskId, function(tc){\\n        if(tc.code == 0){\\n         console.info(\\\"getTicketTaskById====\\\",tc.data);\\n         if(tc.data.attributeDefinitions.length > 0){\\n             var attrAry = tc.data.attributeDefinitions;\\n             for(var i in attrAry){\\n                 ctrlGroups.push(ctrlGroupsObj[attrAry[i].label]);\\n             }\\n         }\\n         event.target.render(ctrlGroups);\\n        }else{\\n\\t\\t event.target.growl(tc.message,\\\"info\\\");\\n        }\\n      })\\n      }else{\\n          console.info(\\\"cessingScheme====\\\",ctrlGroupsObj[\\\"cessingScheme\\\"]);\\n           ctrlGroups.push(ctrlGroupsObj[\\\"cessingScheme\\\"]);\\n        event.target.render(ctrlGroups);\\n      }\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"button\\\",\\n            value : \\\"提   交\\\",\\n            btnclass:\\\"btn btn-primary\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                console.log(\\\"提交\\\");\\n              }\\n            }\\n          },\\n          {\\n            type : \\\"button\\\",\\n            value : \\\"取   消\\\",\\n            btnclass:\\\"btn btn-default\\\",\\n            btnStyle:{\\n              \\\"width\\\":\\\"100px\\\",    \\n              \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n            },\\n            on : {\\n              click : function(elem){\\n                console.log(\\\"取消\\\");\\n              }\\n            }\\n          }]\\n        ];\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"7\",\"$$hashKey\":\"object:628\"},{\"label\":\"诊断-多专业诊断\",\"path\":\"page8\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"报警记录\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"诊断申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"专业类型\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"多专业诊断\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"8\",\"$$hashKey\":\"object:1224\"},{\"label\":\"诊断-协同诊断\",\"path\":\"page9\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"协同人\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"协同申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"状态\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"9\",\"$$hashKey\":\"object:1444\"},{\"label\":\"诊断-视频诊断\",\"path\":\"page10\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"视频诊断申请\\\",\\n          class:\\\"col-md-2\\\",\\n          style:{\\n              width:\\\"200px\\\",\\n              fontSize:\\\"16px\\\",\\n              fontWeight:\\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"设备信息：\\\",\\n          class:\\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : \\\"\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"报警信息:\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 会诊人员\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],\\n         [{\\n          type : \\\"button\\\",\\n          colSpan:2,\\n          value : \\\"发起视频诊断\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n      \\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n \\n     \\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"10\",\"$$hashKey\":\"object:1576\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "图标02（高清鑫，勿删）",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"rgb(83, 152, 214)\",\"border\":\"1px solid\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"10px 20px 10px 10px\",\"padding\":\"0\",\"font-size\":\"30px\",\"font-weight\":\"normal\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n           var target = event.target;\\n           var global = event.global;\\n           var ci = [515445641576227];\\n           var ciNames = [\\\"宝武钢铁集团\\\"];\\n           var kpi = [3001];\\n           var kpiNames = [\\\"管控设备数\\\"];\\n           var extension = {};\\n           target.getKpiValueCi(ci,kpi,function(returnData){\\n          target.setText(returnData[0].value)\\n    },extension);\\n        }\\n    }\\n}\"},\"parameters\":{}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"13px 10px 5px 10px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"管控设备数\\\")\\n        }\\n    }\\n}\"},\"parameters\":{}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"图片\",\"type\":\"image\",\"source\":\"IMAGE\",\"parameters\":{\"imgSrc\":\"../images/machine/machine2.png\"},\"style\":{\"height\":\"100\",\"margin\":\"5px\",\"background-color\":\"\",\"border\":\"1px solid #ccc\"},\"advance\":{\"expression\":{}}}],\"col\":4}]}]}],\"parameters\":{}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"rgb(247, 205, 75)\",\"border\":\"1px solid\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"10px 20px 10px 10px\",\"padding\":\"0\",\"font-size\":\"30px\",\"font-weight\":\"normal\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n           var target = event.target;\\n           var global = event.global;\\n           var ci = [515445641576227];\\n           var ciNames = [\\\"宝武钢铁集团\\\"];\\n           var kpi = [3001];\\n           var kpiNames = [\\\"管控设备数\\\"];\\n           var extension = {};\\n           target.getKpiValueCi(ci,kpi,function(returnData){\\n          target.setText(returnData[0].value)\\n    },extension);\\n        }\\n    }\\n}\"}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"13px 10px 5px 10px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警总数量\\\")\\n        }\\n    }\\n}\"}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"图片\",\"type\":\"image\",\"source\":\"IMAGE\",\"parameters\":{\"imgSrc\":\"../images/machine/machine2.png\"},\"style\":{\"height\":\"100\",\"margin\":\"5px\",\"background-color\":\"rgba(0,0,0,.1)\",\"border\":\"1px solid #ccc\"},\"advance\":{\"expression\":{}}}],\"col\":4}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"#ff8d8d\",\"border\":\"1px solid #db2222\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"10px 20px 10px 10px\",\"padding\":\"0\",\"font-size\":\"30px\",\"font-weight\":\"normal\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n    var global = event.global;\\n    var ci = [515445641576227];\\n    var ciNames = [\\\"宝武钢铁集团\\\"];\\n    var kpi = [3002];\\n    var kpiNames = [\\\"数据采集点\\\"];\\n    var extension = {};\\n    target.getKpiValueCi(ci,kpi,function(returnData){\\n        target.setText( returnData[0].value)\\n    },extension);\\n        }\\n    }\\n}\"}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"13px 10px 5px 10px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"数据采集点\\\")\\n        }\\n    }\\n}\"}}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"图片\",\"type\":\"image\",\"source\":\"IMAGE\",\"parameters\":{\"imgSrc\":\"../images/machine/machine2.png\"},\"style\":{\"height\":\"100\",\"margin\":\"5px\",\"background-color\":\"rgba(0,0,0,.1)\",\"border\":\"1px solid #ccc\"},\"advance\":{\"expression\":{}}}],\"col\":4}]}]}]}]}],\"advance\":{}}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "图标01（高清鑫，勿删减）",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"rgb(11, 83, 148)\",\"border\":\"1px solid #1E90FF\",\"width\":\"auto\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"图片\",\"type\":\"image\",\"source\":\"IMAGE\",\"parameters\":{\"imgSrc\":\"../images/machine/machine2.png\"},\"style\":{\"height\":\"200\",\"margin\":\"5px\",\"background-color\":\"rgba(0,0,0,.1)\",\"border\":\"1px solid #ccc\"},\"advance\":{\"expression\":{}}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"0 22px\",\"padding\":\"0\",\"font-size\":\"60px\",\"font-weight\":\"normal\",\"color\":\"rgb(255, 255, 255)\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            var global = event.global;\\n            var ci = [515445641576227];\\n            var ciNames = [\\\"宝武钢铁集团\\\"];\\n            var kpi = [3002];\\n            var kpiNames = [\\\"数据采集点\\\"];\\n            var extension = {};\\n            target.getKpiValueCi(ci,kpi,function(returnData){\\n                target.setText(returnData[0].value)\\n            },extension);\\n        }\\n    }\\n}\",\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"]},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true,\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"}},\"parameters\":{}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"0 5px 10px\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待计划检修数\\\")\\n        }\\n    }\\n}\",\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"]},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true,\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"}},\"parameters\":{}}]}]}],\"col\":4},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"rgb(94, 84, 54)\",\"border\":\"1px solid #FAFAD2\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"图片\",\"type\":\"image\",\"source\":\"IMAGE\",\"parameters\":{\"imgSrc\":\"../images/machine/machine2.png\"},\"style\":{\"height\":\"200\",\"margin\":\"5px\",\"background-color\":\"rgba(0,0,0,.1)\",\"border\":\"1px solid #ccc\"},\"advance\":{\"expression\":{}}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"0 22px\",\"padding\":\"0\",\"font-size\":\"60px\",\"font-weight\":\"normal\",\"color\":\"rgb(255, 255, 255)\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n           var target = event.target;\\n    var global = event.global;\\n    var ci = [515445641576227];\\n    var ciNames = [\\\"宝武钢铁集团\\\"];\\n    var kpi = [3001];\\n    var kpiNames = [\\\"管控设备数\\\"];\\n    var extension = {};\\n    target.getKpiValueCi(ci,kpi,function(returnData){\\n        target.setText( returnData[0].value)\\n    },extension);\\n        }\\n    }\\n}\",\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"]},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true,\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"}},\"parameters\":{}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"0 5px 10px\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"检修工单数\\\")\\n        }\\n    }\\n}\",\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"]},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true,\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"}},\"parameters\":{}}]}]}],\"col\":4},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"margin\":\"5px\",\"padding\":\"5px\",\"background-color\":\"rgb(137, 54, 96)\",\"border\":\"1px solid #db2222\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"图片\",\"type\":\"image\",\"source\":\"IMAGE\",\"parameters\":{\"imgSrc\":\"../images/machine/machine2.png\"},\"style\":{\"height\":\"200\",\"margin\":\"5px\",\"background-color\":\"rgba(0,0,0,.1)\",\"border\":\"1px solid #ccc\"},\"advance\":{\"expression\":{}}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"0 22px\",\"padding\":\"0\",\"font-size\":\"60px\",\"font-weight\":\"normal\",\"color\":\"rgb(255, 255, 255)\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            var global = event.global;\\n            var ci = [515445641576227];\\n            var ciNames = [\\\"宝武钢铁集团\\\"];\\n            var kpi = [3002];\\n            var kpiNames = [\\\"数据采集点\\\"];\\n            var extension = {};\\n            target.getKpiValueCi(ci,kpi,function(returnData){\\n                target.setText(returnData[0].value)\\n            },extension);\\n        }\\n    }\\n}\",\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"]},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true,\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"}},\"parameters\":{}},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"style\":{\"margin\":\"0 5px 10px\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\"},\"advance\":{\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"周完成检修工时\\\")\\n        }\\n    }\\n}\",\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"]},\"data\":{\"modelType\":300,\"resfilltype\":\"parameter\",\"modelDisable\":true,\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"}},\"parameters\":{}}]}]}],\"col\":4}]}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"Cyborg\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢视图-审核工作台",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3003],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"140\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(78, 195, 195)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"50\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"总设备数\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"2px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待审核任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(86, 176, 242)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"审核中任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(241, 194, 50)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"月新增设备\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"14px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"周审核任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3017],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"32\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(182, 161, 224)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"43\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"审核通过率\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":3}],\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"审核任务\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"equipment\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(){\\n                  return randomText(['告警设备***']);\\n              }\\n          },{\\n              name : \\\"value\\\",\\n              label : \\\"产线\\\",\\n              render : function(){\\n                  return randomText(['风机故障','振动值超标']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(){\\n                  return randomText(['振动值超标','空载']);\\n              }\\n          },{\\n              name : \\\"alertType\\\",\\n              label : \\\"报警信息\\\",\\n              type : \\\"priority\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"任务类型\\\",\\n              render : function(){\\n                  return randomText(['admin']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"处理人\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"任务状态\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"审核\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"device\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"履历详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 10; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]}],\"col\":12},\"$$hashKey\":\"object:2665\"},{\"label\":\"设备状态\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n\\t    \\\"init\\\" : function(event){\\n\\t        var target = event.target;\\n\\t        list = [{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"0%\\\",\\n    \\t        left : \\\"10%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"3%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"55%\\\",\\n    \\t        left : \\\"15%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"50%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        }]\\n\\t        for(var i in list){\\n\\t            target.createOverlayBypath(\\\"overlay\\\", {\\n    \\t            width : list[i].width,\\n    \\t            top : list[i].top,\\n    \\t            left : list[i].left,\\n    \\t            renderTo : \\\"self\\\"\\n    \\t        })\\n\\t        }\\n\\t        \\n\\t        target.render();\\n\\t    },\\n        \\\"click\\\" : function(event){\\n          console.log(event);\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826066,\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\",\"color\":\"rgb(68, 68, 68)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 510070991266351;\\n      \\n      var render = function(id){\\n        target.getResourceById(id,function(returnData){\\n            var createGroup = function(){\\n                var prodate = target.dateHandler(returnData.values.productionDate);\\n                var current = target.dateHandler(new Date());\\n                var diff = current.minus(prodate)\\n                var ctrlGroups = [];\\n                returnData.values.productionDate = prodate.getDateString(\\\"yy-mm-dd\\\");\\n                returnData.values.runtime = target.topDateString(diff, \\\"dd天hh小时\\\");\\n                var attrNames = {\\n                    modelNo : \\\"设备型号\\\",\\n                    series : \\\"序列号\\\",\\n                    type : \\\"设备类型\\\",\\n                    brands : \\\"设备品牌\\\",\\n                    // manufacturing : \\\"生产制造方\\\",\\n                    productionDate : \\\"接入时间\\\",\\n                    runtime : \\\"运行时长\\\",\\n                    state : \\\"当前状态\\\",\\n                    scope : \\\"加工范围\\\",\\n                    density : \\\"加工精度\\\",\\n                    utilization : \\\"利用率\\\",\\n                    // conforma : \\\"一致性\\\",\\n                    yield : \\\"平均产品合格率\\\"\\n                }\\n                /**[\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备型号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.modelNo,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"序列号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.series,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备类型：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.type,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备品牌：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.brands,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"生产制造方：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.manufacturing,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"接入时间：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : prodate.getDateString(\\\"yy-mm-dd\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"运行时长：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : target.topDateString(diff, \\\"dd天hh小时\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"当前状态：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.state,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工范围：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.scope,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工精度：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.density,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"利用率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.utilization,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"一致性：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.conforma,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"平均产品合格率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :returnData.values.yield,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]*/\\n                console.log(returnData.values)\\n                for(var i in returnData.values){\\n                    if(attrNames[i]){\\n                     ctrlGroups.push([{\\n                      type : \\\"label\\\",\\n                      value : attrNames[i] + \\\"：\\\",\\n                      style : {\\n                        \\\"text-align\\\" : \\\"right\\\",\\n                        \\\"font-weight\\\" : \\\"500\\\",\\n                        \\\"color\\\" : \\\"#939393\\\"\\n                      }\\n                    },{\\n                      type : \\\"label\\\",\\n                      value : returnData.values[i],\\n                      style : {\\n                        \\\"text-align\\\" : \\\"left\\\",\\n                        \\\"font-weight\\\" : \\\"600\\\",\\n                        \\\"color\\\" : \\\"#0980db\\\",\\n                        \\\"line-height\\\" : \\\"30px\\\"\\n                      }\\n                    }])\\n                  };\\n                };\\n              event.target.render(ctrlGroups);\\n            }\\n          createGroup();\\n        })\\n      }\\n      \\n      \\n      \\n      /* 请求接口的方法\\n      target.on(\\\"production_resource_changed\\\", function(resourceId){\\n        render(resourceId)\\n      });\\n      render(id);\\n      */\\n      \\n    var groupData = [\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"机组：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"合成气压缩机组\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"轴承:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"测点名称:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"转速:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"9440\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"通频值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"25.18\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"1X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.42\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"2X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"0.70\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"0.5X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.01\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"GAP电压:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-10.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"有效值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"7.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标序号:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"512\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标时间:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"07:23:32\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\" 波形值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-12.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"幅值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"频率\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"倍频\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.00\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"67\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"单位\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"um\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]\\n        ];\\n     event.target.render(groupData);\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警通知\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}]}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:6278\"},{\"label\":\"分析\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"设备信息\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            },\\n             {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"填写报告\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机负荷侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 速度峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击有效值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n         [{\\n          type : \\\"label\\\",\\n          value : \\\"电机叶轮侧轴承振动 冲击峰值\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }],\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":2},{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"advance\":{\"expression\":\"express = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var color = \\\"#ffe400\\\";\\n      var LENGTH = 50;\\n      var xAxis = function(){\\n          var rs = [];\\n          var date = new Date().getTime();\\n          for(var i = 0; i<LENGTH; i++){\\n              var time = date + 10000 * i;\\n              var dt = new Date(time);\\n              rs.push(dt.getHours() + \\\":\\\" + dt.getMinutes())\\n          };\\n          return rs;\\n      }\\n      var random = function(range){\\n          var rs = [];\\n          for(var i = 0; i<LENGTH; i++){\\n              var rnd = parseInt(range[0] + Math.random() * (range[1]-range[0]) * 100) / 100;\\n              rs.push(rnd)\\n          }\\n          return rs;\\n      }\\n      var datas = [{\\n          name : \\\"趋势\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"空载\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"切换\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"轧制\\\",\\n          \\\"xAxisId\\\": \\\"xAxis0\\\",\\n          \\\"yAxisId\\\": \\\"yAxis0\\\",\\n          data : function(){\\n              return random([0, 18])\\n          }\\n      },{\\n          name : \\\"F1轧制力\\\",\\n          \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F2轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F3轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F4轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      },{\\n          name : \\\"F5轧制力\\\",\\n           \\\"xAxisId\\\": \\\"xAxis1\\\",\\n          \\\"yAxisId\\\": \\\"yAxis1\\\",\\n          data : function(){\\n              return random([0, 1])\\n          }\\n      }]\\n      var option = {\\n            title: {\\n                textStyle : { color : \\\"#fff\\\" }\\n            },\\n            tooltip: {},\\n            \\\"grid\\\": [\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 90,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid0\\\"\\n                },\\n                {\\n                    \\\"left\\\": 120,\\n                    \\\"top\\\": 250,\\n                    \\\"height\\\": 150,\\n                    \\\"right\\\": 120,\\n                    \\\"id\\\": \\\"grid1\\\"\\n                }\\n            ],\\n            legend: {\\n                data: datas.map(function(elem){\\n                    return elem.name;\\n                })\\n            },\\n            xAxis: [{\\n                boundaryGap: false,\\n                show : false,\\n                \\\"id\\\": \\\"xAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                data : xAxis()\\n            },{\\n                boundaryGap: false,\\n                \\\"id\\\": \\\"xAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                data : xAxis()\\n            }],\\n            yAxis: [{\\n                \\\"id\\\": \\\"yAxis0\\\",\\n                \\\"gridId\\\": \\\"grid0\\\",\\n                max : 50\\n            },{\\n                \\\"id\\\": \\\"yAxis1\\\",\\n                \\\"gridId\\\": \\\"grid1\\\",\\n                max : 2\\n            }],\\n            dataZoom: [{\\n                 show: true,\\n                 realtime: true,\\n                 start: 0,\\n                 end: 10,\\n                 xAxisIndex: [0, 1]\\n            }],\\n            series: datas.map(function(elem){\\n                elem.type = \\\"line\\\";\\n                elem.symbolSize = 8;\\n                elem.data = elem.data();\\n                return elem;\\n            })\\n        };\\n        console.log(option);\\n      event.target.render(option);\\n    }\\n  }\\n};\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"500px\"},\"parameters\":{\"theme\":\"auto\"},\"url\":\"images/map/map1.png\"}],\"col\":10}]}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:7992\"},{\"label\":\"诊断-报告编制\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"label\\\",\\n          value : \\\"设备名称:xxx\\\",\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        },{\\n          type : \\\"label\\\",\\n          value : \\\"设备编号:xxx\\\",\\n          class : \\\"col-md-6\\\",\\n          style:{\\n              textAlign:\\\"center\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"14px\",\"font-weight\":\"bold\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"设备告警信息\\\",\\n          class:\\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : \\\"\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 异常现象\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 工艺状况\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 检测部位\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"部位1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"部位2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"部位3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"注意事项\\\"\\n        },{\\n          type : \\\"textarea\\\",\\n          value : \\\"\\\"\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"*判断标准\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"标准1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"标准2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"标准3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*判断依据\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"依据1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"依据2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"依据3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"判断依据图片\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"选择图片\\\",\\n          btnclass : \\\"btn btn-default\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*综合状态等级\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"等级1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"等级2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"等级3\\\"\\n          }], format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n          \\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*异常部位\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"部位1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"部位2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"部位3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*故障产生原因\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"原因1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"原因2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"原因3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*综合判断结论\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"结论1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"结论2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"结论3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*处理方案建议\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"建议1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"建议2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"建议3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"*审核人\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"选择人\\\",\\n          options : [{\\n            id : 0,\\n            label : \\\"角色1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"角色2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"角色3\\\"\\n          }],\\n          \\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\",\\n          }\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"上传附件\\\"\\n        },{\\n          type : \\\"button\\\",\\n          value : \\\"选择文件\\\",\\n          btnclass : \\\"btn btn-default\\\"\\n        }],\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"\\\"\\n        },{\\n          type : \\\"button\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          value : \\\"提交\\\",\\n          style : {\\n              \\\"textAlign\\\" : \\\"right\\\",\\n              \\\"padding\\\":\\\"5px\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:1223\"},{\"label\":\"诊断-多专业诊断\",\"path\":\"page4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"报警记录\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"诊断申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"专业类型\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"多专业诊断\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:1271\"},{\"label\":\"诊断-协同诊断\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"协同人\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"协同申请\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            } ,{\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                marginLeft:\\\"10px\\\",\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报警信息\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"发起时间\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"会诊发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"会诊参与人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"状态\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:1304\"},{\"label\":\"诊断-视频诊断\",\"path\":\"page6\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n          [{\\n          type : \\\"label\\\",\\n          value : \\\"视频诊断申请\\\",\\n          class:\\\"col-md-2\\\",\\n          style:{\\n              width:\\\"200px\\\",\\n              fontSize:\\\"16px\\\",\\n              fontWeight:\\\"bold\\\"\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n        [{\\n          type : \\\"label\\\",\\n          value : \\\"设备信息：\\\",\\n          class:\\\"col-md-2\\\"\\n        },{\\n          type : \\\"input\\\",\\n          value : \\\"\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\"报警信息:\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],[{\\n          type : \\\"label\\\",\\n          value : \\\" * 会诊人员\\\"\\n        },{\\n          type : \\\"select\\\",\\n          value : \\\"请选择\\\",\\n          on : {\\n            change : function(elem){\\n              console.log(elem);\\n            }\\n          },\\n          options : [{\\n            id : 0,\\n            label : \\\"项目1\\\"\\n          },{\\n            id : 1,\\n            label : \\\"项目名称2\\\"\\n          },{\\n            id : 2,\\n            label : \\\"名称3\\\"\\n          }],\\n          format : {\\n            \\\"id\\\" : \\\"id\\\",\\n            \\\"label\\\" : \\\"label\\\"\\n          }\\n        }],\\n         [{\\n          type : \\\"button\\\",\\n          colSpan:2,\\n          value : \\\"发起视频诊断\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          style : {\\n              \\\"text-align\\\" : \\\"center\\\"\\n          },\\n      \\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n \\n     \\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":12},\"id\":\"6\",\"$$hashKey\":\"object:1343\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢视图-设备基本信息（韩星勿删）_hanxing",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"button\\\",\\n          value : \\\"按钮\\\",\\n          icon : \\\"glyphicon glyphicon-search\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          class : \\\"col-md-12\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"rgb(0, 0, 0)\",\"border\":\"1px solid #6fafd3\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"0px\",\"background-color\":\"rgb(0, 0, 0)\",\"border-top\":\"0\",\"border-bottom\":\"1px solid #b6b6b6\",\"border-left\":\"0\",\"border-right\":\"0\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"bold\",\"color\":\"rgb(255, 255, 255)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"基本信息\\\")\\n        }\\n    }\\n}\"}}]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 510070991266351;\\n      \\n      var render = function(id){\\n        target.getResourceById(id,function(returnData){\\n            var createGroup = function(){\\n                var prodate = target.dateHandler(returnData.values.productionDate);\\n                var current = target.dateHandler(new Date());\\n                var diff = current.minus(prodate)\\n                var ctrlGroups = [];\\n                returnData.values.productionDate = prodate.getDateString(\\\"yy-mm-dd\\\");\\n                returnData.values.runtime = target.topDateString(diff, \\\"dd天hh小时\\\");\\n                var attrNames = {\\n                    modelNo : \\\"设备型号\\\",\\n                    series : \\\"序列号\\\",\\n                    type : \\\"设备类型\\\",\\n                    brands : \\\"设备品牌\\\",\\n                    // manufacturing : \\\"生产制造方\\\",\\n                    productionDate : \\\"接入时间\\\",\\n                    runtime : \\\"运行时长\\\",\\n                    state : \\\"当前状态\\\",\\n                    scope : \\\"加工范围\\\",\\n                    density : \\\"加工精度\\\",\\n                    utilization : \\\"利用率\\\",\\n                    // conforma : \\\"一致性\\\",\\n                    yield : \\\"平均产品合格率\\\"\\n                }\\n                /**[\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备型号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.modelNo,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"序列号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.series,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备类型：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.type,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备品牌：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.brands,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"生产制造方：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.manufacturing,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"接入时间：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : prodate.getDateString(\\\"yy-mm-dd\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"运行时长：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : target.topDateString(diff, \\\"dd天hh小时\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"当前状态：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.state,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工范围：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.scope,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工精度：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.density,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"利用率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.utilization,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"一致性：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.conforma,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"平均产品合格率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :returnData.values.yield,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]*/\\n                console.log(returnData.values)\\n                for(var i in returnData.values){\\n                    if(attrNames[i]){\\n                     ctrlGroups.push([{\\n                      type : \\\"label\\\",\\n                      value : attrNames[i] + \\\"：\\\",\\n                      style : {\\n                        \\\"text-align\\\" : \\\"right\\\",\\n                        \\\"font-weight\\\" : \\\"500\\\",\\n                        \\\"color\\\" : \\\"#939393\\\"\\n                      }\\n                    },{\\n                      type : \\\"label\\\",\\n                      value : returnData.values[i],\\n                      style : {\\n                        \\\"text-align\\\" : \\\"left\\\",\\n                        \\\"font-weight\\\" : \\\"600\\\",\\n                        \\\"color\\\" : \\\"#0980db\\\",\\n                        \\\"line-height\\\" : \\\"30px\\\"\\n                      }\\n                    }])\\n                  };\\n                };\\n              event.target.render(ctrlGroups);\\n            }\\n          createGroup();\\n        })\\n      }\\n      \\n      \\n      \\n      /* 请求接口的方法\\n      target.on(\\\"production_resource_changed\\\", function(resourceId){\\n        render(resourceId)\\n      });\\n      render(id);\\n      */\\n      \\n    var groupData = [\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"机组：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"合成气压缩机组\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"轴承:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"测点名称:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"转速:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"9440\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"通频值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"25.18\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"1X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.42\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"2X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"0.70\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"0.5X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.01\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"GAP电压:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-10.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"有效值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"7.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标序号:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"512\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标时间:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"07:23:32\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\" 波形值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-12.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"幅值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"频率\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"倍频\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.00\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"67\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"单位\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"um\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]\\n        ];\\n     event.target.render(groupData);\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}]}],\"col\":4}]}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"Cyborg\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢视图-诊断中心（韩星勿删）_hanxing",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"高级视图\",\"type\":\"advanceEchart\",\"source\":\"ADVANCEECHART\",\"parameters\":{\"theme\":\"default\"},\"advance\":{\"expression\":\"express = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var base = +new Date(1968, 9, 3);\\n      var oneDay = 24 * 3600 * 1000;\\n      var date = [];\\n\\n      var data = [Math.random() * 300];\\n\\n      for (var i = 1; i < 20000; i++) {\\n        var now = new Date(base += oneDay);\\n        date.push([now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'));\\n        data.push(Math.round((Math.random() - 0.5) * 20 + data[i - 1]));\\n      }\\n      var option = {\\n        tooltip: {\\n          trigger: 'axis',\\n          position: function (pt) {\\n            return [pt[0], '10%'];\\n          }\\n        },\\n        title: {\\n          left: 'center',\\n          text: '工时趋势',\\n          textStyle:{\\n              color:\\\"#fff\\\",\\n              fontSize:16\\n          },\\n          top:\\\"20px\\\"\\n        },\\n        toolbox: {\\n          feature: {\\n            dataZoom: {\\n              yAxisIndex: 'none'\\n            },\\n            restore: {},\\n            saveAsImage: {}\\n          }\\n        },\\n        xAxis: {\\n          type: 'category',\\n          boundaryGap: false,\\n          gridIndex:0,\\n          data: date,\\n          axisLabel:{\\n              color:\\\"#fff\\\"\\n          }\\n        },\\n        yAxis: {\\n          type: 'value',\\n          boundaryGap: [0, '100%'],\\n          axisLine:{\\n              lineStyle:{\\n                  color:\\\"#fff\\\"\\n              }\\n          },\\n          axisLabel:{\\n              color:\\\"#69a8c7\\\"\\n          }\\n        },\\n        dataZoom: [{\\n          type: 'inside',\\n          start: 0,\\n          end: 10\\n        }, {\\n          start: 0,\\n          end: 10,\\n          handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',\\n          handleSize: '80%',\\n          handleStyle: {\\n            color: '#fff',\\n            shadowBlur: 3,\\n            shadowColor: 'rgba(0, 0, 0, 0.6)',\\n            shadowOffsetX: 2,\\n            shadowOffsetY: 2\\n          }\\n        }],\\n        series: [\\n          {\\n            name: '模拟数据',\\n            type: 'line',\\n            smooth: true,\\n            symbol: 'none',\\n            sampling: 'average',\\n            itemStyle: {\\n              normal: {\\n                color: 'rgb(255, 70, 131)'\\n              }\\n            },\\n            areaStyle: {\\n              normal: {\\n                color: target.linearGradient(0, 0, 0, 1, [{\\n                  offset: 0,\\n                  color: 'rgb(255, 158, 68)'\\n                }, {\\n                  offset: 1,\\n                  color: 'rgb(255, 70, 131)'\\n                }])\\n              }\\n            },\\n            data: data\\n          }\\n        ]\\n      };\\n\\n      event.target.render(option);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"auto\",\"width\":\"100%\",\"height\":\"300px\"}}],\"col\":8},{\"type\":\"column\",\"children\":[],\"col\":4}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 0,\\n          title : \\\"当日计划\\\",\\n          value : 1\\n      },{\\n          id : 1,\\n          title : \\\"周计划\\\",\\n          value : 0\\n      },{\\n          id : 2,\\n          title : \\\"月计划\\\",\\n          value : 0\\n      },{\\n          id : 3,\\n          title : \\\"设备类型\\\",\\n          type:\\\"label\\\"\\n      },{\\n          id : 4,\\n          title : \\\"加热炉\\\",\\n          value : true,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 5,\\n          title : \\\"测压机\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 6,\\n          title : \\\"粗轧\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"精轧\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 8,\\n          title : \\\"供配电系统\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 9,\\n          title : \\\"除磷系统\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 10,\\n          title : \\\"高级\\\",\\n          value : 3,\\n          type:\\\"query\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"时间:\\\",\\n          }]\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(243, 243, 243)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待计划工单\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"equipment\\\",\\n              label : \\\"诊断编号\\\",\\n              render : function(){\\n                  return randomText(['告警设备***']);\\n              }\\n          },{\\n              name : \\\"value\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['风机故障','振动值超标']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"报警类型\\\",\\n              render : function(){\\n                  return randomText(['振动值超标','空载']);\\n              }\\n          },{\\n              name : \\\"alertType\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"申请时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"告警管理员\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn1\\\",\\n              label : \\\"诊断管理员\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"诊断状态\\\",\\n              render : function(){\\n                  return randomText(['已诊断','未诊断'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"接诊\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 10; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"box-shadow\":\"0px 0px 0px 0px rgba(0,0,0,0)\",\"background-color\":\"rgba(250,250,250,0)\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(243, 243, 243)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"检修计划\\\")\\n        }\\n    }\\n}\"}}],\"col\":11},{\"type\":\"column\",\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var ctrlGroups = [\\n       [{\\n          type : \\\"button\\\",\\n          value : \\\"检修工单\\\",\\n          btnclass : \\\"btn btn-primary\\\",\\n          on : {\\n            click : function(elem){\\n              target.console(elem);\\n            }\\n          }\\n        }]\\n      ];\\n      event.target.render(ctrlGroups);\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{}}],\"col\":1}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"equipment\\\",\\n              label : \\\"诊断编号\\\",\\n              render : function(){\\n                  return randomText(['告警设备***']);\\n              }\\n          },{\\n              name : \\\"value\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['风机故障','振动值超标']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"报警类型\\\",\\n              render : function(){\\n                  return randomText(['振动值超标','空载']);\\n              }\\n          },{\\n              name : \\\"alertType\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"priority\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"申请时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"告警管理员\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn1\\\",\\n              label : \\\"诊断管理员\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"诊断状态\\\",\\n              render : function(){\\n                  return randomText(['已诊断','未诊断'])\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"接诊\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 10; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}],\"col\":12},\"setting\":\"{\\n  \\\"theme\\\": \\\"Cyborg\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝刚视图-设备履历_hanxing",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"诊断履历\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"检测技术\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"检修对象\\\",\\n              render : function(){\\n                  return randomText(['2#除磷泵','3#除磷泵']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"报警时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"异常信息来源\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"反馈人\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"检测技术\\\",\\n              render : function(){\\n                  return randomText(['待确认','已确认'])\\n              }\\n          },{\\n              name : \\\"collect\\\",\\n              label : \\\"工艺状况\\\",\\n              render : function(){\\n                  return randomText(['电流300A','轴承温度55度'])\\n              }\\n          },{\\n              name : \\\"unusual\\\",\\n              label : \\\"异常现象\\\",\\n              render : function(){ \\n                 return  randomText(['泵体输入侧轴承振动超标','泵体输入两轴承振动超标']) \\n            }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"详情\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-primary btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"$$hashKey\":\"object:853\"},{\"label\":\"故障履历\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"专业属性\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"事故等级\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"部门\\\",\\n              render : function(){\\n                  return randomText(['宝山工业区']);\\n              }\\n          },{\\n              name : \\\"chanxian\\\",\\n              label : \\\"产业线\\\",\\n              render : function(){\\n                  return randomText(['1580产线']);\\n              }\\n          },{\\n              name : \\\"shigu\\\",\\n              label : \\\"故事/事故名称\\\",\\n              render : function(){\\n                  return randomText(['阻燃风机故障']);\\n              }\\n          },{\\n              name : \\\"times\\\",\\n              label : \\\"停机开始时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"timee\\\",\\n              label : \\\"停机结束时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 200000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"专业属性\\\",\\n              render : function(){\\n                  return randomText(['震动', '冲击','test']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"事故等级\\\",\\n              render : function(){\\n                  return randomText(['严重','中级','普通'])\\n              }\\n          },{\\n              name : \\\"warnr\\\",\\n              label : \\\"异常现象\\\",\\n              render : function(){\\n                  return randomText(['峰值异常','有效峰值异常'])\\n              }\\n          },{\\n              name : \\\"collect\\\",\\n              label : \\\"责任人\\\",\\n              render : function(){\\n                  return randomText(['责任人'])\\n              }\\n          },{\\n              name : \\\"unusual\\\",\\n              label : \\\"纠正措施\\\",\\n              render : function(){ \\n                 return  randomText(['现场调试']) \\n            }\\n         },{\\n              name : \\\"equipment\\\",\\n              label : \\\"操作\\\",\\n              render : function(){\\n                  return randomText(['详情']);\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\"\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:886\"},{\"label\":\"检修履历\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['X324','H320']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"部门\\\",\\n              render : function(){\\n                  return randomText(['宝山工业区']);\\n              }\\n          },{\\n              name : \\\"chanxian\\\",\\n              label : \\\"产业线\\\",\\n              render : function(){\\n                  return randomText(['1580产线']);\\n              }\\n          },{\\n              name : \\\"shigu\\\",\\n              label : \\\"故事/事故名称\\\",\\n              render : function(){\\n                  return randomText(['阻燃风机故障']);\\n              }\\n          },{\\n              name : \\\"times\\\",\\n              label : \\\"停机开始时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"timee\\\",\\n              label : \\\"停机结束时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 200000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"专业属性\\\",\\n              render : function(){\\n                  return randomText(['震动', '冲击','test']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"事故等级\\\",\\n              render : function(){\\n                  return randomText(['严重','中级','普通'])\\n              }\\n          },{\\n              name : \\\"warnr\\\",\\n              label : \\\"异常现象\\\",\\n              render : function(){\\n                  return randomText(['峰值异常','有效峰值异常'])\\n              }\\n          },{\\n              name : \\\"collect\\\",\\n              label : \\\"责任人\\\",\\n              render : function(){\\n                  return randomText(['责任人'])\\n              }\\n          },{\\n              name : \\\"unusual\\\",\\n              label : \\\"纠正措施\\\",\\n              render : function(){ \\n                 return  randomText(['现场调试']) \\n            }\\n         },{\\n              name : \\\"equipment\\\",\\n              label : \\\"操作\\\",\\n              render : function(){\\n                  return randomText(['详情']);\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\"\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:919\"},{\"label\":\"点检异常\",\"path\":\"page3\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"异常联络单编号\\\",\\n              render : function(){\\n                  return randomText(['Q49937282','H27272795']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"状态说明\\\",\\n              render : function(){\\n                  return randomText(['正常','异常']);\\n              }\\n          },{\\n              name : \\\"chanxian\\\",\\n              label : \\\"设备编号\\\",\\n              render : function(){\\n                  return randomText(['HX784562','JB983521','JM023497']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"异常结束日期\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"处理方式\\\",\\n              render : function(){\\n                  return randomText(['现场测试','延期维护'])\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"处理人\\\",\\n               render : function(){\\n                  return randomText(['检测人员','维修人员'])\\n              }\\n          },{\\n              name : \\\"timet\\\",\\n              label : \\\"申请人\\\",\\n              render : function(){\\n                  return randomText(['经理','主管','测试'])\\n              }\\n          },{\\n              name : \\\"equipment\\\",\\n              label : \\\"操作\\\",\\n              render : function(){\\n                  return randomText(['详情']);\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\"\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"3\",\"$$hashKey\":\"object:925\"},{\"label\":\"报警记录\",\"path\":\"page4\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"报警记录\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"告警设备\\\",\\n              render : function(){\\n                  return randomText(['告警设备***']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"告警类型\\\",\\n              render : function(){\\n                  return randomText(['风机故障','振动值超标']);\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"报警级别\\\",\\n              render : function(){\\n                  return randomText(['次要','警告','重要'])\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"告警时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"timet\\\",\\n              label : \\\"告警状态\\\",\\n              render : function(){\\n                  return randomText(['告警中'])\\n              }\\n          },{\\n              name : \\\"equipment\\\",\\n              label : \\\"操作\\\",\\n              render : function(){\\n                  return randomText(['详情']);\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\"\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"4\",\"$$hashKey\":\"object:966\"},{\"label\":\"诊断报告\",\"path\":\"page5\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #fff\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [{\\n              type: \\\"label\\\",\\n              value: \\\"诊断类型\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-3 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"value\\\",\\n              label : \\\"报告编号\\\",\\n              render : function(){\\n                  return randomText(['Q49937282','H27272795']);\\n              }\\n          },\\n          {\\n              name : \\\"alert\\\",\\n              label : \\\"完成日期\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"warn\\\",\\n              label : \\\"诊断责任人\\\",\\n              render : function(){\\n                  return randomText(['经理','主管','测试'])\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"报告结论\\\",\\n               render : function(){\\n                  return randomText(['输入侧轴存在磨损间隙,不当','叶轮磨损,导致平衡状态劣化'])\\n              }\\n          },{\\n              name : \\\"timet\\\",\\n              label : \\\"现场反馈\\\",\\n              render : function(){\\n                  return randomText(['一般','很好','不好'])\\n              }\\n          },\\n          {\\n              name : \\\"alrert\\\",\\n              label : \\\"反馈时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 1000000 * i;\\n              }\\n          },{\\n              name : \\\"equipmeent\\\",\\n              label : \\\"反馈人\\\",\\n              render : function(){\\n                  return randomText(['经理','主管','测试'])\\n              }\\n          },{\\n              name : \\\"equipment\\\",\\n              label : \\\"操作\\\",\\n              render : function(){\\n                  return randomText(['详情']);\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 15; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\"\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":12},\"id\":\"5\",\"$$hashKey\":\"object:1032\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"Cyborg\\\"\\n}\"}"
    },
    {
      "viewTitle": "宝钢视图-决策管理者",
      "viewType": "dashboard",
      "content": "{\"version\":\"V_2\",\"groups\":[{\"id\":\"0\",\"label\":\"我的首页\",\"path\":\"page0\",\"layout\":{\"type\":\"column\",\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3003],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"140\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(249, 203, 156)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"50\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"总设备数\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"2px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待协同任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":4},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3026],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"35\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(86, 176, 242)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"45\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"周协同任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":4},{\"type\":\"column\",\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[3017],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"32\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"36px\",\"font-weight\":\"bold\",\"background-color\":\"rgb(106, 168, 79)\",\"border-radius\":\"50%\",\"border-width\":\"0px\",\"color\":\"rgb(255, 255, 255)\",\"height\":\"100px\",\"width\":\"100px\",\"line-height\":\"100px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"43%\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\"},{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"data\":{\"applied\":false,\"kpi\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"resource\":[],\"multipleCi\":false,\"multipleKpi\":false,\"series\":{\"manual\":\"当前在线\",\"bind\":\"(function (source){\\n  return source.getSeries();\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px auto\",\"padding\":\"0\",\"font-size\":\"15px\",\"font-weight\":\"bold\",\"border-width\":\"0px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"9px\",\"text-align\":\"center\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"月协同任务数\\\")\\n        }\\n    }\\n}\"},\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"parameters\":{}}],\"col\":4}],\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 0,\\n          title : \\\"当日计划\\\",\\n          value : 1\\n      },{\\n          id : 1,\\n          title : \\\"周计划\\\",\\n          value : 0\\n      },{\\n          id : 2,\\n          title : \\\"月计划\\\",\\n          value : 0\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n          [{\\n            type : \\\"label\\\",\\n            value : \\\"时 间:\\\",\\n            style:{\\n                textAlign:\\\"center\\\",\\n                width:\\\"55px\\\"\\n            }\\n          }]\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"left\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 3,\\n          title : \\\"任务类型\\\",\\n          type:\\\"label\\\"\\n      },{\\n          id : 4,\\n          title : \\\"诊断\\\",\\n          value : true,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 5,\\n          title : \\\"报告审核\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 6,\\n          title : \\\"知识整理\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"评价反馈\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n           []\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 3,\\n          title : \\\"设备类型\\\",\\n          type:\\\"label\\\"\\n      },{\\n          id : 4,\\n          title : \\\"加热炉\\\",\\n          value : true,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 5,\\n          title : \\\"测压机\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 6,\\n          title : \\\"粗轧\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"精轧\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 8,\\n          title : \\\"供配电系统\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 9,\\n          title : \\\"除磷系统\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 10,\\n          title : \\\"高级\\\",\\n          value : 3,\\n          type:\\\"query\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n           []\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on: {\\n    init: function (event) {\\n      var target = event.target;\\n      var global = event.global;\\n      var target = event.target;\\n      var global = event.global;\\n      event.target.getDomainsByFilter({\\n        modelIds: [301, 302]\\n      }, function (obj) {\\n        var projects = obj.filter(function (elem) {\\n          return elem.modelId == 302;\\n        })\\n        var customers = obj.filter(function (elem) {\\n          return elem.modelId == 301;\\n        })\\n        event.target.getDevicesByCondition({}, function (devices) {\\n          var ctrlGroups = [\\n            [\\n                {\\n              type: \\\"label\\\",\\n              value: \\\"高级\\\",\\n          \\n              style: {\\n                  width:\\\"55px\\\",\\n                textAlign: \\\"center\\\"\\n              }\\n            },{\\n              type: \\\"label\\\",\\n              value: \\\"检测对象\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              }\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"检测技术\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"select\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-2\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n              options: devices,\\n              format: {\\n                \\\"id\\\": \\\"id\\\",\\n                \\\"label\\\": \\\"label\\\"\\n              },\\n            }, {\\n              type: \\\"label\\\",\\n              value: \\\"起始时间\\\",\\n              class: \\\"col-md-1\\\",\\n              style: {\\n\\n                textAlign: \\\"center\\\"\\n              }\\n            }, {\\n              type: \\\"dateRangePicker\\\",\\n              value: \\\"\\\",\\n              class: \\\"col-md-3\\\",\\n              on: {\\n                change: function (elem) {\\n                  console.log(elem);\\n                }\\n              },\\n            }, {\\n              type: \\\"button\\\",\\n              class: \\\"col-md-1 col-md-offset-1\\\",\\n              btnclass: \\\"btn btn-primary\\\",\\n              value: \\\"查 询\\\",\\n              btnStyle: {\\n                width: \\\"100px\\\",\\n              }\\n            }]\\n          ];\\n          event.target.render(ctrlGroups);\\n        });\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"待办事项\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"equipment\\\",\\n              label : \\\"任务编号\\\",\\n              render : function(){\\n                  return randomText(['告警设备***']);\\n              }\\n          },{\\n              name : \\\"value\\\",\\n              label : \\\"产线\\\",\\n              render : function(){\\n                  return randomText(['风机故障','振动值超标']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"设备信息\\\",\\n              render : function(){\\n                  return randomText(['振动值超标','空载']);\\n              }\\n          },{\\n              name : \\\"alertType\\\",\\n              label : \\\"报警信息\\\",\\n              type : \\\"priority\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"报警级别\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"发起人\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"时限\\\",\\n              render : function(){\\n                  return randomText(['admin']);\\n              }\\n          },{\\n              name : \\\"alert\\\",\\n              label : \\\"任务状态\\\",\\n              render : function(){\\n                  return randomText(['告警中']);\\n              }\\n          },{\\n              name : \\\"time\\\",\\n              label : \\\"发起时间\\\",\\n              type : \\\"date\\\",\\n              render : function(i){\\n                  return new Date().getTime() + 100000 * i;\\n              }\\n          },{\\n              name : \\\"handel\\\",\\n              label : \\\"操作\\\",\\n              type: \\\"buttonGroup\\\",\\n              content : [{\\n                label : \\\"处理\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"device\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              },{\\n                label : \\\"分析\\\",\\n                icon: \\\"null\\\",\\n                class: \\\"btn btn-default btn-sm\\\",\\n                on : {\\n                  click : function(elem){\\n                    target.navigateTo(\\\"diagnose\\\", {\\n                        tabLabel : elem.label\\n                    });\\n                      \\n                  }\\n                }\\n              }],\\n              render : function(){\\n                  return \\\"\\\"\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 10; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]}],\"col\":12},\"$$hashKey\":\"object:2665\"},{\"label\":\"设备状态\",\"path\":\"page1\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"组态视图\",\"type\":\"topo\",\"source\":\"TOPO\",\"advance\":{\"variable\":\"\",\"expression\":\"expression = {\\n\\t\\\"on\\\" : {\\n\\t    \\\"init\\\" : function(event){\\n\\t        var target = event.target;\\n\\t        list = [{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"0%\\\",\\n    \\t        left : \\\"10%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"3%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"55%\\\",\\n    \\t        left : \\\"15%\\\"\\n\\t        },{\\n\\t            width : \\\"40%\\\",\\n\\t            top : \\\"50%\\\",\\n    \\t        left : \\\"60%\\\"\\n\\t        }]\\n\\t        for(var i in list){\\n\\t            target.createOverlayBypath(\\\"overlay\\\", {\\n    \\t            width : list[i].width,\\n    \\t            top : list[i].top,\\n    \\t            left : list[i].left,\\n    \\t            renderTo : \\\"self\\\"\\n    \\t        })\\n\\t        }\\n\\t        \\n\\t        target.render();\\n\\t    },\\n        \\\"click\\\" : function(event){\\n          console.log(event);\\n        }\\n    }\\n}\"},\"style\":{\"margin\":\"5px\",\"height\":\"400px\",\"font-size\":\"12px\",\"background-repeat\":\"no-repeat\"},\"viewId\":469973748826066,\"url\":\"images/map/map1.png\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"20px\",\"background-color\":\"\",\"border\":\"1px solid #c8c8c8\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"20px\",\"font-weight\":\"normal\",\"color\":\"rgb(68, 68, 68)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"工艺参数\\\")\\n        }\\n    }\\n}\"}},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  on : {\\n\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var id = 510070991266351;\\n      \\n      var render = function(id){\\n        target.getResourceById(id,function(returnData){\\n            var createGroup = function(){\\n                var prodate = target.dateHandler(returnData.values.productionDate);\\n                var current = target.dateHandler(new Date());\\n                var diff = current.minus(prodate)\\n                var ctrlGroups = [];\\n                returnData.values.productionDate = prodate.getDateString(\\\"yy-mm-dd\\\");\\n                returnData.values.runtime = target.topDateString(diff, \\\"dd天hh小时\\\");\\n                var attrNames = {\\n                    modelNo : \\\"设备型号\\\",\\n                    series : \\\"序列号\\\",\\n                    type : \\\"设备类型\\\",\\n                    brands : \\\"设备品牌\\\",\\n                    // manufacturing : \\\"生产制造方\\\",\\n                    productionDate : \\\"接入时间\\\",\\n                    runtime : \\\"运行时长\\\",\\n                    state : \\\"当前状态\\\",\\n                    scope : \\\"加工范围\\\",\\n                    density : \\\"加工精度\\\",\\n                    utilization : \\\"利用率\\\",\\n                    // conforma : \\\"一致性\\\",\\n                    yield : \\\"平均产品合格率\\\"\\n                }\\n                /**[\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备型号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.modelNo,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"序列号：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.series,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备类型：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.type,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"设备品牌：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.brands,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"生产制造方：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.manufacturing,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"接入时间：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : prodate.getDateString(\\\"yy-mm-dd\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"运行时长：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : target.topDateString(diff, \\\"dd天hh小时\\\"),\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"当前状态：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.state,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工范围：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.scope,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"加工精度：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.density,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"利用率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.utilization,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"一致性：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : returnData.values.conforma,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"平均产品合格率：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#939393\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :returnData.values.yield,\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#0980db\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]*/\\n                console.log(returnData.values)\\n                for(var i in returnData.values){\\n                    if(attrNames[i]){\\n                     ctrlGroups.push([{\\n                      type : \\\"label\\\",\\n                      value : attrNames[i] + \\\"：\\\",\\n                      style : {\\n                        \\\"text-align\\\" : \\\"right\\\",\\n                        \\\"font-weight\\\" : \\\"500\\\",\\n                        \\\"color\\\" : \\\"#939393\\\"\\n                      }\\n                    },{\\n                      type : \\\"label\\\",\\n                      value : returnData.values[i],\\n                      style : {\\n                        \\\"text-align\\\" : \\\"left\\\",\\n                        \\\"font-weight\\\" : \\\"600\\\",\\n                        \\\"color\\\" : \\\"#0980db\\\",\\n                        \\\"line-height\\\" : \\\"30px\\\"\\n                      }\\n                    }])\\n                  };\\n                };\\n              event.target.render(ctrlGroups);\\n            }\\n          createGroup();\\n        })\\n      }\\n      \\n      \\n      \\n      /* 请求接口的方法\\n      target.on(\\\"production_resource_changed\\\", function(resourceId){\\n        render(resourceId)\\n      });\\n      render(id);\\n      */\\n      \\n    var groupData = [\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"机组：\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value : \\\"合成气压缩机组\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"轴承:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"测点名称:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"压缩机高压缸联端\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"转速:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"9440\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"通频值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"25.18\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"1X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.42\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"2X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"0.70\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"0.5X:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.01\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"GAP电压:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-10.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"有效值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"7.83\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标序号:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"512\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"光标时间:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"07:23:32\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\" 波形值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"-12.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"幅值:\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"21.34\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"频率\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"倍频\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"1.00\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"67\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"高高报\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"157.31\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }],\\n                [{\\n                  type : \\\"label\\\",\\n                  value : \\\"单位\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"right\\\",\\n                    \\\"font-weight\\\" : \\\"500\\\",\\n                    \\\"color\\\" : \\\"#b6b6b6\\\"\\n                  }\\n                },{\\n                  type : \\\"label\\\",\\n                  value :\\\"um\\\",\\n                  style : {\\n                    \\\"text-align\\\" : \\\"left\\\",\\n                    \\\"font-weight\\\" : \\\"600\\\",\\n                    \\\"color\\\" : \\\"#5ba8d8\\\",\\n                    \\\"line-height\\\" : \\\"30px\\\"\\n                  }\\n                }]\\n        ];\\n     event.target.render(groupData);\\n      \\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"help\":\"../pdf/ctrlgroup.pdf\"}]}],\"url\":\"images/map/map1.png\"}],\"col\":4}]}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"type\":\"row\",\"source\":\"ROW\",\"parameters\":{\"alignment\":\"bootstrap\"},\"style\":{},\"children\":[{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"告警通知\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var render = function(){\\n        target.getResources(function(projects){\\n            projects = projects.map(function(elem){\\n                elem.warning = parseInt(Math.random() * 100);\\n                elem.priority = parseInt(Math.random() * 6);\\n                return elem;\\n            })\\n          target.render({\\n            data : projects,\\n            on : {\\n                rowClick : function(event){\\n                    target.navigateTo(\\\"device\\\", {});\\n                }\\n            },\\n            format : [\\n              {\\n                \\\"name\\\": \\\"测点名称\\\",\\n                \\\"value\\\": \\\"label\\\",\\n                \\\"type\\\": \\\"text\\\"\\n              },{\\n                \\\"name\\\": \\\"更新时间\\\",\\n                \\\"value\\\": \\\"modifyTime\\\",\\n                \\\"type\\\": \\\"date\\\"\\n              },{\\n                \\\"name\\\": \\\"告警级别\\\",\\n                \\\"value\\\": \\\"priority\\\",\\n                \\\"type\\\": \\\"priority\\\"\\n              },{\\n                \\\"name\\\": \\\"告警状态\\\",\\n                \\\"value\\\": \\\"warning\\\",\\n                \\\"type\\\": \\\"progressbar\\\"\\n              }\\n            ]\\n          });\\n        })\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":8},{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #ccc\",\"background-color\":\"#fff\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"5px\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"line-height\":\"30px\",\"text-align\":\"center\",\"color\":\"rgb(102, 102, 102)\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"离线诊断\\\");\\n        }\\n    }\\n}\"},\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[]}]},{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":10,\"listbottom\":\"none\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projects = [];\\n      for(var i=0; i < 7; i++){\\n        projects.push({\\n          type : parseInt(Math.random() * 20),\\n          attention :  parseInt(Math.random() * 20),\\n          warnning :  parseInt(Math.random() * 20),\\n          danger :  parseInt(Math.random() * 20)\\n        })\\n      }\\n      target.render({\\n        data : projects,\\n        on : {\\n          rowClick : function(event){\\n            target.navigateTo('production', {});\\n          }\\n        },\\n        format : [\\n          {\\n            \\\"name\\\": \\\"类型\\\",\\n            \\\"value\\\": \\\"type\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"注意\\\",\\n            \\\"value\\\": \\\"attention\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"告警\\\",\\n            \\\"value\\\": \\\"warnning\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          },{\\n            \\\"name\\\": \\\"危险\\\",\\n            \\\"value\\\": \\\"danger\\\",\\n            \\\"type\\\": \\\"text\\\"\\n          }\\n        ]\\n      });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\"}]}]}],\"col\":4}]}]}]}],\"col\":12},\"id\":\"1\",\"$$hashKey\":\"object:6278\"},{\"label\":\"关键指标跟踪\",\"path\":\"page2\",\"layout\":{\"type\":\"column\",\"children\":[{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"5px\",\"margin\":\"5px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 3,\\n          title : \\\"指标区\\\",\\n          type:\\\"label\\\",\\n          style:{\\n              width:\\\"100px\\\"\\n          }\\n      },{\\n          id : 4,\\n          title : \\\"报警数量\\\",\\n          value : true,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 5,\\n          title : \\\"诊断及时率\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 6,\\n          title : \\\"诊断准确率\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"管控设备数\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n           []\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 3,\\n          title : \\\"基 地\\\",\\n          type:\\\"label\\\",\\n          style:{\\n              width:\\\"100px\\\"\\n          }\\n      },{\\n          id : 4,\\n          title : \\\"宝山\\\",\\n          value : true,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 5,\\n          title : \\\"青山\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 6,\\n          title : \\\"梅山\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"东山\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"松山\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"天山\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n           []\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 3,\\n          title : \\\"区 域\\\",\\n          type:\\\"label\\\",\\n          style:{\\n              width:\\\"100px\\\"\\n          }\\n      },{\\n          id : 4,\\n          title : \\\"热轧厂\\\",\\n          value : true,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 5,\\n          title : \\\"冷轧厂\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 6,\\n          title : \\\"炼钢厂\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"炼铁厂\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n           []\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 3,\\n          title : \\\"产 线\\\",\\n          type:\\\"label\\\",\\n          style:{\\n              width:\\\"100px\\\"\\n          }\\n      },{\\n          id : 4,\\n          title : \\\"1580\\\",\\n          value : true,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 5,\\n          title : \\\"2050\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 6,\\n          title : \\\"1420\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          title : \\\"2250\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      }]\\n      var render = function(){\\n        var ctrlGroups = [\\n           []\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"borderRadius\\\":\\\"10px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控件组\",\"type\":\"ctrlgroup\",\"source\":\"CTRLGROUP\",\"advance\":{\"expression\":\"expression = {\\n  width:\\\"auto\\\",\\n  on : {\\n    init : function(event){\\n      var target = event.target;\\n      var global = event.global;\\n      var list = [{\\n          id : 3,\\n          title : \\\"时 间\\\",\\n          type:\\\"label\\\",\\n          style:{\\n              width:\\\"100px\\\"\\n          }\\n      },{\\n          id : 4,\\n          title : \\\"当日\\\",\\n          value : true,\\n          type:\\\"本周\\\"\\n      },{\\n          id : 5,\\n          title : \\\"本周\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 6,\\n          title : \\\"本月\\\",\\n          value : false,\\n          type:\\\"mult-group\\\"\\n      },{\\n          id : 7,\\n          type: \\\"label\\\",\\n          title: \\\"起始时间\\\",\\n          style:{\\n              width:\\\"100px\\\"\\n          }\\n       },{\\n           id:8,\\n           type: \\\"dateRangePicker\\\",\\n       },{\\n          id : 9,\\n          title : \\\"查询\\\",\\n          type:\\\"query\\\"\\n      },]\\n      var render = function(){\\n        var ctrlGroups = [\\n           []\\n        ];\\n        for(var i in list){\\n            if(list[i].type==\\\"query\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:\\\"btn btn-primary\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",    \\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\",\\n                      \\\"marginLeft\\\":\\\"50px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        console.log(elem)\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"label\\\"){\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"label\\\",\\n                    value : list[i].title,\\n                });\\n            }else if(list[i].type==\\\"mult-group\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(list[i].id == id){\\n                               list[i].value = !list[i].value\\n                            } \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }else if(list[i].type==\\\"dateRangePicker\\\"){\\n                 ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    value: \\\"\\\",\\n                    type : \\\"dateRangePicker\\\",\\n                    on : {\\n                       change: function (elem) {\\n                           console.log(elem);\\n                       }\\n                    },\\n                    style:{\\n                        width:\\\"400px\\\"\\n                    }\\n                \\n                });\\n            }else{\\n                ctrlGroups[0].push({\\n                    id : list[i].id,\\n                    type : \\\"button\\\",\\n                    value : list[i].title,\\n                    btnclass:list[i].value==1 ? \\\"btn btn-primary\\\" : \\\"btn btn-default\\\",\\n                    btnStyle:{\\n                      \\\"width\\\":\\\"100px\\\",\\n                      \\\"border\\\":\\\"#10a4fb solid 1px\\\"\\n                    },\\n                    on : {\\n                      click : function(elem){\\n                        elem.current.btnclass = \\\"btn btn-default\\\";\\n                        var id = elem.current.id;\\n                        for(var i in list){\\n                            if(i<3){\\n                                if(list[i].id == id){\\n                                    list[i].value = 1;\\n                                } else {\\n                                    list[i].value = 0; \\n                             } \\n                            }\\n                           \\n                        }\\n                        render()\\n                      }\\n                    }\\n                });\\n            }\\n         }\\n        event.target.render(ctrlGroups);\\n      }\\n      render()\\n    }\\n  }\\n}\"},\"style\":{\"font-size\":\"12px\",\"text-align\":\"center\",\"line-height\":\"30px\"},\"help\":\"../pdf/ctrlgroup.pdf\",\"parameters\":{},\"url\":\"images/map/map1.png\"}]}]},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"padding\":\"10px\",\"margin\":\"5px\",\"border\":\"1px solid #c8c8c8\",\"background-color\":\"\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"文字\",\"type\":\"text\",\"source\":\"TEXT\",\"help\":\"http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D\",\"data\":{\"applied\":false,\"multipleCi\":false,\"multipleKpi\":false,\"resource\":[],\"modelType\":300,\"resfilltype\":\"parameter\",\"series\":{\"manual\":\"新建文字\",\"bind\":\"(function (source){\\n  var formatter=function(elem){\\n    return elem.value\\n   }\\n  return source.ci.getSeries(formatter);\\n})\"},\"modelDisable\":true},\"style\":{\"margin\":\"auto\",\"padding\":\"0\",\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"rgb(102, 102, 102)\",\"text-align\":\"left\"},\"advance\":{\"getfunction\":\"kpiDataService.getValueList\",\"category\":\"ci\",\"condition\":[\"kpi\",\"{object:kpiQueryModel}\"],\"expression\":\"expression = {\\n    on : {\\n        init : function(event){\\n            var target = event.target;\\n            target.setText(\\\"查询结果\\\")\\n        }\\n    }\\n}\"},\"parameters\":{},\"echart\":{},\"url\":\"images/map/map1.png\"},{\"label\":\"控制板1\",\"type\":\"block\",\"source\":\"BLOCK\",\"style\":{\"background-color\":\"\",\"border-bottom\":\"1px solid rgb(243, 243, 243)\",\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},\"advance\":{\"expression\":{}},\"children\":[{\"type\":\"column\",\"col\":12,\"children\":[{\"label\":\"高级列表\",\"type\":\"dataTableAdvance\",\"source\":\"DATATABLEADVANCE\",\"parameters\":{\"col\":1,\"pageSize\":5,\"listbottom\":\"standard\"},\"advance\":{\"expression\":\"expression = {\\n  \\\"theme\\\" : \\\"dark\\\",\\n  \\\"on\\\" : {\\n    \\\"init\\\" : function(event){\\n      var target = event.target;\\n      var projectModel;\\n      var projectAttr;\\n      var random = function(max, digital){\\n          var num = parseInt(Math.random() * max * Math.pow(10,digital)) / Math.pow(10,digital);\\n          return num;\\n      }\\n      var randomText = function(strs){\\n          var length = strs.length - 1;\\n          var inx = Math.round(Math.random() * length);\\n          return strs[inx];\\n      }\\n\\n      var render = function(){\\n          var format = [{\\n              name : \\\"equipment\\\",\\n              label : \\\"设备类型\\\",\\n              render : function(){\\n                  return randomText(['告警设备***']);\\n              }\\n          },{\\n              name : \\\"value\\\",\\n              label : \\\"报警数量\\\",\\n              render : function(){\\n                  return randomText(['风机故障','振动值超标']);\\n              }\\n          },{\\n              name : \\\"unit\\\",\\n              label : \\\"诊断准确率\\\",\\n              render : function(){\\n                  return randomText(['振动值超标','空载']);\\n              }\\n          },{\\n              name : \\\"alertType\\\",\\n              label : \\\"管控设备数\\\",\\n              type : \\\"priority\\\",\\n              render : function(){\\n                  return random(4, 0);\\n              }\\n          }]\\n        \\n          var datas = (function(){\\n              var datas = [];\\n              for(var i = 0; i < 10; i++){\\n                  var rs ={};\\n                  for(var j in format){\\n                      rs[format[j].name] = format[j].render(i);\\n                  }\\n                  datas.push(rs);\\n              };\\n              return datas;\\n          })();\\n          console.log(datas);\\n       target.render({\\n            data : datas,\\n            on : {\\n                rowClick : function(event){\\n                    target.createPopupBypath('analysis', {\\n                        title: \\\"诊断分析\\\",\\n                        theme : \\\"system\\\",\\n                        width: \\\"80%\\\"\\n                      }, {\\n                        message: \\\"诊断分析\\\"\\n                      })\\n                }\\n            },\\n            format : format.map(function(elem){\\n                return {\\n                \\\"name\\\": elem.label,\\n                \\\"value\\\": elem.name,\\n                \\\"type\\\": elem.type || \\\"text\\\",\\n                \\\"content\\\": elem.content\\n              }\\n            })\\n          });\\n      }\\n      target.getEditorStatus(\\\"PROJECTMODEL\\\", function(pmodel){\\n          var dt = pmodel || {}\\n          projectModel = dt.projectModel || [];\\n          projectAttr = dt.projectAttr || {};\\n          render();\\n        });\\n    }\\n  }\\n}\"},\"style\":{\"margin\":\"5px\",\"font-size\":\"12px\"},\"url\":\"images/map/map1.png\",\"echart\":{}}]}]}]}]}],\"col\":12},\"id\":\"2\",\"$$hashKey\":\"object:7992\"}],\"setting\":\"{\\n  \\\"theme\\\": \\\"default\\\"\\n}\"}"
    }
  ]
}