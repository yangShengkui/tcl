{
  "version": "V_2",
  "groups": [
    {
      "id": "0",
      "label": "工具",
      "path": "index",
      "layout": {
        "type": "column",
        "children": [
          {
            "label": "控制板1",
            "type": "block",
            "source": "BLOCK",
            "style": {
              "padding": "5px",
              "margin": "5px",
              "border": "1px solid #ccc",
              "background": "#fff",
              "box-shadow": "1px 1px 10px 1px rgba(0,0,0,.1)"
            },
            "children": [
              {
                "type": "column",
                "col": 12,
                "children": [
                  {
                    "label": "控制板1",
                    "type": "block",
                    "source": "BLOCK",
                    "style": {
                      "padding": "5px",
                      "margin": "5px",
                      "background-color": "#3c8dbc"
                    },
                    "advance": {
                      "expression": {}
                    },
                    "children": [
                      {
                        "type": "column",
                        "col": 12,
                        "children": [
                          {
                            "label": "文字",
                            "type": "text",
                            "source": "TEXT",
                            "help": "http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D",
                            "data": {
                              "applied": false,
                              "kpi": [],
                              "modelType": 300,
                              "resfilltype": "parameter",
                              "resource": [],
                              "multipleCi": false,
                              "multipleKpi": false,
                              "series": {
                                "manual": "拷贝图标样式到剪切板",
                                "bind": "(function (source){\n  var formatter=function(elem){\n    return elem.value\n   }\n  return source.ci.getSeries(formatter);\n})"
                              },
                              "modelDisable": true
                            },
                            "style": {
                              "margin": "5px",
                              "font-size": "20px",
                              "font-weight": "bold",
                              "text-align": "center",
                              "color": "rgb(255, 255, 255)"
                            },
                            "advance": {
                              "getfunction": "kpiDataService.getValueList",
                              "category": "ci",
                              "condition": [
                                "kpi",
                                "{object:kpiQueryModel}"
                              ],
                              "expression": "expression = {\n    on : {\n        init : function(event){\n            var target = event.target;\n            target.setText(\"设计器工具\")\n        }\n    }\n}"
                            },
                            "url": "images/map/map1.png",
                            "template": [
                              {
                                "type": "text",
                                "style": {
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "10px",
                                  "font-weight": "bold",
                                  "color": "#333"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "16px",
                                  "font-weight": "bold",
                                  "color": "#666",
                                  "text-align": "center"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "width": "60px",
                                  "height": "60px",
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "12px",
                                  "line-height": "60px",
                                  "font-weight": "bold",
                                  "color": "#fff",
                                  "text-align": "center",
                                  "border-radius": "50%",
                                  "background-color": "#3c8dbc"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "width": "140px",
                                  "height": "60px",
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "12px",
                                  "line-height": "60px",
                                  "font-weight": "bold",
                                  "color": "#fff",
                                  "text-align": "center",
                                  "border-radius": "4px",
                                  "background-color": "#3c8dbc"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "width": "140px",
                                  "height": "60px",
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "12px",
                                  "line-height": "60px",
                                  "font-weight": "bold",
                                  "color": "#444",
                                  "text-align": "center",
                                  "border-radius": "4px",
                                  "background-color": "#eee"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "margin": "auto",
                                  "padding": "5px",
                                  "font-size": "18px",
                                  "font-weight": "bold",
                                  "color": "#444",
                                  "text-align": "center",
                                  "border-radius": "0px",
                                  "background-color": "#eee"
                                }
                              }
                            ],
                            "id": "5EpfbCWWt4MBNiCH8YPPkR6hWSJJMQfp",
                            "$index": [
                              1,
                              0
                            ]
                          }
                        ],
                        "id": "zkddhecwZjZDeFhBj3triWxDYbWnpWH5"
                      }
                    ],
                    "template": [
                      {
                        "type": "css",
                        "style": {
                          "padding": "10px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "padding": "5px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff",
                          "border-top": "0"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#efdcaf",
                          "border": "1px solid #c2ad7a"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#f0c0a4",
                          "border": "1px solid #e5671b"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#ffb3b3",
                          "border": "1px solid #db2222"
                        }
                      }
                    ],
                    "id": "GxmTdJsCcNhGBhEn5n6MGfQcmGStBXb2",
                    "$index": [
                      1,
                      0
                    ]
                  },
                  {
                    "label": "高级列表",
                    "type": "dataTableAdvance",
                    "source": "DATATABLEADVANCE",
                    "parameters": {
                      "col": 1,
                      "pageSize": 10,
                      "listbottom": "pageAndTotal"
                    },
                    "advance": {
                      "expression": "expression = {\n  \"on\" : {\n    \"init\" : function(event){\n      var target = event.target;\n      var helpDoc = target.getToolsMenu();\n      console.log(helpDoc);\n      var path = target.getParameter(\"path\");\n      path = path || [];\n      var inx = 0;\n      var parent = helpDoc;\n      function repeat(inx){\n          var attr = path[inx];\n          var find = parent.find(function(elem){\n              return elem.url == attr && attr !== undefined;\n          });\n          if(find){\n              parent = find.children;\n              inx++\n              repeat(inx);\n          } else {\n              finish();\n          }\n      }\n      repeat(inx);\n      function finish(){\n          var source = parent.filter(function(elem){\n              return elem.show !== false;\n          })\n          target.render({\n              data : source,\n              on : {\n                    \"rowClick\" : function(event){\n                      var label = event.row.label;\n                      var path = event.row.path;\n                      var url = event.row.url;\n                      var pdf = event.row.pdf;\n                      if(path){\n                          target.navigateTo(path, {}, \"blank\");\n                      } else if(url){\n                          target.linkTo(\"../app-free-style/index.html#/\" + url);\n                      };\n                    }\n                },\n              format : [{\n                \"name\": \"目录\",\n                \"value\": \"label\",\n                \"type\": \"text\",\n                \"style\" : {\n                  \"cursor\" : \"pointer\",\n                  \"text-align\" : \"left\",\n                  \"display\": \"block\"\n                }\n              }]\n          });\n      }\n    }\n  }\n};"
                    },
                    "style": {
                      "margin": "5px",
                      "font-size": "12px"
                    },
                    "id": "TcXQjztDnQhJ7CmHyAHbxMhiZXerx54a"
                  }
                ],
                "id": "Et6Rd6EDi6bj7D82daQ6hj8MCP4p2GTd"
              }
            ],
            "advance": {
              "expression": "{}"
            },
            "template": [
              {
                "type": "css",
                "style": {
                  "padding": "10px",
                  "margin": "5px",
                  "border": "1px solid #ccc",
                  "background-color": "#fff"
                }
              },
              {
                "type": "css",
                "style": {
                  "padding": "5px",
                  "margin": "5px",
                  "border": "1px solid #ccc",
                  "background-color": "#fff",
                  "border-top": "0"
                }
              },
              {
                "type": "css",
                "style": {
                  "margin": "5px",
                  "padding": "5px",
                  "background-color": "#efdcaf",
                  "border": "1px solid #c2ad7a"
                }
              },
              {
                "type": "css",
                "style": {
                  "margin": "5px",
                  "padding": "5px",
                  "background-color": "#f0c0a4",
                  "border": "1px solid #e5671b"
                }
              },
              {
                "type": "css",
                "style": {
                  "margin": "5px",
                  "padding": "5px",
                  "background-color": "#ffb3b3",
                  "border": "1px solid #db2222"
                }
              }
            ],
            "id": "yBZcsP2eAabiKw3fbDwyFckFxJQyi4XA",
            "$index": [
              1,
              0
            ]
          },
          {
            "type": "row",
            "source": "ROW",
            "parameters": {
              "alignment": "bootstrap"
            },
            "style": {},
            "children": [
              {
                "type": "column",
                "children": [
                  {
                    "label": "控制板1",
                    "type": "block",
                    "source": "BLOCK",
                    "style": {
                      "padding": "5px",
                      "margin": "5px",
                      "background-color": ""
                    },
                    "advance": {
                      "expression": "expression = {\n    \n};"
                    },
                    "children": [
                      {
                        "type": "column",
                        "col": 12,
                        "children": [],
                        "id": "khKA8DjatCikRZPjK37GfdAa4KQwB6EG"
                      }
                    ],
                    "parameters": {},
                    "template": [
                      {
                        "type": "css",
                        "style": {
                          "padding": "10px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "padding": "5px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff",
                          "border-top": "0"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#efdcaf",
                          "border": "1px solid #c2ad7a"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#f0c0a4",
                          "border": "1px solid #e5671b"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#ffb3b3",
                          "border": "1px solid #db2222"
                        }
                      }
                    ],
                    "id": "sEcGbP5dnQsptzRnrQk8tKfErHZF2fcK"
                  }
                ],
                "col": 3,
                "id": "aM4hPWxKrGSY5MZpYT5z7J4pXdDrhSDe"
              },
              {
                "type": "column",
                "children": [],
                "col": 6,
                "id": "sRXHcTz6AEMhKi8tFhajtdzj6YjkkZhi"
              },
              {
                "type": "column",
                "children": [],
                "col": 3,
                "id": "pRPAaFWycddzwWdse4Z3kRHzwM3sTjQr"
              }
            ],
            "url": "images/map/map1.png",
            "id": "nwkBxHYxDKa44pDcAEjmcf5SexGTpfet"
          }
        ],
        "col": 12,
        "id": "dZyb8cytcewZtNW7WSJ2McTwraC2swRz"
      },
      "$$hashKey": "object:4844"
    },
    {
      "label": "模型指标工具",
      "path": "kpiselector",
      "layout": {
        "type": "column",
        "children": [
          {
            "label": "控制板2",
            "type": "box",
            "class": "box box-info",
            "source": "BOX",
            "parameters": {
              "title": "模型指标选择工具"
            },
            "style": {
              "font-size": "12px",
              "font-weight": "bold",
              "text-align": "left",
              "margin": "5px"
            },
            "children": [
              {
                "class": "box-body",
                "type": "box-body",
                "children": [
                  {
                    "type": "column",
                    "col": 12,
                    "children": [
                      {
                        "type": "row",
                        "source": "ROW",
                        "parameters": {
                          "alignment": "bootstrap"
                        },
                        "style": {},
                        "children": [
                          {
                            "type": "column",
                            "children": [
                              {
                                "label": "控制板1",
                                "type": "block",
                                "source": "BLOCK",
                                "style": {
                                  "padding": "5px",
                                  "margin": "5px",
                                  "border": "1px solid #eee",
                                  "background-color": "#fff"
                                },
                                "advance": {
                                  "expression": {}
                                },
                                "children": [
                                  {
                                    "type": "column",
                                    "col": 12,
                                    "children": [
                                      {
                                        "label": "文字",
                                        "type": "text",
                                        "source": "TEXT",
                                        "help": "http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D",
                                        "data": {
                                          "applied": false,
                                          "multipleCi": false,
                                          "multipleKpi": false,
                                          "resource": [],
                                          "modelType": 300,
                                          "resfilltype": "parameter",
                                          "series": {
                                            "manual": "新建文字",
                                            "bind": "(function (source){\n  var formatter=function(elem){\n    return elem.value\n   }\n  return source.ci.getSeries(formatter);\n})"
                                          },
                                          "modelDisable": true
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "padding": "5px",
                                          "font-size": "14px",
                                          "font-weight": "bold",
                                          "line-height": "30px",
                                          "background-color": "rgb(243, 243, 243)"
                                        },
                                        "advance": {
                                          "getfunction": "kpiDataService.getValueList",
                                          "category": "ci",
                                          "condition": [
                                            "kpi",
                                            "{object:kpiQueryModel}"
                                          ],
                                          "expression": "expression = {\n    on : {\n        init : function(event){\n            var target = event.target;\n            target.setText(\"查询API接口函数\")\n        }\n    }\n}"
                                        },
                                        "template": [
                                          {
                                            "type": "text",
                                            "style": {
                                              "margin": "auto",
                                              "padding": "0",
                                              "font-size": "10px",
                                              "font-weight": "bold",
                                              "color": "#333"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "style": {
                                              "margin": "auto",
                                              "padding": "0",
                                              "font-size": "16px",
                                              "font-weight": "bold",
                                              "color": "#666",
                                              "text-align": "center"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "style": {
                                              "width": "60px",
                                              "height": "60px",
                                              "margin": "auto",
                                              "padding": "0",
                                              "font-size": "12px",
                                              "line-height": "60px",
                                              "font-weight": "bold",
                                              "color": "#fff",
                                              "text-align": "center",
                                              "border-radius": "50%",
                                              "background-color": "#3c8dbc"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "style": {
                                              "width": "140px",
                                              "height": "60px",
                                              "margin": "auto",
                                              "padding": "0",
                                              "font-size": "12px",
                                              "line-height": "60px",
                                              "font-weight": "bold",
                                              "color": "#fff",
                                              "text-align": "center",
                                              "border-radius": "4px",
                                              "background-color": "#3c8dbc"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "style": {
                                              "width": "140px",
                                              "height": "60px",
                                              "margin": "auto",
                                              "padding": "0",
                                              "font-size": "12px",
                                              "line-height": "60px",
                                              "font-weight": "bold",
                                              "color": "#444",
                                              "text-align": "center",
                                              "border-radius": "4px",
                                              "background-color": "#eee"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "style": {
                                              "margin": "auto",
                                              "padding": "5px",
                                              "font-size": "18px",
                                              "font-weight": "bold",
                                              "color": "#444",
                                              "text-align": "center",
                                              "border-radius": "0px",
                                              "background-color": "#eee"
                                            }
                                          }
                                        ],
                                        "id": "pCTNBTBHyRQKFNkBDf3DnaPW4XAtmTDm"
                                      },
                                      {
                                        "label": "控件组",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var rs = [];\n      for(var i in target.__proto__){\n          rs.push({\n              id : i,\n              label : i\n          });\n      }\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"选择API\",\n          class : \"col-md-2\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : rs,\n          class : \"col-md-8\",\n          on : {\n            change : function(elem){\n              console.log(elem.value);\n              var regExp = /function ?\\((.*)\\) ?\\{/;\n              var funStr = target.__proto__[elem.value].toString();\n              var rs = regExp.exec(funStr);\n              target.setValue(\"params\", rs[1]);\n              target.setValue(\"funName\", elem.value);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        },{\n          type : \"button\",\n          value : \"生成表达式\",\n          class : \"col-md-2\",\n          btnclass : \"btn btn-primary\",\n          on : {\n              click : function(event){\n                  global.fire(\"apiChange1\", {\n                      params : target.getValue(\"params\"),\n                      funName : target.getValue(\"funName\")\n                  });\n              }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}",
                                          "variable": ""
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "help": "../pdf/ctrlgroup.pdf",
                                        "parameters": {},
                                        "abc": 4444,
                                        "template": [
                                          {
                                            "label": "普通按钮",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "parameters": {},
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "设备，项目，客户下拉",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "parameters": {},
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "竖排组件功能组件",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "项目，管理域,提交按钮",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px",
                                              "width": "100%"
                                            },
                                            "url": "images/map/map1.png"
                                          }
                                        ],
                                        "id": "GrEaapCb3cGNHzKKDzjiaa2CXdS3SmB8"
                                      },
                                      {
                                        "label": "控件组",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"所需参数\",\n          class : \"col-md-2\"\n        },{\n          type : \"label\",\n          value : \"N/A\",\n          class : \"col-md-10\"\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    },\n    apiChange : function(event){\n      var target = event.target;\n      var global = event.global;\n      var str = event.params.params;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"所需参数\",\n          class : \"col-md-2\"\n        },{\n          type : \"label\",\n          value : str || \"N/A\",\n          class : \"col-md-10\"\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}",
                                          "variable": ""
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "help": "../pdf/ctrlgroup.pdf",
                                        "parameters": {},
                                        "abc": 4444,
                                        "template": [
                                          {
                                            "label": "普通按钮",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "parameters": {},
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "设备，项目，客户下拉",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "parameters": {},
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "竖排组件功能组件",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "项目，管理域,提交按钮",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px",
                                              "width": "100%"
                                            },
                                            "url": "images/map/map1.png"
                                          }
                                        ],
                                        "id": "KhyJSNBb7HjmcJTTHHYExft4B7Qe7xwK"
                                      },
                                      {
                                        "label": "代码编辑器",
                                        "type": "aceeditor",
                                        "source": "ACEEDITOR",
                                        "style": {
                                          "margin": "5px",
                                          "padding": "0",
                                          "height": "300px"
                                        },
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    init : function(event){\n        var target = event.target;\n      var global = event.global;\n      target.render();\n    },\n    apiChange1 : function(event){\n      var target = event.target;\n      var global = event.global;\n      console.log(event);\n      var params = event.params.params;\n      var funName = event.params.funName;\n      var arr = params.split(\", \");\n      var rs = \"/**--必须配置在初始化事件init或自定义事件内部--*/\\n\";\n      rs += \"var target = event.target\\n\";\n      rs += \"target.\" + funName + \"(\";\n      for(var i in arr){\n          if(arr[i] != \"callback\"){\n              rs += arr[i]\n          } else {\n              rs += \"function(returnData){\\n\";\n              rs += \"    console.log(returnData);\\n\";\n              rs += \"}\"\n          };\n          if(parseInt(i) < arr.length - 1){\n              rs += \",\"\n          }\n      }\n      rs += \")\"\n      target.setText(rs);\n    }\n  }\n}"
                                        },
                                        "id": "5bzyzXZi5Cmti6GrSd5TD8JyGjBXeYkx"
                                      }
                                    ],
                                    "id": "MF87ZPKJEQ54dtdQxMxAhaT6TrEQYXmp"
                                  }
                                ],
                                "template": [
                                  {
                                    "type": "css",
                                    "style": {
                                      "padding": "10px",
                                      "margin": "5px",
                                      "border": "1px solid #ccc",
                                      "background-color": "#fff"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "padding": "5px",
                                      "margin": "5px",
                                      "border": "1px solid #ccc",
                                      "background-color": "#fff",
                                      "border-top": "0"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#efdcaf",
                                      "border": "1px solid #c2ad7a"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#f0c0a4",
                                      "border": "1px solid #e5671b"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#ffb3b3",
                                      "border": "1px solid #db2222"
                                    }
                                  }
                                ],
                                "id": "QCYkD35ssekpzj8N86YeE3H6jtDhjCcz"
                              }
                            ],
                            "col": 6,
                            "id": "FK5sJya8Y5TEbAtTe5BmZMChiP8Zyfha"
                          },
                          {
                            "type": "column",
                            "children": [
                              {
                                "label": "控制板1",
                                "type": "block",
                                "source": "BLOCK",
                                "style": {
                                  "padding": "5px",
                                  "margin": "5px",
                                  "border": "1px solid #eee",
                                  "background-color": "#fff"
                                },
                                "advance": {
                                  "expression": {}
                                },
                                "children": [
                                  {
                                    "type": "column",
                                    "col": 12,
                                    "children": [
                                      {
                                        "label": "文字",
                                        "type": "text",
                                        "source": "TEXT",
                                        "help": "http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D",
                                        "data": {
                                          "applied": false,
                                          "multipleCi": false,
                                          "multipleKpi": false,
                                          "resource": [],
                                          "modelType": 300,
                                          "resfilltype": "parameter",
                                          "series": {
                                            "manual": "新建文字",
                                            "bind": "(function (source){\n  var formatter=function(elem){\n    return elem.value\n   }\n  return source.ci.getSeries(formatter);\n})"
                                          },
                                          "modelDisable": true
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "padding": "5px",
                                          "font-size": "14px",
                                          "font-weight": "bold",
                                          "line-height": "30px",
                                          "background-color": "rgb(243, 243, 243)"
                                        },
                                        "advance": {
                                          "getfunction": "kpiDataService.getValueList",
                                          "category": "ci",
                                          "condition": [
                                            "kpi",
                                            "{object:kpiQueryModel}"
                                          ],
                                          "expression": "expression = {\n    on : {\n        init : function(event){\n            var target = event.target;\n            target.setText(\"选择模型设备指标\")\n        }\n    }\n}"
                                        },
                                        "template": [
                                          {
                                            "type": "text",
                                            "style": {
                                              "margin": "auto",
                                              "padding": "0",
                                              "font-size": "10px",
                                              "font-weight": "bold",
                                              "color": "#333"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "style": {
                                              "margin": "auto",
                                              "padding": "0",
                                              "font-size": "16px",
                                              "font-weight": "bold",
                                              "color": "#666",
                                              "text-align": "center"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "style": {
                                              "width": "60px",
                                              "height": "60px",
                                              "margin": "auto",
                                              "padding": "0",
                                              "font-size": "12px",
                                              "line-height": "60px",
                                              "font-weight": "bold",
                                              "color": "#fff",
                                              "text-align": "center",
                                              "border-radius": "50%",
                                              "background-color": "#3c8dbc"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "style": {
                                              "width": "140px",
                                              "height": "60px",
                                              "margin": "auto",
                                              "padding": "0",
                                              "font-size": "12px",
                                              "line-height": "60px",
                                              "font-weight": "bold",
                                              "color": "#fff",
                                              "text-align": "center",
                                              "border-radius": "4px",
                                              "background-color": "#3c8dbc"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "style": {
                                              "width": "140px",
                                              "height": "60px",
                                              "margin": "auto",
                                              "padding": "0",
                                              "font-size": "12px",
                                              "line-height": "60px",
                                              "font-weight": "bold",
                                              "color": "#444",
                                              "text-align": "center",
                                              "border-radius": "4px",
                                              "background-color": "#eee"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "style": {
                                              "margin": "auto",
                                              "padding": "5px",
                                              "font-size": "18px",
                                              "font-weight": "bold",
                                              "color": "#444",
                                              "text-align": "center",
                                              "border-radius": "0px",
                                              "background-color": "#eee"
                                            }
                                          }
                                        ],
                                        "id": "yceBKdidFZscQmAdesij38saQm3GPizC"
                                      },
                                      {
                                        "label": "控件组",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    changeModel : function(event){\n      var target = event.target;\n      target.setValue(\"resources1\", []);\n      target.setValue(\"kpis1\", []);\n      var global = event.global;\n      var model = target.getValue(\"model1\") || undefined;\n      target.getModels(function(models){\n        var cmodel = model || models[0];\n        target.setValue(\"model1\", cmodel);\n        target.getResourceByModelId(cmodel.id, function(resources){\n          target.getKpisByModelId(cmodel.id, function(kpis){\n            var ctrlGroups = [\n              [{\n                type : \"label\",\n                value : \"选择模型\",\n                style : {\n                  \"text-align\" : \"center\"\n                },\n                class : \"col-md-1\"\n              },{\n                type : \"select\",\n                value : cmodel.id,\n                on : {\n                  change : function(elem){\n                    target.setValue(\"model\", elem.value);\n                    global.fire(\"changeModel\");\n                  }\n                },\n                style : {\n                  width : \"40%\"\n                },\n                class : \"col-md-5\",\n                options : models,\n                format : {\n                  \"id\" : \"id\",\n                  \"label\" : \"label\"\n                }\n              },{\n                type : \"label\",\n                value : \"选择设备\",\n                style : {\n                  \"text-align\" : \"center\"\n                },\n                class : \"col-md-1\"\n              },{\n                type : \"multiSelect\",\n                value : \"选择设备\",\n                style : {\n                  width : \"40%\"\n                },\n                class : \"col-md-5\",\n                on : {\n                  change : function(elem){\n                    target.setValue(\"resources\", elem.values);\n                  }\n                },\n                options : resources,\n                format : {\n                  \"id\" : \"id\",\n                  \"label\" : \"label\"\n                }\n              }],[{\n                type : \"label\",\n                value : \"选择指标\",\n                style : {\n                  \"text-align\" : \"center\",\n                  width : \"20%\"\n                }\n              },{\n                type : \"multiSelect\",\n                value : \"选择指标\",\n                on : {\n                  change : function(elem){\n                    target.setValue(\"kpis\", elem.values);\n                  }\n                },\n                options : kpis,\n                format : {\n                  \"id\" : \"id\",\n                  \"label\" : \"label\"\n                }\n              }],[{\n                type : \"label\",\n                class : \"col-md-1\",\n                value : \"\"\n              },{\n                type : \"button\",\n                value : \"预览代码\",\n                icon : \"glyphicon glyphicon-copy\",\n                class : \"col-md-5\",\n                btnclass : \"btn btn-primary\",\n                on : {\n                  click : function(elem){\n                    var model = target.getValue(\"model1\");\n                    var resources = target.getValue(\"resources1\");\n                    var kpis = target.getValue(\"kpis1\");\n                    var str = \"\";\n                    str += \"var modelId = \"  + model.id + \";\\n\";\n                    str += \"var modelName = \\\"\" + model.label + \"\\\";\\n\";\n                    str += \"var resourceIds = [\" + resources.map(function(elem){\n                        return elem.id\n                    }).toString() + \"];\\n\";\n                    str += \"var resourceNames = [\" + resources.map(function(elem){\n                        return  \"\\\"\" + elem.label + \"\\\"\";\n                    }).toString() + \"];\\n\";\n                    str += \"var kpiIds = [\" + kpis.map(function(elem){\n                        return elem.id\n                    }).toString() + \"];\\n\";\n                    str += \"var kpiNames = [\" + kpis.map(function(elem){\n                        return  \"\\\"\" + elem.label + \"\\\"\"\n                    }).toString() + \"];\";\n                    global.fire(\"setText\", str);\n                  }\n                }\n              }]\n            ];\n            event.target.render(ctrlGroups);\n          })\n        })\n      });\n    },\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      global.fire(\"changeModel\");\n    }\n  }\n}",
                                          "variable": ""
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "help": "../pdf/ctrlgroup.pdf",
                                        "parameters": {},
                                        "abc": 4444,
                                        "template": [
                                          {
                                            "label": "普通按钮",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "parameters": {},
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "设备，项目，客户下拉",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "parameters": {},
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "竖排组件功能组件",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "项目，管理域,提交按钮",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px",
                                              "width": "100%"
                                            },
                                            "url": "images/map/map1.png"
                                          }
                                        ],
                                        "id": "NreDWB8rBCxskxkcaiddZ68fyTTy3caK"
                                      },
                                      {
                                        "label": "代码编辑器",
                                        "type": "aceeditor",
                                        "source": "ACEEDITOR",
                                        "style": {
                                          "margin": "5px",
                                          "padding": "0",
                                          "height": "300px"
                                        },
                                        "advance": {
                                          "expression": "expression = {\n    on : {\n        \"setText\" : function(event){\n            event.target.setText(event.params);\n        }\n    }\n}"
                                        },
                                        "id": "irwfTR5fPeBszt2Jd8YWDJThaj3aQ2kP"
                                      }
                                    ],
                                    "id": "bPm58fTxzhZzxykekxPmbNJBdAEZHw7t"
                                  }
                                ],
                                "template": [
                                  {
                                    "type": "css",
                                    "style": {
                                      "padding": "10px",
                                      "margin": "5px",
                                      "border": "1px solid #ccc",
                                      "background-color": "#fff"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "padding": "5px",
                                      "margin": "5px",
                                      "border": "1px solid #ccc",
                                      "background-color": "#fff",
                                      "border-top": "0"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#efdcaf",
                                      "border": "1px solid #c2ad7a"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#f0c0a4",
                                      "border": "1px solid #e5671b"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#ffb3b3",
                                      "border": "1px solid #db2222"
                                    }
                                  }
                                ],
                                "id": "hYGj3cFYeiMhHkYEeYN5jKMX2E46k8MB"
                              }
                            ],
                            "col": 6,
                            "id": "kRhwK3yibe4p65eCbR2X5TxhQwZd4eiX"
                          }
                        ],
                        "id": "TYKEG4ed8Q2x6GxiPJJPPWiNKA6NftKN"
                      }
                    ],
                    "id": "TjQndw64Qy4fW3pJ8kMsazwfZDd8RTBj"
                  }
                ],
                "id": "YeFFbX58AmYYBjJxkXEYiiaAm4KcmT2d"
              },
              {
                "class": "box-footer",
                "type": "box-footer",
                "children": [
                  {
                    "type": "column",
                    "col": 12,
                    "children": [],
                    "id": "ZS34CpF5n2f5CiJ83TFtbHKYnnsMhGNb"
                  }
                ],
                "id": "HQ34inEnt8mtnjFTFEzWtSXKSwGdPsK3"
              }
            ],
            "id": "KCMkYHwrZQABEzP6cn8KWpRiMctcQHwt"
          }
        ],
        "col": 12,
        "id": "7iF6YfPeRaryTHWYCnPrCQ2CZTraQ6rS"
      },
      "id": "1",
      "$$hashKey": "object:4574"
    },
    {
      "label": "按时间分布数据",
      "path": "drawechart",
      "layout": {
        "type": "column",
        "children": [
          {
            "type": "row",
            "source": "ROW",
            "parameters": {
              "alignment": "bootstrap"
            },
            "style": {},
            "children": [
              {
                "type": "column",
                "children": [
                  {
                    "label": "控制板1",
                    "type": "block",
                    "source": "BLOCK",
                    "style": {
                      "padding": "5px",
                      "margin": "5px",
                      "border": "1px solid #eee",
                      "background-color": "rgb(255, 255, 255)"
                    },
                    "advance": {
                      "expression": {}
                    },
                    "children": [
                      {
                        "type": "column",
                        "col": 12,
                        "children": [
                          {
                            "label": "文字",
                            "type": "text",
                            "source": "TEXT",
                            "help": "http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D",
                            "data": {
                              "applied": false,
                              "multipleCi": false,
                              "multipleKpi": false,
                              "resource": [],
                              "modelType": 300,
                              "resfilltype": "parameter",
                              "series": {
                                "manual": "新建文字",
                                "bind": "(function (source){\n  var formatter=function(elem){\n    return elem.value\n   }\n  return source.ci.getSeries(formatter);\n})"
                              },
                              "modelDisable": true
                            },
                            "style": {
                              "margin": "5px",
                              "padding": "10px",
                              "font-size": "12px",
                              "font-weight": "bold",
                              "color": "rgb(255, 0, 0)"
                            },
                            "advance": {
                              "getfunction": "kpiDataService.getValueList",
                              "category": "ci",
                              "condition": [
                                "kpi",
                                "{object:kpiQueryModel}"
                              ],
                              "expression": "expression = {\n    on : {\n        init : function(event){\n            var target = event.target;\n            target.setText(\"适用于线图柱图等有坐标轴的视图\")\n        }\n    }\n}"
                            },
                            "template": [
                              {
                                "type": "text",
                                "style": {
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "10px",
                                  "font-weight": "bold",
                                  "color": "#333"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "16px",
                                  "font-weight": "bold",
                                  "color": "#666",
                                  "text-align": "center"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "width": "60px",
                                  "height": "60px",
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "12px",
                                  "line-height": "60px",
                                  "font-weight": "bold",
                                  "color": "#fff",
                                  "text-align": "center",
                                  "border-radius": "50%",
                                  "background-color": "#3c8dbc"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "width": "140px",
                                  "height": "60px",
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "12px",
                                  "line-height": "60px",
                                  "font-weight": "bold",
                                  "color": "#fff",
                                  "text-align": "center",
                                  "border-radius": "4px",
                                  "background-color": "#3c8dbc"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "width": "140px",
                                  "height": "60px",
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "12px",
                                  "line-height": "60px",
                                  "font-weight": "bold",
                                  "color": "#444",
                                  "text-align": "center",
                                  "border-radius": "4px",
                                  "background-color": "#eee"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "margin": "auto",
                                  "padding": "5px",
                                  "font-size": "18px",
                                  "font-weight": "bold",
                                  "color": "#444",
                                  "text-align": "center",
                                  "border-radius": "0px",
                                  "background-color": "#eee"
                                }
                              }
                            ],
                            "id": "XQWmCYJRWjx8PJK3SBC8GPejmr5k5MXA"
                          }
                        ],
                        "id": "kRRWQPr3ht5YyNSaWErTwfdjd4QBCEc2"
                      }
                    ],
                    "template": [
                      {
                        "type": "css",
                        "style": {
                          "padding": "10px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "padding": "5px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff",
                          "border-top": "0"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#efdcaf",
                          "border": "1px solid #c2ad7a"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#f0c0a4",
                          "border": "1px solid #e5671b"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#ffb3b3",
                          "border": "1px solid #db2222"
                        }
                      }
                    ],
                    "id": "TX7F3stpesrKyebcSerdJnNCwzWrk7s4"
                  },
                  {
                    "label": "控制板2",
                    "type": "box",
                    "class": "box box-info",
                    "source": "BOX",
                    "parameters": {
                      "title": "字段"
                    },
                    "style": {
                      "font-size": "12px",
                      "font-weight": "bold",
                      "text-align": "left",
                      "margin": "5px"
                    },
                    "children": [
                      {
                        "class": "box-body",
                        "type": "box-body",
                        "children": [
                          {
                            "type": "column",
                            "col": 12,
                            "children": [
                              {
                                "label": "控件组",
                                "type": "ctrlgroup",
                                "source": "CTRLGROUP",
                                "advance": {
                                  "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var list = [];\n      var render = function(){\n        target.setValue(\"reskpiList\", list);\n        var content = [];\n        for(var i in list){\n          (function(index){\n            var rs = [{\n              type : \"label\",\n              value : list[index].model.label,\n              class : \"col-md-4\",\n              style : {\n                \"text-align\" : \"center\"\n              },\n            },{\n              type : \"label\",\n              value : list[index].resource.label,\n              class : \"col-md-3\",\n              style : {\n                \"text-align\" : \"center\"\n              },\n            },{\n              type : \"label\",\n              value : list[index].kpi.label,\n              class : \"col-md-3\",\n              style : {\n                \"text-align\" : \"center\"\n              },\n            },{\n              type : \"buttonGroup\",\n              style : {\n                \"text-align\" : \"right\"\n              },\n              content : [{\n                value : \"\",\n                icon : \"glyphicon glyphicon-edit\",\n                btnclass : \"btn btn-default\",\n                class : \"col-md-2\",\n                style : {\n                  \"text-align\" : \"center\"\n                },\n                on : {\n                  click : function(elem){\n                    target.createPopupBypath(\"popup\", {\n                      top : \"15%\",\n                      left : \"15%\",\n                      width : \"50%\",\n                      on : {\n                        submit : function(event){\n                          list.splice(index, 1, event);\n                          render();\n                        },\n                        cancel : function(event){\n\n                        }\n                      }\n                    }, list[index]);\n                  }\n                }\n              },{\n                value : \"\",\n                icon : \"glyphicon glyphicon-minus\",\n                btnclass : \"btn btn-default\",\n                class : \"col-md-2\",\n                style : {\n                  \"text-align\" : \"center\"\n                },\n                on : {\n                  click : function(elem){\n                    list.splice(index, 1);\n                    render();\n                  }\n                }\n              }]\n            }];\n            content.push(rs);\n          })(i);\n        }\n        var ctrlGroups = [\n          [{\n            type : \"buttonGroup\",\n            class : \"col-md-12\",\n            colSpan : 4,\n            content : [{\n                value : \"添加字段\",\n                icon : \"glyphicon glyphicon-plus\",\n                btnclass : \"btn btn-primary\",\n                on : {\n                  click : function(elem){\n                    target.createPopupBypath(\"popup\", {\n                      top : \"15%\",\n                      left : \"15%\",\n                      width : \"50%\",\n                      on : {\n                        submit : function(event){\n                          //target.console(event);\n                          list.push(event);\n                          render();\n                        },\n                        cancel : function(event){\n    \n                        }\n                      }\n                    }, {\n                      text : \"123123123\"\n                    })\n                  }\n                }\n            },{\n                value : \"全部清除\",\n                icon : \"glyphicon glyphicon-trash\",\n                btnclass : \"btn btn-default\",\n                on : {\n                  click : function(elem){\n                    list = [];\n                    render();\n                  }\n                }\n            }]\n          }],\n          [{\n            type : \"label\",\n            value : \"模型\",\n            class : \"col-md-4\",\n            style : {\n              \"background-color\" : \"#eee\",\n              padding : \"4px\",\n              \"text-align\" : \"center\"\n            }\n          },{\n            type : \"label\",\n            value : \"设备\",\n            class : \"col-md-3\",\n            style : {\n              \"background-color\" : \"#eee\",\n              padding : \"4px\",\n              \"text-align\" : \"center\"\n            }\n          },{\n            type : \"label\",\n            value : \"指标\",\n            class : \"col-md-3\",\n            style : {\n              \"background-color\" : \"#eee\",\n              padding : \"4px\",\n              \"text-align\" : \"center\"\n            }\n          },{\n            type : \"label\",\n            value : \"控制\",\n            class : \"col-md-3\",\n            style : {\n              \"background-color\" : \"#eee\",\n              padding : \"3px\",\n              \"text-align\" : \"center\"\n            }\n          }]\n        ];\n        ctrlGroups = ctrlGroups.concat(content);\n        //target.console(ctrlGroups);\n        event.target.render(ctrlGroups);\n      }\n      target.getEditorStatus(\"TIMEDATACHART\", function(status){\n          list = status.reskpiList || [];\n          render();\n      });\n    }\n  }\n}"
                                },
                                "style": {
                                  "margin": "5px",
                                  "font-size": "12px"
                                },
                                "help": "../pdf/ctrlgroup.pdf",
                                "template": [
                                  {
                                    "label": "普通按钮",
                                    "type": "ctrlgroup",
                                    "source": "CTRLGROUP",
                                    "advance": {
                                      "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "font-size": "12px"
                                    },
                                    "parameters": {},
                                    "url": "images/map/map1.png"
                                  },
                                  {
                                    "label": "设备，项目，客户下拉",
                                    "type": "ctrlgroup",
                                    "source": "CTRLGROUP",
                                    "advance": {
                                      "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "font-size": "12px"
                                    },
                                    "parameters": {},
                                    "url": "images/map/map1.png"
                                  },
                                  {
                                    "label": "竖排组件功能组件",
                                    "type": "ctrlgroup",
                                    "source": "CTRLGROUP",
                                    "advance": {
                                      "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "font-size": "12px"
                                    },
                                    "url": "images/map/map1.png"
                                  },
                                  {
                                    "label": "项目，管理域,提交按钮",
                                    "type": "ctrlgroup",
                                    "source": "CTRLGROUP",
                                    "advance": {
                                      "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "font-size": "12px",
                                      "width": "100%"
                                    },
                                    "url": "images/map/map1.png"
                                  }
                                ],
                                "id": "MBPcPzdjMHzkJGbBTR6whJwtBBTpZPkP"
                              }
                            ],
                            "id": "nBMC6Ty7X7ft5pXCypBPECQ3ZFbss44e"
                          }
                        ],
                        "id": "b6yitz4Jz73YrMQMD543465kyGsn78SJ"
                      },
                      {
                        "class": "box-footer",
                        "type": "box-footer",
                        "children": [
                          {
                            "type": "column",
                            "col": 12,
                            "children": [],
                            "id": "hDDpnd6jmMjmFBTepaaw8Epka5pzA4rC"
                          }
                        ],
                        "id": "WCd4kFwzPCJF6WsbyXRFJb8ky6rFFfmQ"
                      }
                    ],
                    "advance": {},
                    "id": "MybhBwNY6s5yXfW8nhmyAGWa7wnf8ND3"
                  },
                  {
                    "label": "控制板2",
                    "type": "box",
                    "class": "box box-info",
                    "source": "BOX",
                    "parameters": {
                      "title": "基础设置"
                    },
                    "style": {
                      "font-size": "12px",
                      "font-weight": "bold",
                      "text-align": "left",
                      "margin": "5px"
                    },
                    "children": [
                      {
                        "class": "box-body",
                        "type": "box-body",
                        "children": [
                          {
                            "type": "column",
                            "col": 12,
                            "children": [
                              {
                                "label": "控制板1",
                                "type": "block",
                                "source": "BLOCK",
                                "style": {
                                  "padding": "5px",
                                  "margin": "5px",
                                  "background-color": "#fff"
                                },
                                "advance": {
                                  "expression": {}
                                },
                                "children": [
                                  {
                                    "type": "column",
                                    "col": 12,
                                    "children": [
                                      {
                                        "label": "控件组",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    init: function(event){\n      var target = event.target;\n      var global = event.global;\n      var timePeriod;\n      var dataHandlerOp = target.getDataHandlers();\n      var render = function(){\n        var ctrlGroups = [\n          [{\n            type : \"label\",\n            value : \"数据时段\",\n            style : {\n              \"text-align\" : \"center\"\n            },\n            class : \"col-md-2\"\n          },{\n            type : \"select\",\n            value : target.getValue(\"timeSelType\"),\n            on : {\n              change : function(elem){\n                target.setValue(\"timeSelType\", elem.value.id);\n                render();\n              }\n            },\n            options : [{\n              id : 0,\n              label : \"从XX到XX的所有数据\"\n            },{\n              id : 1,\n              label : \"从XX到当前的所有数据\"\n            }],\n            format : {\n              \"id\" : \"id\",\n              \"label\" : \"label\"\n            }\n          }]\n        ];\n        if(target.getValue(\"timeSelType\") == 1){\n          var STARTFROM = [{\n            type : \"label\",\n            value : \"开始时间\",\n            style : {\n              \"text-align\" : \"center\"\n            }\n          },{\n            value : timePeriod,\n            type : \"datePicker\",\n            on : {\n              change : function(elem){\n                target.setValue(\"timePeriod\", elem.value);\n              }\n            }\n          }];\n          ctrlGroups.push(STARTFROM);\n        } else if(target.getValue(\"timeSelType\") == 0){\n          var FROMTO = [{\n            type : \"label\",\n            value : \"开始及结束时间\",\n            style : {\n              \"text-align\" : \"center\"\n            }\n          },{\n            type : \"dateRangePicker\",\n            value : timePeriod,\n            on : {\n              change : function(elem){\n                target.setValue(\"timePeriod\", elem.value);\n              }\n            }\n          }];\n          ctrlGroups.push(FROMTO);\n        }\n\n        event.target.render(ctrlGroups);\n      }\n      target.getEditorStatus(\"TIMEDATACHART\", function(status){\n        timePeriod = status.timePeriod || \"\";\n        target.setValue(\"timePeriod\", timePeriod);\n        if(typeof timePeriod == \"string\"){\n          target.setValue(\"timeSelType\", 1);\n        } else {\n          target.setValue(\"timeSelType\", 0);\n        }\n        render();\n      });\n    }\n  }\n}",
                                          "variable": ""
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "help": "../pdf/ctrlgroup.pdf",
                                        "parameters": {},
                                        "template": [
                                          {
                                            "label": "普通按钮",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "parameters": {},
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "设备，项目，客户下拉",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "parameters": {},
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "竖排组件功能组件",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "项目，管理域,提交按钮",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px",
                                              "width": "100%"
                                            },
                                            "url": "images/map/map1.png"
                                          }
                                        ],
                                        "id": "GYEMFHJiKQRHGwtkPPnpTAQJ3RPDZf4X"
                                      }
                                    ],
                                    "id": "NS4xDhsajTxHhK68bdESeaHp3xYBwPDk"
                                  }
                                ],
                                "parameters": {},
                                "template": [
                                  {
                                    "type": "css",
                                    "style": {
                                      "padding": "10px",
                                      "margin": "5px",
                                      "border": "1px solid #ccc",
                                      "background-color": "#fff"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "padding": "5px",
                                      "margin": "5px",
                                      "border": "1px solid #ccc",
                                      "background-color": "#fff",
                                      "border-top": "0"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#efdcaf",
                                      "border": "1px solid #c2ad7a"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#f0c0a4",
                                      "border": "1px solid #e5671b"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#ffb3b3",
                                      "border": "1px solid #db2222"
                                    }
                                  }
                                ],
                                "id": "z5aSnSX4ZQYccA22nTQfQQH4Ki73ZwXy"
                              }
                            ],
                            "id": "TJbjna3amEpJPRrCPjGhcxFAdfrchpbY"
                          }
                        ],
                        "id": "aNKS3NHyeRi7WeEyRfQrNwRYwhEf86zK"
                      },
                      {
                        "class": "box-footer",
                        "type": "box-footer",
                        "children": [
                          {
                            "type": "column",
                            "col": 12,
                            "children": [],
                            "id": "3D6eTDeAbEkQHGRzD8d7AP32b2NGmBWd"
                          }
                        ],
                        "id": "2tCzs8dinBhcd8hRTzPDDJNamTDCtKQA"
                      }
                    ],
                    "advance": {},
                    "id": "ykRcrnw4mjKyk3Kxka73XAjyXNsR8KDm"
                  },
                  {
                    "label": "控制板2",
                    "type": "box",
                    "class": "box box-info",
                    "source": "BOX",
                    "parameters": {
                      "title": "高级设置"
                    },
                    "style": {
                      "font-size": "12px",
                      "font-weight": "bold",
                      "text-align": "left",
                      "margin": "5px"
                    },
                    "children": [
                      {
                        "class": "box-body",
                        "type": "box-body",
                        "children": [
                          {
                            "type": "column",
                            "col": 12,
                            "children": [
                              {
                                "label": "控制板1",
                                "type": "block",
                                "source": "BLOCK",
                                "style": {
                                  "padding": "5px",
                                  "margin": "5px",
                                  "background-color": "#fff"
                                },
                                "advance": {
                                  "expression": {}
                                },
                                "children": [
                                  {
                                    "type": "column",
                                    "col": 12,
                                    "children": [
                                      {
                                        "label": "控件组",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    changeAdvance : function(event){\n      var target = event.target;\n      var global = event.global;\n      if(!target.getValue(\"mergeType\")){\n        target.setValue(\"mergeType\", 0)\n      }\n      if(!target.getValue(\"keepVal\")){\n        target.setValue(\"keepVal\", 0)\n      }\n      var KEEPVAL = [{\n          type : \"label\",\n          value : \"将合并的数据\",\n          style : {\n            \"text-align\" : \"center\"\n          },\n          class : \"col-md-3\"\n        },{\n          type : \"select\",\n          value : target.getValue(\"keepVal\"),\n          on : {\n            change : function(elem){\n              target.setValue(\"keepVal\", elem.value.id);\n            }\n          },\n          class : \"col-md-9\",\n          options : [{\n            id : 0,\n            label : \"只要最开始的数据后面丢掉\"\n          },{\n            id : 1,\n            label : \"只要最末位的数据前面丢掉\"\n          },{\n            id : 2,\n            label : \"取平均值\"\n          },{\n            id : 3,\n            label : \"累加求和\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }];\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"合并数据\",\n          style : {\n            \"text-align\" : \"center\"\n          },\n          class : \"col-md-3\"\n        },{\n          type : \"select\",\n          value : target.getValue(\"mergeType\"),\n          on : {\n            change : function(elem){\n              target.setValue(\"mergeType\", elem.value.id);\n              global.fire(\"changeAdvance\");\n            }\n          },\n          class : \"col-md-9\",\n          options : [{\n            id : 0,\n            label : \"不合并展示全部\"\n          },{\n            id : 1,\n            label : \"每天的数据合并\"\n          },{\n            id : 2,\n            label : \"每月的数据合并\"\n          },{\n            id : 2,\n            label : \"每年的数据合并\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }]\n      ];\n      if(target.getValue(\"mergeType\") != 0){\n            ctrlGroups.push(KEEPVAL);\n        }\n      target.render(ctrlGroups);\n    },\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      global.fire(\"changeAdvance\");\n    }\n  }\n}",
                                          "variable": ""
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "help": "../pdf/ctrlgroup.pdf",
                                        "parameters": {},
                                        "template": [
                                          {
                                            "label": "普通按钮",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "parameters": {},
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "设备，项目，客户下拉",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "parameters": {},
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "竖排组件功能组件",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px"
                                            },
                                            "url": "images/map/map1.png"
                                          },
                                          {
                                            "label": "项目，管理域,提交按钮",
                                            "type": "ctrlgroup",
                                            "source": "CTRLGROUP",
                                            "advance": {
                                              "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                            },
                                            "style": {
                                              "margin": "5px",
                                              "font-size": "12px",
                                              "width": "100%"
                                            },
                                            "url": "images/map/map1.png"
                                          }
                                        ],
                                        "id": "jTeBJmQXmGJAr8chHthNYbWEWxx65C8G"
                                      }
                                    ],
                                    "id": "RADjQhcNkp3xjYfW6QFj3RrbMQa4F8Hx"
                                  }
                                ],
                                "parameters": {},
                                "template": [
                                  {
                                    "type": "css",
                                    "style": {
                                      "padding": "10px",
                                      "margin": "5px",
                                      "border": "1px solid #ccc",
                                      "background-color": "#fff"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "padding": "5px",
                                      "margin": "5px",
                                      "border": "1px solid #ccc",
                                      "background-color": "#fff",
                                      "border-top": "0"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#efdcaf",
                                      "border": "1px solid #c2ad7a"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#f0c0a4",
                                      "border": "1px solid #e5671b"
                                    }
                                  },
                                  {
                                    "type": "css",
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "background-color": "#ffb3b3",
                                      "border": "1px solid #db2222"
                                    }
                                  }
                                ],
                                "id": "f7xsDGzMHpmwhNX68EnhXYQmwTRrRFTe"
                              }
                            ],
                            "id": "DwdG75MEFaNaS7wfnKXcWn8wXHEbQf36"
                          }
                        ],
                        "id": "JejCZKfWEXnM83jDFMjBFKz2mb8NKAr4"
                      },
                      {
                        "class": "box-footer",
                        "type": "box-footer",
                        "children": [
                          {
                            "type": "column",
                            "col": 12,
                            "children": [],
                            "id": "zrpwJGtQXzZDyXkbjp8snSTeBkFAJ43K"
                          }
                        ],
                        "id": "Mj6ax7PtKh4TTRsrd8yCZ3hhmySEkQ2k"
                      }
                    ],
                    "advance": {},
                    "id": "bMwAfAJFSZnffYmndDhZCN5tADDw8tDR"
                  },
                  {
                    "label": "控件组",
                    "type": "ctrlgroup",
                    "source": "CTRLGROUP",
                    "advance": {
                      "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"button\",\n          value : \"生成数据\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-2\",\n          on : {\n            click : function(elem){\n              var reskpiList = target.getValue(\"reskpiList\");\n              var timePeriod = target.getValue(\"timePeriod\");\n              target.saveEditorStatus(\"TIMEDATACHART\", {\n                  reskpiList : reskpiList,\n                  timePeriod : timePeriod\n              })\n              global.fire(\"renderCode\");\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                    },
                    "style": {
                      "margin": "5px",
                      "font-size": "12px"
                    },
                    "help": "../pdf/ctrlgroup.pdf",
                    "parameters": {},
                    "template": [
                      {
                        "label": "普通按钮",
                        "type": "ctrlgroup",
                        "source": "CTRLGROUP",
                        "advance": {
                          "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                        },
                        "style": {
                          "margin": "5px",
                          "font-size": "12px"
                        },
                        "parameters": {},
                        "url": "images/map/map1.png"
                      },
                      {
                        "label": "设备，项目，客户下拉",
                        "type": "ctrlgroup",
                        "source": "CTRLGROUP",
                        "advance": {
                          "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                        },
                        "style": {
                          "margin": "5px",
                          "font-size": "12px"
                        },
                        "parameters": {},
                        "url": "images/map/map1.png"
                      },
                      {
                        "label": "竖排组件功能组件",
                        "type": "ctrlgroup",
                        "source": "CTRLGROUP",
                        "advance": {
                          "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                        },
                        "style": {
                          "margin": "5px",
                          "font-size": "12px"
                        },
                        "url": "images/map/map1.png"
                      },
                      {
                        "label": "项目，管理域,提交按钮",
                        "type": "ctrlgroup",
                        "source": "CTRLGROUP",
                        "advance": {
                          "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                        },
                        "style": {
                          "margin": "5px",
                          "font-size": "12px",
                          "width": "100%"
                        },
                        "url": "images/map/map1.png"
                      }
                    ],
                    "id": "Cx3mizMHZMxtJtbsDMfwDDbsDkzecRZk"
                  }
                ],
                "col": 6,
                "id": "nYPjxraHYyWmywHaeejBi5EzaAArXBbF"
              },
              {
                "type": "column",
                "children": [
                  {
                    "label": "控制板2",
                    "type": "box",
                    "class": "box box-info",
                    "source": "BOX",
                    "parameters": {
                      "title": "运算结果"
                    },
                    "style": {
                      "font-size": "12px",
                      "font-weight": "bold",
                      "text-align": "left",
                      "margin": "5px"
                    },
                    "children": [
                      {
                        "class": "box-body",
                        "type": "box-body",
                        "children": [
                          {
                            "type": "column",
                            "col": 12,
                            "children": [
                              {
                                "label": "TAB标签",
                                "type": "tab",
                                "source": "TAB",
                                "parameters": {
                                  "align": "horizental"
                                },
                                "style": {
                                  "margin": "5px"
                                },
                                "children": [
                                  {
                                    "tabName": "数据",
                                    "tabId": "0",
                                    "default": true,
                                    "display": "block",
                                    "type": "tabItem",
                                    "children": [
                                      {
                                        "label": "控制板1",
                                        "type": "block",
                                        "source": "BLOCK",
                                        "style": {
                                          "min-height": "300px",
                                          "padding": "15px",
                                          "border": "1px solid #ddd",
                                          "border-top": 0,
                                          "background-color": "#fff",
                                          "overflow": "auto"
                                        },
                                        "children": [
                                          {
                                            "type": "column",
                                            "col": 12,
                                            "children": [
                                              {
                                                "label": "控件组",
                                                "type": "ctrlgroup",
                                                "source": "CTRLGROUP",
                                                "advance": {
                                                  "expression": "expression = {\n  on : {\n    renderCode : function(event){\n      var target = event.target;\n      var global = event.global;\n      var reskpiList = target.getValue(\"reskpiList\");\n      var ctrlGroups = [];\n         var header = [{\n                type : \"label\",\n                value : \"时间\",\n                style : {\n                  \"text-align\" : \"center\",\n                  \"background-color\" : \"#eee\",\n                  \"padding\" : \"5px\"\n                }\n             }];\n         for(var i in reskpiList){\n             header.push({\n                type : \"label\",\n                value : reskpiList[i].resource.label + \",\" + reskpiList[i].kpi.label,\n                style : {\n                  \"text-align\" : \"center\",\n                  \"background-color\" : \"#eee\",\n                  \"padding\" : \"5px\"\n                }\n             })\n         };\n         ctrlGroups.push(header);\n         event.target.render(ctrlGroups);\n    }\n  }\n}"
                                                },
                                                "style": {
                                                  "margin": "5px",
                                                  "font-size": "12px"
                                                },
                                                "help": "../pdf/ctrlgroup.pdf",
                                                "parameters": {},
                                                "template": [
                                                  {
                                                    "label": "普通按钮",
                                                    "type": "ctrlgroup",
                                                    "source": "CTRLGROUP",
                                                    "advance": {
                                                      "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                                    },
                                                    "style": {
                                                      "margin": "5px",
                                                      "font-size": "12px"
                                                    },
                                                    "parameters": {},
                                                    "url": "images/map/map1.png"
                                                  },
                                                  {
                                                    "label": "设备，项目，客户下拉",
                                                    "type": "ctrlgroup",
                                                    "source": "CTRLGROUP",
                                                    "advance": {
                                                      "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                                    },
                                                    "style": {
                                                      "margin": "5px",
                                                      "font-size": "12px"
                                                    },
                                                    "parameters": {},
                                                    "url": "images/map/map1.png"
                                                  },
                                                  {
                                                    "label": "竖排组件功能组件",
                                                    "type": "ctrlgroup",
                                                    "source": "CTRLGROUP",
                                                    "advance": {
                                                      "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                                    },
                                                    "style": {
                                                      "margin": "5px",
                                                      "font-size": "12px"
                                                    },
                                                    "url": "images/map/map1.png"
                                                  },
                                                  {
                                                    "label": "项目，管理域,提交按钮",
                                                    "type": "ctrlgroup",
                                                    "source": "CTRLGROUP",
                                                    "advance": {
                                                      "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                                    },
                                                    "style": {
                                                      "margin": "5px",
                                                      "font-size": "12px",
                                                      "width": "100%"
                                                    },
                                                    "url": "images/map/map1.png"
                                                  }
                                                ],
                                                "id": "XicB4dpcWZts8xiMxwB483yDEeDz4QYT"
                                              },
                                              {
                                                "label": "控制板1",
                                                "type": "block",
                                                "source": "BLOCK",
                                                "style": {
                                                  "background-color": "#fff",
                                                  "max-height": "500px",
                                                  "overflow": "auto"
                                                },
                                                "advance": {
                                                  "expression": {}
                                                },
                                                "children": [
                                                  {
                                                    "type": "column",
                                                    "col": 12,
                                                    "children": [
                                                      {
                                                        "label": "控件组",
                                                        "type": "ctrlgroup",
                                                        "source": "CTRLGROUP",
                                                        "advance": {
                                                          "expression": "expression = {\n  on : {\n    renderCode : function(event){\n      var target = event.target;\n      var global = event.global;\n      var reskpiList = target.getValue(\"reskpiList\");\n      var timePeriod = target.getValue(\"timePeriod\");\n      var nodeIds = reskpiList.map(function(elem){\n          return elem.resource.id\n      });\n      var kpiIds = reskpiList.map(function(elem){\n          return elem.kpi.id\n      });\n      startTime = new Date(timePeriod).getTime();\n      endTime = new Date().getTime();\n      target.getKpiValueList(nodeIds, kpiIds, (endTime - startTime), function(valueList){\n         var ctrlGroups = [];\n         var list = target.splitData(valueList);\n         for(var i in list.times){\n            var rs = [];\n            rs.push({\n                    type : \"label\",\n                    value : list.times[i],\n                    style : {\n                        \"text-align\" : \"center\"\n                    }\n                });\n            for(var j in reskpiList){\n                 var nodeId = reskpiList[j].resource.id;\n                 var kpiId = reskpiList[j].kpi.id;\n                 rs.push({\n                     type : \"label\",\n                     value : list[nodeId + \":\" + kpiId][i].value,\n                    style : {\n                        \"text-align\" : \"center\"\n                    }\n                 });\n            };\n            ctrlGroups.push(rs);\n         };\n         event.target.render(ctrlGroups);\n      });\n    }\n  }\n}"
                                                        },
                                                        "style": {
                                                          "margin": "5px",
                                                          "font-size": "12px"
                                                        },
                                                        "help": "../pdf/ctrlgroup.pdf",
                                                        "parameters": {},
                                                        "template": [
                                                          {
                                                            "label": "普通按钮",
                                                            "type": "ctrlgroup",
                                                            "source": "CTRLGROUP",
                                                            "advance": {
                                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                                            },
                                                            "style": {
                                                              "margin": "5px",
                                                              "font-size": "12px"
                                                            },
                                                            "parameters": {},
                                                            "url": "images/map/map1.png"
                                                          },
                                                          {
                                                            "label": "设备，项目，客户下拉",
                                                            "type": "ctrlgroup",
                                                            "source": "CTRLGROUP",
                                                            "advance": {
                                                              "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                                            },
                                                            "style": {
                                                              "margin": "5px",
                                                              "font-size": "12px"
                                                            },
                                                            "parameters": {},
                                                            "url": "images/map/map1.png"
                                                          },
                                                          {
                                                            "label": "竖排组件功能组件",
                                                            "type": "ctrlgroup",
                                                            "source": "CTRLGROUP",
                                                            "advance": {
                                                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                                            },
                                                            "style": {
                                                              "margin": "5px",
                                                              "font-size": "12px"
                                                            },
                                                            "url": "images/map/map1.png"
                                                          },
                                                          {
                                                            "label": "项目，管理域,提交按钮",
                                                            "type": "ctrlgroup",
                                                            "source": "CTRLGROUP",
                                                            "advance": {
                                                              "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                                            },
                                                            "style": {
                                                              "margin": "5px",
                                                              "font-size": "12px",
                                                              "width": "100%"
                                                            },
                                                            "url": "images/map/map1.png"
                                                          }
                                                        ],
                                                        "id": "KSeYt5MztjnfXyxTSTsS2fDrtyKXFeFP"
                                                      }
                                                    ],
                                                    "id": "kmtHrYpzadrhKjT87mTQJpFzfp2xjbfW"
                                                  }
                                                ],
                                                "template": [
                                                  {
                                                    "type": "css",
                                                    "style": {
                                                      "padding": "10px",
                                                      "margin": "5px",
                                                      "border": "1px solid #ccc",
                                                      "background-color": "#fff"
                                                    }
                                                  },
                                                  {
                                                    "type": "css",
                                                    "style": {
                                                      "padding": "5px",
                                                      "margin": "5px",
                                                      "border": "1px solid #ccc",
                                                      "background-color": "#fff",
                                                      "border-top": "0"
                                                    }
                                                  },
                                                  {
                                                    "type": "css",
                                                    "style": {
                                                      "margin": "5px",
                                                      "padding": "5px",
                                                      "background-color": "#efdcaf",
                                                      "border": "1px solid #c2ad7a"
                                                    }
                                                  },
                                                  {
                                                    "type": "css",
                                                    "style": {
                                                      "margin": "5px",
                                                      "padding": "5px",
                                                      "background-color": "#f0c0a4",
                                                      "border": "1px solid #e5671b"
                                                    }
                                                  },
                                                  {
                                                    "type": "css",
                                                    "style": {
                                                      "margin": "5px",
                                                      "padding": "5px",
                                                      "background-color": "#ffb3b3",
                                                      "border": "1px solid #db2222"
                                                    }
                                                  }
                                                ],
                                                "id": "nTiw6ZGtzDax2ht7szAtS8AF2mh7HpPC"
                                              }
                                            ],
                                            "id": "kXEEiAZ5ai4ySaweyJb6Tr8rWCrErDPy"
                                          }
                                        ],
                                        "advance": {
                                          "expression": {}
                                        },
                                        "template": [
                                          {
                                            "type": "css",
                                            "style": {
                                              "padding": "10px",
                                              "margin": "5px",
                                              "border": "1px solid #ccc",
                                              "background-color": "#fff"
                                            }
                                          },
                                          {
                                            "type": "css",
                                            "style": {
                                              "padding": "5px",
                                              "margin": "5px",
                                              "border": "1px solid #ccc",
                                              "background-color": "#fff",
                                              "border-top": "0"
                                            }
                                          },
                                          {
                                            "type": "css",
                                            "style": {
                                              "margin": "5px",
                                              "padding": "5px",
                                              "background-color": "#efdcaf",
                                              "border": "1px solid #c2ad7a"
                                            }
                                          },
                                          {
                                            "type": "css",
                                            "style": {
                                              "margin": "5px",
                                              "padding": "5px",
                                              "background-color": "#f0c0a4",
                                              "border": "1px solid #e5671b"
                                            }
                                          },
                                          {
                                            "type": "css",
                                            "style": {
                                              "margin": "5px",
                                              "padding": "5px",
                                              "background-color": "#ffb3b3",
                                              "border": "1px solid #db2222"
                                            }
                                          }
                                        ],
                                        "id": "DwefCYfXpTzyHC5K2RKHbRtaEDGRA7se"
                                      }
                                    ],
                                    "id": "kTfTpPfDHJxtxfS5JFfrZekGbEirBcB7"
                                  },
                                  {
                                    "tabName": "代码",
                                    "tabId": "1",
                                    "type": "tabItem",
                                    "display": "none",
                                    "children": [
                                      {
                                        "label": "控制板1",
                                        "type": "block",
                                        "source": "BLOCK",
                                        "style": {
                                          "min-height": "300px",
                                          "padding": "15px",
                                          "border": "1px solid #ddd",
                                          "border-top": 0,
                                          "background-color": "#fff"
                                        },
                                        "children": [
                                          {
                                            "type": "column",
                                            "col": 12,
                                            "children": [
                                              {
                                                "label": "代码编辑器",
                                                "type": "aceeditor",
                                                "source": "ACEEDITOR",
                                                "style": {
                                                  "margin": "5px",
                                                  "padding": "0",
                                                  "height": "600px"
                                                },
                                                "advance": {
                                                  "expression": "expression = {\n    on : {\n        renderList : function(event){\n            var target = event.target;\n            var global = event.global;\n            var params = event.params;\n            target.setText(JSON.stringify(params));\n        }\n    }\n}"
                                                },
                                                "parameters": {},
                                                "id": "3X6zwaeC7HmkdXMeBTRcxX7njJyBZXpD"
                                              }
                                            ],
                                            "id": "2YPMsAesHMQAk7fMS6pFADQZHiXYyHfz"
                                          }
                                        ],
                                        "advance": {
                                          "expression": {}
                                        },
                                        "template": [
                                          {
                                            "type": "css",
                                            "style": {
                                              "padding": "10px",
                                              "margin": "5px",
                                              "border": "1px solid #ccc",
                                              "background-color": "#fff"
                                            }
                                          },
                                          {
                                            "type": "css",
                                            "style": {
                                              "padding": "5px",
                                              "margin": "5px",
                                              "border": "1px solid #ccc",
                                              "background-color": "#fff",
                                              "border-top": "0"
                                            }
                                          },
                                          {
                                            "type": "css",
                                            "style": {
                                              "margin": "5px",
                                              "padding": "5px",
                                              "background-color": "#efdcaf",
                                              "border": "1px solid #c2ad7a"
                                            }
                                          },
                                          {
                                            "type": "css",
                                            "style": {
                                              "margin": "5px",
                                              "padding": "5px",
                                              "background-color": "#f0c0a4",
                                              "border": "1px solid #e5671b"
                                            }
                                          },
                                          {
                                            "type": "css",
                                            "style": {
                                              "margin": "5px",
                                              "padding": "5px",
                                              "background-color": "#ffb3b3",
                                              "border": "1px solid #db2222"
                                            }
                                          }
                                        ],
                                        "id": "iRJ5nwQy2D77kfPDWx7ChpndxRw2mZHf"
                                      }
                                    ],
                                    "id": "6aHXnWjK6JHzk4zepzMD77jN5twjccSk"
                                  }
                                ],
                                "advance": {},
                                "id": "pdKAC6AsRcGcRhhXBFHeY8Gb6BGASmiD"
                              }
                            ],
                            "id": "jsJ7hcGfbRbpG3XFpG5TFTZm6Xm25dKx"
                          }
                        ],
                        "id": "yPZyscpQnwpCdrK6KZKiPMrAfBxQrjWp"
                      },
                      {
                        "class": "box-footer",
                        "type": "box-footer",
                        "children": [
                          {
                            "type": "column",
                            "col": 12,
                            "children": [],
                            "id": "NQiEFZdnPJWCNishERWtYQdtjcixpz5X"
                          }
                        ],
                        "id": "4QKRWNy6yN8dPfSJSyzhRXHxmPw6AMXn"
                      }
                    ],
                    "advance": {},
                    "id": "SZEHYmEBk8YMkh5neZxdeJXDWPH6x6CP"
                  }
                ],
                "col": 6,
                "id": "Wic7krYr257cSYAPzzjCsr6j8CsaER6f"
              }
            ],
            "id": "4TDRWfRS2HnSzWmdFdE3d6MQC82AFCnM"
          }
        ],
        "col": 12,
        "id": "CmKNdZCryYAtJiywsZ8x5yiDMfMcCjTX"
      },
      "id": "2",
      "$$hashKey": "object:4598"
    },
    {
      "label": "API调用",
      "path": "apicall",
      "layout": {
        "type": "column",
        "children": [
          {
            "label": "文字",
            "type": "text",
            "source": "TEXT",
            "help": "http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D",
            "data": {
              "applied": false,
              "kpi": [],
              "modelType": 300,
              "resfilltype": "parameter",
              "resource": [],
              "multipleCi": false,
              "multipleKpi": false,
              "series": {
                "manual": "API调用",
                "bind": "(function (source){\n  var formatter=function(elem){\n    return elem.value\n   }\n  return source.ci.getSeries(formatter);\n})"
              },
              "modelDisable": true
            },
            "style": {
              "margin": "5px",
              "padding": "10px",
              "font-size": "20px",
              "font-weight": "bold"
            },
            "advance": {
              "getfunction": "kpiDataService.getValueList",
              "category": "ci",
              "condition": [
                "kpi",
                "{object:kpiQueryModel}"
              ],
              "expression": "expression = {\n    on : {\n        init : function(event){\n            var target = event.target;\n            target.setText(\"API调用\")\n        }\n    }\n}"
            },
            "url": "images/map/map1.png",
            "template": [
              {
                "type": "text",
                "style": {
                  "margin": "auto",
                  "padding": "0",
                  "font-size": "10px",
                  "font-weight": "bold",
                  "color": "#333"
                }
              },
              {
                "type": "text",
                "style": {
                  "margin": "auto",
                  "padding": "0",
                  "font-size": "16px",
                  "font-weight": "bold",
                  "color": "#666",
                  "text-align": "center"
                }
              },
              {
                "type": "text",
                "style": {
                  "width": "60px",
                  "height": "60px",
                  "margin": "auto",
                  "padding": "0",
                  "font-size": "12px",
                  "line-height": "60px",
                  "font-weight": "bold",
                  "color": "#fff",
                  "text-align": "center",
                  "border-radius": "50%",
                  "background-color": "#3c8dbc"
                }
              },
              {
                "type": "text",
                "style": {
                  "width": "140px",
                  "height": "60px",
                  "margin": "auto",
                  "padding": "0",
                  "font-size": "12px",
                  "line-height": "60px",
                  "font-weight": "bold",
                  "color": "#fff",
                  "text-align": "center",
                  "border-radius": "4px",
                  "background-color": "#3c8dbc"
                }
              },
              {
                "type": "text",
                "style": {
                  "width": "140px",
                  "height": "60px",
                  "margin": "auto",
                  "padding": "0",
                  "font-size": "12px",
                  "line-height": "60px",
                  "font-weight": "bold",
                  "color": "#444",
                  "text-align": "center",
                  "border-radius": "4px",
                  "background-color": "#eee"
                }
              },
              {
                "type": "text",
                "style": {
                  "margin": "auto",
                  "padding": "5px",
                  "font-size": "18px",
                  "font-weight": "bold",
                  "color": "#444",
                  "text-align": "center",
                  "border-radius": "0px",
                  "background-color": "#eee"
                }
              }
            ],
            "id": "HXhMBAY4d6hmT8fDpN6d2MjbnN5tHAzn"
          },
          {
            "type": "row",
            "source": "ROW",
            "parameters": {
              "alignment": "bootstrap"
            },
            "style": {},
            "children": [
              {
                "type": "column",
                "children": [
                  {
                    "label": "控制板1",
                    "type": "block",
                    "source": "BLOCK",
                    "style": {
                      "padding": "5px",
                      "margin": "5px",
                      "border": "1px solid #ccc",
                      "background": "#fff",
                      "box-shadow": "1px 1px 10px 1px rgba(0,0,0,.1)"
                    },
                    "children": [
                      {
                        "type": "column",
                        "col": 12,
                        "children": [
                          {
                            "label": "控件组",
                            "type": "ctrlgroup",
                            "source": "CTRLGROUP",
                            "advance": {
                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n            type : \"label\",\n            value : \"通过选择设备指标生成表达式\",\n            class : \"col-md-10\"\n        },{\n          type : \"button\",\n          value : \"生成表达式\",\n          class : \"col-md-2\",\n          btnclass : \"btn btn-primary\",\n          btnStyle : {\n              float : \"right\"\n          },\n          on : {\n            click : function(event){\n                  console.log(target.getValue(\"model\"),target.getValue(\"resources\"), target.getValue(\"kpis\"));\n                  global.fire(\"apiChange2\", {\n                      params : target.getValue(\"params\"),\n                      funName : target.getValue(\"funName\"),\n                      model : target.getValue(\"model\"),\n                      resources : target.getValue(\"resources\"),\n                      kpis : target.getValue(\"kpis\")\n                  });\n              }\n          }\n        }]\n      ];\n      target.render(ctrlGroups);\n    }\n  }\n}",
                              "variable": ""
                            },
                            "style": {
                              "margin": "5px",
                              "font-size": "12px"
                            },
                            "help": "../pdf/ctrlgroup.pdf",
                            "parameters": {},
                            "abc": 4444,
                            "template": [
                              {
                                "label": "普通按钮",
                                "type": "ctrlgroup",
                                "source": "CTRLGROUP",
                                "advance": {
                                  "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                },
                                "style": {
                                  "margin": "5px",
                                  "font-size": "12px"
                                },
                                "parameters": {},
                                "url": "images/map/map1.png"
                              },
                              {
                                "label": "设备，项目，客户下拉",
                                "type": "ctrlgroup",
                                "source": "CTRLGROUP",
                                "advance": {
                                  "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                },
                                "style": {
                                  "margin": "5px",
                                  "font-size": "12px"
                                },
                                "parameters": {},
                                "url": "images/map/map1.png"
                              },
                              {
                                "label": "竖排组件功能组件",
                                "type": "ctrlgroup",
                                "source": "CTRLGROUP",
                                "advance": {
                                  "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                },
                                "style": {
                                  "margin": "5px",
                                  "font-size": "12px"
                                },
                                "url": "images/map/map1.png"
                              },
                              {
                                "label": "项目，管理域,提交按钮",
                                "type": "ctrlgroup",
                                "source": "CTRLGROUP",
                                "advance": {
                                  "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                },
                                "style": {
                                  "margin": "5px",
                                  "font-size": "12px",
                                  "width": "100%"
                                },
                                "url": "images/map/map1.png"
                              }
                            ],
                            "id": "Enme6bpYDrwM8JMTbXbJMnhZECWnF6Sz"
                          },
                          {
                            "label": "控制板1",
                            "type": "block",
                            "source": "BLOCK",
                            "style": {
                              "padding": "5px",
                              "margin": "5px",
                              "border": "1px solid #ddd",
                              "background-color": "#fff"
                            },
                            "advance": {
                              "expression": {}
                            },
                            "children": [
                              {
                                "type": "column",
                                "col": 12,
                                "children": [
                                  {
                                    "label": "文字",
                                    "type": "text",
                                    "source": "TEXT",
                                    "help": "http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D",
                                    "data": {
                                      "applied": false,
                                      "multipleCi": false,
                                      "multipleKpi": false,
                                      "resource": [],
                                      "modelType": 300,
                                      "resfilltype": "parameter",
                                      "series": {
                                        "manual": "新建文字",
                                        "bind": "(function (source){\n  var formatter=function(elem){\n    return elem.value\n   }\n  return source.ci.getSeries(formatter);\n})"
                                      },
                                      "modelDisable": true
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "font-size": "14px",
                                      "font-weight": "bold",
                                      "line-height": "30px",
                                      "background-color": "rgb(243, 243, 243)"
                                    },
                                    "advance": {
                                      "getfunction": "kpiDataService.getValueList",
                                      "category": "ci",
                                      "condition": [
                                        "kpi",
                                        "{object:kpiQueryModel}"
                                      ],
                                      "expression": "expression = {\n    on : {\n        init : function(event){\n            var target = event.target;\n            target.setText(\"查询API接口函数\")\n        }\n    }\n}"
                                    },
                                    "template": [
                                      {
                                        "type": "text",
                                        "style": {
                                          "margin": "auto",
                                          "padding": "0",
                                          "font-size": "10px",
                                          "font-weight": "bold",
                                          "color": "#333"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "style": {
                                          "margin": "auto",
                                          "padding": "0",
                                          "font-size": "16px",
                                          "font-weight": "bold",
                                          "color": "#666",
                                          "text-align": "center"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "style": {
                                          "width": "60px",
                                          "height": "60px",
                                          "margin": "auto",
                                          "padding": "0",
                                          "font-size": "12px",
                                          "line-height": "60px",
                                          "font-weight": "bold",
                                          "color": "#fff",
                                          "text-align": "center",
                                          "border-radius": "50%",
                                          "background-color": "#3c8dbc"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "style": {
                                          "width": "140px",
                                          "height": "60px",
                                          "margin": "auto",
                                          "padding": "0",
                                          "font-size": "12px",
                                          "line-height": "60px",
                                          "font-weight": "bold",
                                          "color": "#fff",
                                          "text-align": "center",
                                          "border-radius": "4px",
                                          "background-color": "#3c8dbc"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "style": {
                                          "width": "140px",
                                          "height": "60px",
                                          "margin": "auto",
                                          "padding": "0",
                                          "font-size": "12px",
                                          "line-height": "60px",
                                          "font-weight": "bold",
                                          "color": "#444",
                                          "text-align": "center",
                                          "border-radius": "4px",
                                          "background-color": "#eee"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "style": {
                                          "margin": "auto",
                                          "padding": "5px",
                                          "font-size": "18px",
                                          "font-weight": "bold",
                                          "color": "#444",
                                          "text-align": "center",
                                          "border-radius": "0px",
                                          "background-color": "#eee"
                                        }
                                      }
                                    ],
                                    "id": "P2z3sEnfC8n7SmnzB5YQDWhEd2NiKeHG"
                                  },
                                  {
                                    "label": "控件组",
                                    "type": "ctrlgroup",
                                    "source": "CTRLGROUP",
                                    "advance": {
                                      "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var apiCalObject = {};\n      var rs = [];\n      for(var i in target.__proto__){\n        rs.push({\n          id : i,\n          label : i\n        });\n      };\n      function setParamValue(obj){\n          console.log(\"setParamValue\", obj)\n          var regExp = /function ?\\((.*)\\) ?\\{/;\n          var funStr = target.__proto__[obj.id].toString();\n          var rs = regExp.exec(funStr);\n          target.setValue(\"params\", rs[1]);\n          target.setValue(\"funName\", obj.label);\n          apiCalObject.funName = obj.label;\n      };\n      target.getEditorStatus(\"APICALL\", function(data){\n          apiCalObject = data || {};\n          target.setValue(\"apiCalObject\", apiCalObject);\n          var find = rs.find(function(elem){\n            return elem.id == apiCalObject.funName;\n          }) || rs[0];\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"选择API\",\n              class : \"col-md-2\",\n              style : {\n                  \"text-align\" : \"center\"\n              }\n            },{\n              type : \"select\",\n              value : find.id,\n              options : rs,\n              class : \"col-md-10\",\n              on : {\n                change : function(elem){\n                  setParamValue(elem.value);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }]\n          ];\n          target.render(ctrlGroups);\n          setTimeout(function(){\n            setParamValue(find); \n          });\n      });\n    }\n  }\n}",
                                      "variable": ""
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "font-size": "12px"
                                    },
                                    "help": "../pdf/ctrlgroup.pdf",
                                    "parameters": {},
                                    "abc": 4444,
                                    "template": [
                                      {
                                        "label": "普通按钮",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "parameters": {},
                                        "url": "images/map/map1.png"
                                      },
                                      {
                                        "label": "设备，项目，客户下拉",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "parameters": {},
                                        "url": "images/map/map1.png"
                                      },
                                      {
                                        "label": "竖排组件功能组件",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "url": "images/map/map1.png"
                                      },
                                      {
                                        "label": "项目，管理域,提交按钮",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px",
                                          "width": "100%"
                                        },
                                        "url": "images/map/map1.png"
                                      }
                                    ],
                                    "id": "4WcjGSs8G6HfXmyWMBrz6baYijX6RkS8"
                                  }
                                ],
                                "id": "7znpAJMkbFHfscsYki6ciFfPx7G6D3M2"
                              }
                            ],
                            "template": [
                              {
                                "type": "css",
                                "style": {
                                  "padding": "10px",
                                  "margin": "5px",
                                  "border": "1px solid #ccc",
                                  "background-color": "#fff"
                                }
                              },
                              {
                                "type": "css",
                                "style": {
                                  "padding": "5px",
                                  "margin": "5px",
                                  "border": "1px solid #ccc",
                                  "background-color": "#fff",
                                  "border-top": "0"
                                }
                              },
                              {
                                "type": "css",
                                "style": {
                                  "margin": "5px",
                                  "padding": "5px",
                                  "background-color": "#efdcaf",
                                  "border": "1px solid #c2ad7a"
                                }
                              },
                              {
                                "type": "css",
                                "style": {
                                  "margin": "5px",
                                  "padding": "5px",
                                  "background-color": "#f0c0a4",
                                  "border": "1px solid #e5671b"
                                }
                              },
                              {
                                "type": "css",
                                "style": {
                                  "margin": "5px",
                                  "padding": "5px",
                                  "background-color": "#ffb3b3",
                                  "border": "1px solid #db2222"
                                }
                              }
                            ],
                            "id": "B5sGeMEraaAfxiZyt68iaK2rB6Kjt2Yh"
                          }
                        ],
                        "id": "2sEaS6CQfGwncPYCXSdK7F7wN32PDCHY"
                      }
                    ],
                    "advance": {
                      "expression": "{}"
                    },
                    "template": [
                      {
                        "type": "css",
                        "style": {
                          "padding": "10px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "padding": "5px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff",
                          "border-top": "0"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#efdcaf",
                          "border": "1px solid #c2ad7a"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#f0c0a4",
                          "border": "1px solid #e5671b"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#ffb3b3",
                          "border": "1px solid #db2222"
                        }
                      }
                    ],
                    "id": "GJYxJjtJHFXBTT7P5i8BsxjSeAPCbF3N"
                  },
                  {
                    "label": "控制板1",
                    "type": "block",
                    "source": "BLOCK",
                    "style": {
                      "padding": "5px",
                      "margin": "5px",
                      "border": "1px solid #ccc",
                      "background": "#fff",
                      "box-shadow": "1px 1px 10px 1px rgba(0,0,0,.1)"
                    },
                    "children": [
                      {
                        "type": "column",
                        "col": 12,
                        "children": [
                          {
                            "label": "控制板1",
                            "type": "block",
                            "source": "BLOCK",
                            "style": {
                              "padding": "5px",
                              "margin": "5px",
                              "border": "1px solid #ddd",
                              "background-color": "#fff"
                            },
                            "advance": {
                              "expression": {}
                            },
                            "children": [
                              {
                                "type": "column",
                                "col": 12,
                                "children": [
                                  {
                                    "label": "文字",
                                    "type": "text",
                                    "source": "TEXT",
                                    "help": "http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D",
                                    "data": {
                                      "applied": false,
                                      "multipleCi": false,
                                      "multipleKpi": false,
                                      "resource": [],
                                      "modelType": 300,
                                      "resfilltype": "parameter",
                                      "series": {
                                        "manual": "新建文字",
                                        "bind": "(function (source){\n  var formatter=function(elem){\n    return elem.value\n   }\n  return source.ci.getSeries(formatter);\n})"
                                      },
                                      "modelDisable": true
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "padding": "5px",
                                      "font-size": "14px",
                                      "font-weight": "bold",
                                      "line-height": "30px",
                                      "background-color": "rgb(243, 243, 243)"
                                    },
                                    "advance": {
                                      "getfunction": "kpiDataService.getValueList",
                                      "category": "ci",
                                      "condition": [
                                        "kpi",
                                        "{object:kpiQueryModel}"
                                      ],
                                      "expression": "expression = {\n    on : {\n        init : function(event){\n            var target = event.target;\n            target.setText(\"选择模型设备指标\")\n        }\n    }\n}"
                                    },
                                    "template": [
                                      {
                                        "type": "text",
                                        "style": {
                                          "margin": "auto",
                                          "padding": "0",
                                          "font-size": "10px",
                                          "font-weight": "bold",
                                          "color": "#333"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "style": {
                                          "margin": "auto",
                                          "padding": "0",
                                          "font-size": "16px",
                                          "font-weight": "bold",
                                          "color": "#666",
                                          "text-align": "center"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "style": {
                                          "width": "60px",
                                          "height": "60px",
                                          "margin": "auto",
                                          "padding": "0",
                                          "font-size": "12px",
                                          "line-height": "60px",
                                          "font-weight": "bold",
                                          "color": "#fff",
                                          "text-align": "center",
                                          "border-radius": "50%",
                                          "background-color": "#3c8dbc"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "style": {
                                          "width": "140px",
                                          "height": "60px",
                                          "margin": "auto",
                                          "padding": "0",
                                          "font-size": "12px",
                                          "line-height": "60px",
                                          "font-weight": "bold",
                                          "color": "#fff",
                                          "text-align": "center",
                                          "border-radius": "4px",
                                          "background-color": "#3c8dbc"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "style": {
                                          "width": "140px",
                                          "height": "60px",
                                          "margin": "auto",
                                          "padding": "0",
                                          "font-size": "12px",
                                          "line-height": "60px",
                                          "font-weight": "bold",
                                          "color": "#444",
                                          "text-align": "center",
                                          "border-radius": "4px",
                                          "background-color": "#eee"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "style": {
                                          "margin": "auto",
                                          "padding": "5px",
                                          "font-size": "18px",
                                          "font-weight": "bold",
                                          "color": "#444",
                                          "text-align": "center",
                                          "border-radius": "0px",
                                          "background-color": "#eee"
                                        }
                                      }
                                    ],
                                    "id": "xtcRR3DTscaxhtRXHkK5eR3G44TdrHyM"
                                  },
                                  {
                                    "label": "控件组",
                                    "type": "ctrlgroup",
                                    "source": "CTRLGROUP",
                                    "advance": {
                                      "expression": "expression = {\n  on : {\n    changeModel2 : function(event){\n      var target = event.target;\n      var global = event.global;\n      var model = target.getValue(\"model\") || undefined;\n      target.getModels(function(models){\n          Array.prototype.unshift.apply(models, [{\n              id : 300,\n              label : \"管理域\"\n          },{\n              id : 301,\n              label : \"客户\"\n          },{\n              id : 302,\n              label : \"项目\"\n          }])\n        var cmodel = model || models[0];\n        target.setValue(\"model\", cmodel);\n        target.getResourceByModelId(cmodel.id, function(resources){\n          target.getKpisByModelId(cmodel.id, function(kpis){\n            var ctrlGroups = [\n              [{\n                type : \"label\",\n                value : \"选择模型\",\n                style : {\n                  \"text-align\" : \"center\"\n                },\n                class : \"col-md-1\"\n              },{\n                type : \"select\",\n                value : cmodel.id,\n                on : {\n                  change : function(elem){\n                    target.setValue(\"model\", elem.value);\n                    global.fire(\"changeModel2\");\n                  }\n                },\n                style : {\n                  width : \"40%\"\n                },\n                class : \"col-md-5\",\n                options : models,\n                format : {\n                  \"id\" : \"id\",\n                  \"label\" : \"label\"\n                }\n              }],[{\n                type : \"label\",\n                value : \"选择设备\",\n                style : {\n                  \"text-align\" : \"center\"\n                },\n                class : \"col-md-1\"\n              },{\n                type : \"multiSelect\",\n                value : \"选择设备\",\n                style : {\n                  width : \"40%\"\n                },\n                class : \"col-md-5\",\n                on : {\n                  change : function(elem){\n                     target.setValue(\"resources\", elem.values);\n                  }\n                },\n                options : resources,\n                format : {\n                  \"id\" : \"id\",\n                  \"label\" : \"label\"\n                }\n              }],[{\n                type : \"label\",\n                value : \"选择指标\",\n                style : {\n                  \"text-align\" : \"center\"\n                }\n              },{\n                type : \"multiSelect\",\n                value : \"选择指标\",\n                on : {\n                  change : function(elem){\n                    target.setValue(\"kpis\", elem.values);\n                  }\n                },\n                options : kpis,\n                format : {\n                  \"id\" : \"id\",\n                  \"label\" : \"label\"\n                }\n              }]\n            ];\n            target.render(ctrlGroups);\n          })\n        })\n      });\n    },\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      target.setValue(\"resources\", []);\n      target.setValue(\"kpis\", []);\n      console.log(\"valueSettled!!\");\n      global.fire(\"changeModel2\");\n    }\n  }\n}",
                                      "variable": ""
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "font-size": "12px"
                                    },
                                    "help": "../pdf/ctrlgroup.pdf",
                                    "parameters": {},
                                    "abc": 4444,
                                    "template": [
                                      {
                                        "label": "普通按钮",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "parameters": {},
                                        "url": "images/map/map1.png"
                                      },
                                      {
                                        "label": "设备，项目，客户下拉",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "parameters": {},
                                        "url": "images/map/map1.png"
                                      },
                                      {
                                        "label": "竖排组件功能组件",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px"
                                        },
                                        "url": "images/map/map1.png"
                                      },
                                      {
                                        "label": "项目，管理域,提交按钮",
                                        "type": "ctrlgroup",
                                        "source": "CTRLGROUP",
                                        "advance": {
                                          "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                        },
                                        "style": {
                                          "margin": "5px",
                                          "font-size": "12px",
                                          "width": "100%"
                                        },
                                        "url": "images/map/map1.png"
                                      }
                                    ],
                                    "id": "iRJthYDDXMMRsCbWMSK7ezkicNBn8FHc"
                                  }
                                ],
                                "id": "QjdEw26BBztCmTn7tmpD6arreQQ43MpR"
                              }
                            ],
                            "template": [
                              {
                                "type": "css",
                                "style": {
                                  "padding": "10px",
                                  "margin": "5px",
                                  "border": "1px solid #ccc",
                                  "background-color": "#fff"
                                }
                              },
                              {
                                "type": "css",
                                "style": {
                                  "padding": "5px",
                                  "margin": "5px",
                                  "border": "1px solid #ccc",
                                  "background-color": "#fff",
                                  "border-top": "0"
                                }
                              },
                              {
                                "type": "css",
                                "style": {
                                  "margin": "5px",
                                  "padding": "5px",
                                  "background-color": "#efdcaf",
                                  "border": "1px solid #c2ad7a"
                                }
                              },
                              {
                                "type": "css",
                                "style": {
                                  "margin": "5px",
                                  "padding": "5px",
                                  "background-color": "#f0c0a4",
                                  "border": "1px solid #e5671b"
                                }
                              },
                              {
                                "type": "css",
                                "style": {
                                  "margin": "5px",
                                  "padding": "5px",
                                  "background-color": "#ffb3b3",
                                  "border": "1px solid #db2222"
                                }
                              }
                            ],
                            "id": "deAYHJhCjNEsTsj5QTaQisGH7kNjYfMc"
                          }
                        ],
                        "id": "K4XdXJfjFekXjQPdETwPGtnJiMaN3hjh"
                      }
                    ],
                    "advance": {
                      "expression": "{}"
                    },
                    "template": [
                      {
                        "type": "css",
                        "style": {
                          "padding": "10px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "padding": "5px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff",
                          "border-top": "0"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#efdcaf",
                          "border": "1px solid #c2ad7a"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#f0c0a4",
                          "border": "1px solid #e5671b"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#ffb3b3",
                          "border": "1px solid #db2222"
                        }
                      }
                    ],
                    "id": "DHdZQJzhWnpNY27Ciha3bTcb6GFpGCi3"
                  },
                  {
                    "label": "控制板1",
                    "type": "block",
                    "source": "BLOCK",
                    "style": {
                      "padding": "5px",
                      "margin": "5px",
                      "border": "1px solid #ccc",
                      "background": "#fff",
                      "box-shadow": "1px 1px 10px 1px rgba(0,0,0,.1)"
                    },
                    "children": [
                      {
                        "type": "column",
                        "col": 12,
                        "children": [
                          {
                            "label": "控件组",
                            "type": "ctrlgroup",
                            "source": "CTRLGROUP",
                            "advance": {
                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var rs = [];\n      for(var i in target.__proto__){\n        rs.push({\n          id : i,\n          label : i\n        });\n      }\n      var ctrlGroups = [\n        [{\n            type : \"label\",\n            value : \"运行代码\",\n            class : \"col-md-4\"\n        },{\n          type : \"buttonGroup\",\n          class : \"col-md-8\",\n          tdStyle : {\n              float : \"right\"\n          },\n          content : [{\n              type : \"button\",\n              value : \"缓存代码\",\n              icon : \"glyphicon glyphicon-save\",\n              btnclass : \"btn btn-default\",\n              on : {\n                click : function(evnt){\n                  var apiCalObject = target.getValue(\"apiCalObject\");\n                  var expression = target.getValue(\"expression\");\n                  var funName = apiCalObject.funName;\n                  if(!apiCalObject.funs){\n                      apiCalObject.funs = {};\n                  }\n                  apiCalObject.funs[funName] = expression;\n                  target.growl(\"缓存完成\");\n                  target.saveEditorStatus(\"APICALL\", apiCalObject);\n                }\n              }\n          },{\n              type : \"button\",\n              value : \"返回默认\",\n              icon : \"glyphicon glyphicon-circle\",\n              btnclass : \"btn btn-default\",\n              on : {\n                click : function(evnt){\n                  \n                }\n              }\n          },{\n              type : \"button\",\n              value : \"运行代码\",\n              btnclass : \"btn btn-primary\",\n              on : {\n                click : function(evnt){\n                  var expression = target.getValue(\"expression\");\n                  var expFn = target.runExpression(expression);\n                  try{\n                    expFn(event); \n                  } catch(e){\n                      target.growl(e.message, \"error\"); \n                  }\n                }\n              }\n          }]\n        }]\n      ];\n      target.render(ctrlGroups);\n    }\n  }\n}",
                              "variable": ""
                            },
                            "style": {
                              "margin": "5px",
                              "font-size": "12px"
                            },
                            "help": "../pdf/ctrlgroup.pdf",
                            "parameters": {},
                            "abc": 4444,
                            "template": [
                              {
                                "label": "普通按钮",
                                "type": "ctrlgroup",
                                "source": "CTRLGROUP",
                                "advance": {
                                  "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                },
                                "style": {
                                  "margin": "5px",
                                  "font-size": "12px"
                                },
                                "parameters": {},
                                "url": "images/map/map1.png"
                              },
                              {
                                "label": "设备，项目，客户下拉",
                                "type": "ctrlgroup",
                                "source": "CTRLGROUP",
                                "advance": {
                                  "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                },
                                "style": {
                                  "margin": "5px",
                                  "font-size": "12px"
                                },
                                "parameters": {},
                                "url": "images/map/map1.png"
                              },
                              {
                                "label": "竖排组件功能组件",
                                "type": "ctrlgroup",
                                "source": "CTRLGROUP",
                                "advance": {
                                  "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                },
                                "style": {
                                  "margin": "5px",
                                  "font-size": "12px"
                                },
                                "url": "images/map/map1.png"
                              },
                              {
                                "label": "项目，管理域,提交按钮",
                                "type": "ctrlgroup",
                                "source": "CTRLGROUP",
                                "advance": {
                                  "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                },
                                "style": {
                                  "margin": "5px",
                                  "font-size": "12px",
                                  "width": "100%"
                                },
                                "url": "images/map/map1.png"
                              }
                            ],
                            "id": "QRY7Hp5C3WPAzMFibJteatpGPCCzRwnn"
                          },
                          {
                            "label": "代码编辑器",
                            "type": "aceeditor",
                            "source": "ACEEDITOR",
                            "style": {
                              "margin": "5px",
                              "padding": "0",
                              "height": "360px",
                              "border": "1px solid #ddd"
                            },
                            "advance": {
                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var blank = function(num){\n        var rs = \"\";\n        for(var i=0; i<num; i++){\n          rs += \"    \"\n        }\n        return rs;\n      }\n      target.getEditorStatus(\"APICALL\", function(data){\n        apiCalObject = data || {};\n        var funName = apiCalObject.funName;\n        var exp = apiCalObject.funs[funName];\n        var expression = \"function init( event ){\\n\";\n        expression += blank(1) + \"var target = event.target;\\n\";\n        expression += blank(1) + \"var global = event.global;\\n\";\n        expression += blank(1) + \"global.fire(\\\"renderList\\\", \\\"创建代码\\\");\\n\";\n        expression += \"}\";\n        exp = exp || expression;\n        target.render(exp);\n      });\n    },\n    change : function(event){\n      var target = event.target;\n      var global = event.global;\n      target.setValue(\"expression\", event.value);\n    },\n    apiChange2 : function(event){\n      var target = event.target;\n      var global = event.global;\n      var pa = event.params;\n      var funName = pa.funName;\n      var params = pa.params;\n      var arr = params ? params.split(\", \") : [];\n      var kpis = pa.kpis;\n      var resources = pa.resources;\n      var model = pa.model;\n      var blank = function(num){\n        var rs = \"\";\n        for(var i=0; i<num; i++){\n          rs += \"    \"\n        }\n        return rs;\n      }\n      var expression = blank(0) + \"function init( event ){\\n\";\n      expression += blank(1) + \"var target = event.target;\\n\";\n      expression += blank(1) + \"var global = event.global;\\n\";\n      for(var i in arr){\n        if(arr[i] == \"modelId\"){\n          expression += blank(1) + \"var modelId = \" + model.id + \";\\n\";\n        } else if(arr[i] == \"ci\"){\n          if(resources.length > 0){\n            expression += blank(1) + \"var ci = [\" + resources.map(function(elem){\n                return elem.id\n              }).toString() + \"];\\n\";\n            expression += blank(1) + \"var ciNames = [\" + resources.map(function(elem){\n                return \"\\\"\" + elem.label + \"\\\"\"\n              }).toString() + \"];\\n\";\n          } else {\n            expression += blank(1) + \"var ci = [];\\n\";\n          }\n        } else if(arr[i] == \"kpi\"){\n          if(kpis.length > 0){\n            expression += blank(1) + \"var kpi = [\" + kpis.map(function(elem){\n                return elem.id\n              }).toString() + \"];\\n\";\n            expression += blank(1) + \"var kpiNames = [\" + kpis.map(function(elem){\n                return \"\\\"\" + elem.label + \"\\\"\"\n              }).toString() + \"];\\n\";\n          } else {\n            expression += blank(1) + \"var kpi = [];\\n\";\n          };\n        } else if(arr[i] == \"extension\"){\n          expression += blank(1) + \"var extension = {};\\n\";\n        } else if(arr[i] == \"callback\"){\n\n        } else {\n          expression += blank(1) + \"var \" + arr[i] + \" = \\\"\\\";\\n\";\n        }\n      };\n      if(arr.indexOf(\"callback\") != -1){\n        expression += blank(1) + \"target.\" + funName + \"(\";\n        for(var i in arr){\n          if(arr[i] == \"callback\"){\n            expression += \"function(returnData){\" + \"\\n\";\n            expression += blank(2) + \"global.fire(\\\"renderList\\\", returnData)\\n\";\n            expression += blank(1) + \"}\";\n          } else {\n            expression += arr[i]\n          }\n          if(i < arr.length - 1){\n            expression += \",\";\n          } else {\n            expression += \")\\n\";\n          }\n        }\n      } else {\n        expression += blank(1) + \"var data = target.\" + funName + \"(\";\n        if(arr.length > 0){\n            for(var i in arr){\n              expression += arr[i];\n              if(i < arr.length - 1){\n                expression += \",\";\n              } else {\n                expression += \");\\n\";\n              }\n            };\n        } else {\n          expression += \");\\n\";  \n        };\n      };\n      if(arr.indexOf(\"callback\") == -1){\n          expression += blank(1) + \"global.fire(\\\"renderList\\\", data);\\n\";\n      };\n      expression += blank(0) + \"}\";\n      target.setText(expression);\n      target.setValue(\"expression\", expression);\n    }\n  }\n}"
                            },
                            "parameters": {},
                            "id": "7dk3bWNWx47e7Dxj5dDpN4ACDymYmWic"
                          }
                        ],
                        "id": "Y7Xzh58DDCjYyy5TDsjFja3XwZ5fXCsQ"
                      }
                    ],
                    "advance": {
                      "expression": "{}"
                    },
                    "template": [
                      {
                        "type": "css",
                        "style": {
                          "padding": "10px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "padding": "5px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff",
                          "border-top": "0"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#efdcaf",
                          "border": "1px solid #c2ad7a"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#f0c0a4",
                          "border": "1px solid #e5671b"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#ffb3b3",
                          "border": "1px solid #db2222"
                        }
                      }
                    ],
                    "id": "ERwHSGCTA36pM7yAXx5yrinB4t34E5W2"
                  }
                ],
                "col": 6,
                "id": "DjZCkDeHBHEts4Kp7wBw62MfbejXPkxG"
              },
              {
                "type": "column",
                "children": [
                  {
                    "label": "控制板1",
                    "type": "block",
                    "source": "BLOCK",
                    "style": {
                      "padding": "5px",
                      "margin": "5px",
                      "border": "1px solid #ccc",
                      "background": "#fff",
                      "box-shadow": "1px 1px 10px 1px rgba(0,0,0,.1)"
                    },
                    "children": [
                      {
                        "type": "column",
                        "col": 12,
                        "children": [
                          {
                            "label": "文字",
                            "type": "text",
                            "source": "TEXT",
                            "help": "http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D",
                            "data": {
                              "applied": false,
                              "multipleCi": false,
                              "multipleKpi": false,
                              "resource": [],
                              "modelType": 300,
                              "resfilltype": "parameter",
                              "series": {
                                "manual": "新建文字",
                                "bind": "(function (source){\n  var formatter=function(elem){\n    return elem.value\n   }\n  return source.ci.getSeries(formatter);\n})"
                              },
                              "modelDisable": true
                            },
                            "style": {
                              "margin": "5px",
                              "padding": "5px",
                              "font-size": "14px",
                              "font-weight": "bold",
                              "line-height": "30px",
                              "background-color": "rgb(243, 243, 243)"
                            },
                            "advance": {
                              "getfunction": "kpiDataService.getValueList",
                              "category": "ci",
                              "condition": [
                                "kpi",
                                "{object:kpiQueryModel}"
                              ],
                              "expression": "expression = {\n    on : {\n        init : function(event){\n            var target = event.target;\n            target.setText(\"运行结果\")\n        }\n    }\n}"
                            },
                            "template": [
                              {
                                "type": "text",
                                "style": {
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "10px",
                                  "font-weight": "bold",
                                  "color": "#333"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "16px",
                                  "font-weight": "bold",
                                  "color": "#666",
                                  "text-align": "center"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "width": "60px",
                                  "height": "60px",
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "12px",
                                  "line-height": "60px",
                                  "font-weight": "bold",
                                  "color": "#fff",
                                  "text-align": "center",
                                  "border-radius": "50%",
                                  "background-color": "#3c8dbc"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "width": "140px",
                                  "height": "60px",
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "12px",
                                  "line-height": "60px",
                                  "font-weight": "bold",
                                  "color": "#fff",
                                  "text-align": "center",
                                  "border-radius": "4px",
                                  "background-color": "#3c8dbc"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "width": "140px",
                                  "height": "60px",
                                  "margin": "auto",
                                  "padding": "0",
                                  "font-size": "12px",
                                  "line-height": "60px",
                                  "font-weight": "bold",
                                  "color": "#444",
                                  "text-align": "center",
                                  "border-radius": "4px",
                                  "background-color": "#eee"
                                }
                              },
                              {
                                "type": "text",
                                "style": {
                                  "margin": "auto",
                                  "padding": "5px",
                                  "font-size": "18px",
                                  "font-weight": "bold",
                                  "color": "#444",
                                  "text-align": "center",
                                  "border-radius": "0px",
                                  "background-color": "#eee"
                                }
                              }
                            ],
                            "id": "pZwAip87E7FHPTPk8rGCCxMiBKa856AJ"
                          },
                          {
                            "label": "代码编辑器",
                            "type": "aceeditor",
                            "source": "ACEEDITOR",
                            "style": {
                              "margin": "5px",
                              "padding": "0",
                              "height": "713px"
                            },
                            "advance": {
                              "expression": "expression = {\n\t\"on\" : {\n     \"renderList\" : function(event){\n         var params = event.params;\n         var target = event.target;\n      \t var global = event.target;\n      \t target.setText(JSON.stringify(params, null, 2));\n     }\n  }\n}"
                            },
                            "parameters": {},
                            "id": "Rhprk6dsmDrQ4cENYTtSsxwWNrneFz4A"
                          }
                        ],
                        "id": "dhAZkb2nrCx2hmkW3CZENxNYdYzxECQM"
                      }
                    ],
                    "advance": {
                      "expression": "{}"
                    },
                    "template": [
                      {
                        "type": "css",
                        "style": {
                          "padding": "10px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "padding": "5px",
                          "margin": "5px",
                          "border": "1px solid #ccc",
                          "background-color": "#fff",
                          "border-top": "0"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#efdcaf",
                          "border": "1px solid #c2ad7a"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#f0c0a4",
                          "border": "1px solid #e5671b"
                        }
                      },
                      {
                        "type": "css",
                        "style": {
                          "margin": "5px",
                          "padding": "5px",
                          "background-color": "#ffb3b3",
                          "border": "1px solid #db2222"
                        }
                      }
                    ],
                    "id": "8wQhddZXk8pFPR6ZZ6H82Ghs8jTGzxKx"
                  }
                ],
                "col": 6,
                "id": "bHcPnzRYrySCF3n2HfnrsFPWMBsp2t3r"
              }
            ],
            "id": "C3HeYHH2BxBExMJQ7ntMW2bMReGGHcSQ"
          }
        ],
        "col": 12,
        "id": "ss8rx7S2N7peyBrnCMRApAzwWYG6PHBE"
      },
      "id": "3",
      "$$hashKey": "object:4965"
    },
    {
      "label": "根据ID查询模型指标信息",
      "path": "idSelector",
      "layout": {
        "type": "column",
        "children": [
          {
            "label": "控制板2",
            "type": "box",
            "class": "box box-info",
            "source": "BOX",
            "parameters": {
              "title": "根据ID查询设备模型信息"
            },
            "style": {
              "font-size": "12px",
              "font-weight": "bold",
              "text-align": "left",
              "margin": "5px"
            },
            "children": [
              {
                "class": "box-body",
                "type": "box-body",
                "children": [
                  {
                    "type": "column",
                    "col": 12,
                    "children": [
                      {
                        "label": "控制板1",
                        "type": "block",
                        "source": "BLOCK",
                        "style": {
                          "padding": "5px",
                          "margin": "5px",
                          "border": "1px solid #eee",
                          "background-color": "#fff"
                        },
                        "advance": {
                          "expression": {}
                        },
                        "children": [
                          {
                            "type": "column",
                            "col": 12,
                            "children": [
                              {
                                "label": "文字",
                                "type": "text",
                                "source": "TEXT",
                                "help": "http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D",
                                "data": {
                                  "applied": false,
                                  "multipleCi": false,
                                  "multipleKpi": false,
                                  "resource": [],
                                  "modelType": 300,
                                  "resfilltype": "parameter",
                                  "series": {
                                    "manual": "新建文字",
                                    "bind": "(function (source){\n  var formatter=function(elem){\n    return elem.value\n   }\n  return source.ci.getSeries(formatter);\n})"
                                  },
                                  "modelDisable": true
                                },
                                "style": {
                                  "margin": "5px",
                                  "padding": "5px",
                                  "font-size": "14px",
                                  "font-weight": "bold",
                                  "line-height": "30px",
                                  "background-color": "rgb(243, 243, 243)"
                                },
                                "advance": {
                                  "getfunction": "kpiDataService.getValueList",
                                  "category": "ci",
                                  "condition": [
                                    "kpi",
                                    "{object:kpiQueryModel}"
                                  ],
                                  "expression": "expression = {\n    on : {\n        init : function(event){\n            var target = event.target;\n            target.setText(\"根据ID查询模型指标\")\n        }\n    }\n}"
                                },
                                "template": [
                                  {
                                    "type": "text",
                                    "style": {
                                      "margin": "auto",
                                      "padding": "0",
                                      "font-size": "10px",
                                      "font-weight": "bold",
                                      "color": "#333"
                                    }
                                  },
                                  {
                                    "type": "text",
                                    "style": {
                                      "margin": "auto",
                                      "padding": "0",
                                      "font-size": "16px",
                                      "font-weight": "bold",
                                      "color": "#666",
                                      "text-align": "center"
                                    }
                                  },
                                  {
                                    "type": "text",
                                    "style": {
                                      "width": "60px",
                                      "height": "60px",
                                      "margin": "auto",
                                      "padding": "0",
                                      "font-size": "12px",
                                      "line-height": "60px",
                                      "font-weight": "bold",
                                      "color": "#fff",
                                      "text-align": "center",
                                      "border-radius": "50%",
                                      "background-color": "#3c8dbc"
                                    }
                                  },
                                  {
                                    "type": "text",
                                    "style": {
                                      "width": "140px",
                                      "height": "60px",
                                      "margin": "auto",
                                      "padding": "0",
                                      "font-size": "12px",
                                      "line-height": "60px",
                                      "font-weight": "bold",
                                      "color": "#fff",
                                      "text-align": "center",
                                      "border-radius": "4px",
                                      "background-color": "#3c8dbc"
                                    }
                                  },
                                  {
                                    "type": "text",
                                    "style": {
                                      "width": "140px",
                                      "height": "60px",
                                      "margin": "auto",
                                      "padding": "0",
                                      "font-size": "12px",
                                      "line-height": "60px",
                                      "font-weight": "bold",
                                      "color": "#444",
                                      "text-align": "center",
                                      "border-radius": "4px",
                                      "background-color": "#eee"
                                    }
                                  },
                                  {
                                    "type": "text",
                                    "style": {
                                      "margin": "auto",
                                      "padding": "5px",
                                      "font-size": "18px",
                                      "font-weight": "bold",
                                      "color": "#444",
                                      "text-align": "center",
                                      "border-radius": "0px",
                                      "background-color": "#eee"
                                    }
                                  }
                                ],
                                "id": "Ahb7EXpe8fS8RbaFpF2icR7eH2XKyRdM"
                              },
                              {
                                "label": "控件组",
                                "type": "ctrlgroup",
                                "source": "CTRLGROUP",
                                "advance": {
                                  "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      target.setValue(\"selectType\", \"model\");\n      var selectTypes = [{\n        id : \"model\",\n        label : \"模型\"\n      },{\n        id : \"resource\",\n        label : \"设备\"\n      }];\n      var ctrlGroups = [\n        [{\n          type : \"select\",\n          value : \"输入查询类型\",\n          class : \"col-md-2\",\n          options : selectTypes,\n          on : {\n            change : function(elem){\n              target.setValue(\"selectType\", elem.value.id);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        },{\n          type : \"input\",\n          value : \"\",\n          on : {\n            change : function(elem){\n              target.setValue(\"data\", elem);\n            }\n          },\n          class : \"col-md-8\"\n        },{\n          type : \"button\",\n          value : \"查询\",\n          icon : \"glyphicon glyphicon-copy\",\n          class : \"col-md-2\",\n          btnclass : \"btn btn-primary\",\n          on : {\n            click : function(elem){\n                console.log(\"123123123123\");\n              var result = target.getValue(\"data\") || {};\n              global.fire(\"p2_changeQuest\", {\n                  selectType : target.getValue(\"selectType\"),\n                  id : result.value\n              });\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}",
                                  "variable": ""
                                },
                                "style": {
                                  "margin": "5px",
                                  "font-size": "12px"
                                },
                                "help": "../pdf/ctrlgroup.pdf",
                                "parameters": {},
                                "template": [
                                  {
                                    "label": "普通按钮",
                                    "type": "ctrlgroup",
                                    "source": "CTRLGROUP",
                                    "advance": {
                                      "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "font-size": "12px"
                                    },
                                    "parameters": {},
                                    "url": "images/map/map1.png"
                                  },
                                  {
                                    "label": "设备，项目，客户下拉",
                                    "type": "ctrlgroup",
                                    "source": "CTRLGROUP",
                                    "advance": {
                                      "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "font-size": "12px"
                                    },
                                    "parameters": {},
                                    "url": "images/map/map1.png"
                                  },
                                  {
                                    "label": "竖排组件功能组件",
                                    "type": "ctrlgroup",
                                    "source": "CTRLGROUP",
                                    "advance": {
                                      "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "font-size": "12px"
                                    },
                                    "url": "images/map/map1.png"
                                  },
                                  {
                                    "label": "项目，管理域,提交按钮",
                                    "type": "ctrlgroup",
                                    "source": "CTRLGROUP",
                                    "advance": {
                                      "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                                    },
                                    "style": {
                                      "margin": "5px",
                                      "font-size": "12px",
                                      "width": "100%"
                                    },
                                    "url": "images/map/map1.png"
                                  }
                                ],
                                "id": "rejhMpt6KTJnj4Dysf5YcKcPjZ7HmWX4"
                              },
                              {
                                "label": "代码编辑器",
                                "type": "aceeditor",
                                "source": "ACEEDITOR",
                                "style": {
                                  "margin": "5px",
                                  "padding": "0",
                                  "height": "300px"
                                },
                                "advance": {
                                  "expression": "expression = {\n    on : {\n        \"p2_changeQuest\" : function(event){\n            var target = event.target;\n            var selectType = target.getValue(\"selectType\");\n            console.log(selectType);\n            var id = event.params.id;\n            if(selectType == \"model\"){\n                target.getModelByIds([id], function(models){\n                    console.log(models);\n                    if(models.length > 0){\n                        var result = JSON.stringify({\n                            id : models[0].id,\n                            label : models[0].label\n                        }, null, 2);\n                        event.target.setText(\"model = \" + result + \"\\n\");\n                    } else {\n                        event.target.setText(\"model = {/**无查询结果*/}\\n\");  \n                    }\n                });\n            } else if(selectType == \"resource\"){\n                target.getResourceById(id, function(resource){\n                    if(resource){\n                        var result = JSON.stringify({\n                            id : resource.id,\n                            label : resource.label\n                        }, null, 2);\n                        event.target.setText(\"resource = \" + result + \"\\n\");\n                    } else {\n                        event.target.setText(\"resource = {/**无查询结果*/}\\n\");\n                    }\n                })\n            } else if(selectType == \"kpi\"){\n                \n            }\n        }\n    }\n}"
                                },
                                "id": "cY7iXNXymTe6tjTJewQeFyxK3M5WzaQi"
                              }
                            ],
                            "id": "citakabhrWHTNp5P8zDmJ5Zi4BSEethY"
                          }
                        ],
                        "template": [
                          {
                            "type": "css",
                            "style": {
                              "padding": "10px",
                              "margin": "5px",
                              "border": "1px solid #ccc",
                              "background-color": "#fff"
                            }
                          },
                          {
                            "type": "css",
                            "style": {
                              "padding": "5px",
                              "margin": "5px",
                              "border": "1px solid #ccc",
                              "background-color": "#fff",
                              "border-top": "0"
                            }
                          },
                          {
                            "type": "css",
                            "style": {
                              "margin": "5px",
                              "padding": "5px",
                              "background-color": "#efdcaf",
                              "border": "1px solid #c2ad7a"
                            }
                          },
                          {
                            "type": "css",
                            "style": {
                              "margin": "5px",
                              "padding": "5px",
                              "background-color": "#f0c0a4",
                              "border": "1px solid #e5671b"
                            }
                          },
                          {
                            "type": "css",
                            "style": {
                              "margin": "5px",
                              "padding": "5px",
                              "background-color": "#ffb3b3",
                              "border": "1px solid #db2222"
                            }
                          }
                        ],
                        "id": "bB2QRGWRbGipWXkBRnkTbxfjTJ2GKJkp"
                      }
                    ],
                    "id": "JjxjzRK7c3aMMApkmw4KCsCWPinmdJBT"
                  }
                ],
                "id": "MHsDPARXzZ24z7tH7FN2h8a4dhwiWwFA"
              },
              {
                "class": "box-footer",
                "type": "box-footer",
                "children": [
                  {
                    "type": "column",
                    "col": 12,
                    "children": [],
                    "id": "8QWAc7TdfFe6ni6YB7SMw7N3Ps3QZj34"
                  }
                ],
                "id": "fzYQBhcPzRpPG4pMbCCGP5JQSG5jBbbT"
              }
            ],
            "advance": {},
            "id": "Hf2fD3JNYZTBDEnw62bbYd2SexKyEbQk"
          }
        ],
        "col": 12,
        "id": "wefT2widiEh8nfx68wwJ7XZ6GJA5Y68d"
      },
      "id": "4",
      "$$hashKey": "object:5043"
    },
    {
      "label": "数据处理",
      "path": "drawanalysis",
      "layout": {
        "type": "column",
        "children": [],
        "col": 12,
        "id": "wDeMpfapPMANHPWayXXTQcEByR7Rhb8f"
      },
      "id": "5",
      "$$hashKey": "object:1214"
    },
    {
      "label": "弹出窗口",
      "path": "popup",
      "layout": {
        "type": "column",
        "children": [
          {
            "label": "文字",
            "type": "text",
            "source": "TEXT",
            "help": "http://localhost/app-free-style/index.html#/help/index%7Ctext/%5B%220%22,%7B%7D%5D",
            "data": {
              "applied": false,
              "multipleCi": false,
              "multipleKpi": false,
              "resource": [],
              "modelType": 300,
              "resfilltype": "parameter",
              "series": {
                "manual": "新建文字",
                "bind": "(function (source){\n  var formatter=function(elem){\n    return elem.value\n   }\n  return source.ci.getSeries(formatter);\n})"
              },
              "modelDisable": true
            },
            "style": {
              "margin": "5px",
              "padding": "10px",
              "font-size": "12px",
              "font-weight": "bold",
              "background-color": "rgb(243, 243, 243)",
              "text-align": "center"
            },
            "advance": {
              "getfunction": "kpiDataService.getValueList",
              "category": "ci",
              "condition": [
                "kpi",
                "{object:kpiQueryModel}"
              ],
              "expression": "expression = {\n    on : {\n        init : function(event){\n            var target = event.target;\n            var params = target.getPopupData() || {};\n            target.setText(params.title || \"设备指标单选\");\n        }\n    }\n}"
            },
            "template": [
              {
                "type": "text",
                "style": {
                  "margin": "auto",
                  "padding": "0",
                  "font-size": "10px",
                  "font-weight": "bold",
                  "color": "#333"
                }
              },
              {
                "type": "text",
                "style": {
                  "margin": "auto",
                  "padding": "0",
                  "font-size": "16px",
                  "font-weight": "bold",
                  "color": "#666",
                  "text-align": "center"
                }
              },
              {
                "type": "text",
                "style": {
                  "width": "60px",
                  "height": "60px",
                  "margin": "auto",
                  "padding": "0",
                  "font-size": "12px",
                  "line-height": "60px",
                  "font-weight": "bold",
                  "color": "#fff",
                  "text-align": "center",
                  "border-radius": "50%",
                  "background-color": "#3c8dbc"
                }
              },
              {
                "type": "text",
                "style": {
                  "width": "140px",
                  "height": "60px",
                  "margin": "auto",
                  "padding": "0",
                  "font-size": "12px",
                  "line-height": "60px",
                  "font-weight": "bold",
                  "color": "#fff",
                  "text-align": "center",
                  "border-radius": "4px",
                  "background-color": "#3c8dbc"
                }
              },
              {
                "type": "text",
                "style": {
                  "width": "140px",
                  "height": "60px",
                  "margin": "auto",
                  "padding": "0",
                  "font-size": "12px",
                  "line-height": "60px",
                  "font-weight": "bold",
                  "color": "#444",
                  "text-align": "center",
                  "border-radius": "4px",
                  "background-color": "#eee"
                }
              },
              {
                "type": "text",
                "style": {
                  "margin": "auto",
                  "padding": "5px",
                  "font-size": "18px",
                  "font-weight": "bold",
                  "color": "#444",
                  "text-align": "center",
                  "border-radius": "0px",
                  "background-color": "#eee"
                }
              }
            ],
            "id": "ppBMEEBpjxPyf7CNzRZJCaSFrNpChXnh"
          },
          {
            "label": "控件组",
            "type": "ctrlgroup",
            "source": "CTRLGROUP",
            "advance": {
              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var params = target.getPopupData() || {};\n      var model = params.model;\n      var resource = params.resource || undefined;\n      var kpi = params.kpi || undefined;\n      target.getModels(function(models){\n          model = model || models[0];\n        target.getResourceByModelId(model.id, function(resources){\n          target.getKpisByModelId(model.id, function(kpis){\n              resource = resource || resources[0];\n              kpi = kpi || kpis[0];\n            var dataHandlerOp = target.getDataHandlers();\n            var ctrlGroups = [\n              [{\n                type : \"label\",\n                value : \"选择模型\",\n                style : {\n                  \"text-align\" : \"center\"\n                },\n                class : \"col-md-2\"\n              },{\n                type : \"select\",\n                value : model.id,\n                on : {\n                  change : function(elem){\n                    model = elem.value;\n                    if(global.fire){\n                        global.fire(\"changeModel\", {\n                            model : model\n                        });\n                    }\n                  }\n                },\n                style : {\n                  width : \"40%\"\n                },\n                class : \"col-md-10\",\n                options : models,\n                format : {\n                  \"id\" : \"id\",\n                  \"label\" : \"label\"\n                }\n              }],[{\n                type : \"label\",\n                value : \"选择设备\",\n                style : {\n                  \"text-align\" : \"center\"\n                },\n                class : \"col-md-2\"\n              },{\n                type : \"select\",\n                value : resource.id,\n                style : {\n                  width : \"40%\"\n                },\n                class : \"col-md-10\",\n                on : {\n                  change : function(elem){\n                    resource = elem.value;\n                  }\n                },\n                options : resources,\n                format : {\n                  \"id\" : \"id\",\n                  \"label\" : \"label\"\n                }\n              }],[{\n                type : \"label\",\n                value : \"选择指标\",\n                style : {\n                  \"text-align\" : \"center\"\n                }\n              },{\n                type : \"select\",\n                value : kpi.id,\n                on : {\n                  change : function(elem){\n                    kpi = elem.value;\n                  }\n                },\n                options : kpis,\n                format : {\n                  \"id\" : \"id\",\n                  \"label\" : \"label\"\n                }\n              }],[{\n                type : \"label\",\n                value : \"\",\n                style : {\n                  \"text-align\" : \"center\"\n                }\n              },{\n                  type : \"button\",\n                  value : \"提交\",\n                  icon : \"glyphicon glyphicon-ok\",\n                  btnclass : \"btn btn-primary\",\n                  class : \"col-md-12\",\n                  on : {\n                    click : function(elem){\n                      target.submit({\n                          model : model,\n                          resource : resource,\n                          kpi : kpi\n                      });\n                    }\n                  }\n                }]\n            ];\n            event.target.render(ctrlGroups);\n          })\n        })\n      });\n    }\n  }\n}",
              "variable": ""
            },
            "style": {
              "margin": "5px",
              "font-size": "12px"
            },
            "help": "../pdf/ctrlgroup.pdf",
            "parameters": {},
            "template": [
              {
                "label": "普通按钮",
                "type": "ctrlgroup",
                "source": "CTRLGROUP",
                "advance": {
                  "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                },
                "style": {
                  "margin": "5px",
                  "font-size": "12px"
                },
                "parameters": {},
                "url": "images/map/map1.png"
              },
              {
                "label": "设备，项目，客户下拉",
                "type": "ctrlgroup",
                "source": "CTRLGROUP",
                "advance": {
                  "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                },
                "style": {
                  "margin": "5px",
                  "font-size": "12px"
                },
                "parameters": {},
                "url": "images/map/map1.png"
              },
              {
                "label": "竖排组件功能组件",
                "type": "ctrlgroup",
                "source": "CTRLGROUP",
                "advance": {
                  "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                },
                "style": {
                  "margin": "5px",
                  "font-size": "12px"
                },
                "url": "images/map/map1.png"
              },
              {
                "label": "项目，管理域,提交按钮",
                "type": "ctrlgroup",
                "source": "CTRLGROUP",
                "advance": {
                  "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                },
                "style": {
                  "margin": "5px",
                  "font-size": "12px",
                  "width": "100%"
                },
                "url": "images/map/map1.png"
              }
            ],
            "id": "8RwjDi4DpYf8KNbTx47i75tHxCBf7n8z"
          }
        ],
        "col": 12,
        "id": "2yaRCdZMXzS6eZWtXrGBDGsxnh7xsiAi"
      },
      "id": "6",
      "$$hashKey": "object:1150"
    },
    {
      "label": "scp路径",
      "path": "scp",
      "layout": {
        "type": "column",
        "children": [
          {
            "label": "控制板2",
            "type": "box",
            "class": "box box-info",
            "source": "BOX",
            "parameters": {
              "title": "scp路径"
            },
            "style": {
              "font-size": "12px",
              "font-weight": "bold",
              "text-align": "left",
              "margin": "5px"
            },
            "children": [
              {
                "class": "box-body",
                "type": "box-body",
                "children": [
                  {
                    "type": "column",
                    "col": 12,
                    "children": [
                      {
                        "label": "控件组",
                        "type": "ctrlgroup",
                        "source": "CTRLGROUP",
                        "advance": {
                          "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var server;\n      var value;\n      var render = function(){\n          var ctrlGroups = [\n              [{\n              type : \"label\",\n              value : \"地址\",\n              class : \"col-md-2\"\n            },{\n              type : \"select\",\n              value : server,\n              colSpan : 1,\n              on : {\n                change : function(elem){\n                    server = elem.value.id;\n                    render();\n                }\n              },\n              options : [{\n                  id : \"192.168.1.112\",\n                  label : \"192.168.1.112\"\n              },{\n                  id : \"192.168.1.121\",\n                  label : \"192.168.1.121\"\n              }]\n            }],\n           [{\n              type : \"label\",\n              value : \"scp路径\",\n              class : \"col-md-2\"\n            },{\n              type : \"input\",\n              value : value,\n              on : {\n                change : function(elem){\n                    value = elem.value;\n                }\n              }\n            },{\n              type : \"button\",\n              value : \"生成路径\",\n              icon : \"glyphicon glyphicon-search\",\n              btnclass : \"btn btn-primary\",\n              class : \"col-md-4\",\n              on : {\n                click : function(elem){\n                    target.saveEditorStatus(\"SCPPATH\", {\n                        server : server,\n                        value : value\n                    })\n                    render();\n                }\n              }\n            }],\n            [{\n              type : \"label\",\n              value : \"运行结果\",\n              class : \"col-md-2\"\n            },{\n              type : \"label\",\n              value : \"scp \" + value + \" root@\" + server + \":../psiot/app/web/sysconfig/ROOT/\" + value,\n              colSpan : 2\n            }]\n          ];\n          event.target.render(ctrlGroups);\n      };\n      target.getEditorStatus(\"SCPPATH\", function(data){\n          data = data || {};\n          server = data.server || \"192.168.1.112\";\n          value = data.value || \"\"\n        render();    \n      });\n    }\n  }\n}"
                        },
                        "style": {
                          "margin": "5px",
                          "font-size": "12px"
                        },
                        "help": "../pdf/ctrlgroup.pdf",
                        "parameters": {},
                        "template": [
                          {
                            "label": "普通按钮",
                            "type": "ctrlgroup",
                            "source": "CTRLGROUP",
                            "advance": {
                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n       [{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          btnclass : \"btn btn-primary\",\n          class : \"col-md-12\",\n          on : {\n            click : function(elem){\n              target.console(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                            },
                            "style": {
                              "margin": "5px",
                              "font-size": "12px"
                            },
                            "parameters": {},
                            "url": "images/map/map1.png"
                          },
                          {
                            "label": "设备，项目，客户下拉",
                            "type": "ctrlgroup",
                            "source": "CTRLGROUP",
                            "advance": {
                              "expression": "expression = {\n  on : {\n    init : function(event){\n\n      var target = event.target;\n      var global = event.global;\n      event.target.getDomainsByFilter({\n        modelIds : [301,302]\n      }, function(obj){\n        var projects = obj.filter(function(elem){\n          return elem.modelId == 302;\n        })\n        var customers = obj.filter(function(elem){\n          return elem.modelId == 301;\n        })\n        event.target.getDevicesByCondition({}, function(devices){\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"设备下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : devices,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"客户下拉列表\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : customers,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"项目下拉列表1\"\n            },{\n              type : \"select\",\n              value : \"\",\n              on : {\n                change : function(elem){\n                  console.log(elem);\n                }\n              },\n              options : projects,\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"按钮\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  console.log(elem);\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                            },
                            "style": {
                              "margin": "5px",
                              "font-size": "12px"
                            },
                            "parameters": {},
                            "url": "images/map/map1.png"
                          },
                          {
                            "label": "竖排组件功能组件",
                            "type": "ctrlgroup",
                            "source": "CTRLGROUP",
                            "advance": {
                              "expression": "expression = {\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      var ctrlGroups = [\n        [{\n          type : \"label\",\n          value : \"普通输入框\"\n        },{\n          type : \"input\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"普通下拉列表\"\n        },{\n          type : \"select\",\n          value : \"普通下拉列表\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"日期选择器\"\n        },{\n          type : \"datePicker\",\n          value : \"普通输入框\",\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          }\n        }],[{\n          type : \"label\",\n          value : \"输入选择器\"\n        },{\n          type : \"autoComplete\",\n          value : \"search\",\n          options : [{\n            id : 0,\n            label : \"项目1\"\n          },{\n            id : 1,\n            label : \"项目名称2\"\n          },{\n            id : 2,\n            label : \"名称3\"\n          }],\n          on : {\n            change : function(elem){\n              console.log(elem);\n            }\n          },\n          format : {\n            \"id\" : \"id\",\n            \"label\" : \"label\",\n            \"searchkey\" : \"label\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"树状选择器\"\n        },{\n          type : \"dropdowntree\",\n          value : \"search\",\n          options : {\n            \"children\" : [{\n              id : 0,\n              label : \"根节点\",\n              children : [{\n                id : 1,\n                label : \"子节点1\"\n              },{\n                id : 2,\n                label : \"子节点2\"\n              }]\n            }]\n          },\n          on : {\n            change : function(elem){\n              console.log(elem)\n            }\n          },\n          format : {\n            \"children\" : \"children\"\n          }\n        }],[{\n          type : \"label\",\n          value : \"\"\n        },{\n          type : \"button\",\n          value : \"按钮\",\n          icon : \"glyphicon glyphicon-search\",\n          class : \"btn-primary\",\n          on : {\n            click : function(elem){\n              console.log(elem);\n            }\n          }\n        }]\n      ];\n      event.target.render(ctrlGroups);\n    }\n  }\n}"
                            },
                            "style": {
                              "margin": "5px",
                              "font-size": "12px"
                            },
                            "url": "images/map/map1.png"
                          },
                          {
                            "label": "项目，管理域,提交按钮",
                            "type": "ctrlgroup",
                            "source": "CTRLGROUP",
                            "advance": {
                              "expression": "{\n  on : {\n    init : function(event){\n      var target = event.target;\n      var global = event.global;\n      event.target.queryDomainTree(function(domaintree){\n        event.target.getDomainsByFilter({\n          modelIds : [302]\n        }, function(projects){\n          event.target.setValue(\"projectName\", \"\");\n          event.target.setValue(\"domainPath\", \"\")\n          var ctrlGroups = [\n            [{\n              type : \"label\",\n              value : \"项目名称\"\n            },{\n              type : \"autoComplete\",\n              value : \"search\",\n              options : projects,\n              on : {\n                change : function(elem){\n                  var projectName = elem.value;\n                  target.setValue(\"projectName\", projectName);\n                }\n              },\n              format : {\n                \"id\" : \"id\",\n                \"label\" : \"label\",\n                \"searchkey\" : \"label\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"管理域\"\n            },{\n              type : \"dropdowntree\",\n              value : \"search\",\n              options : {\n                \"domainInfos\" : domaintree\n              },\n              on : {\n                change : function(elem){\n                  var domain = elem.value;\n                  target.setValue(\"domainPath\", domain.domainPath);\n                }\n              },\n              format : {\n                \"children\" : \"domainInfos\"\n              }\n            }],[{\n              type : \"label\",\n              value : \"\"\n            },{\n              type : \"button\",\n              value : \"搜索\",\n              icon : \"glyphicon glyphicon-search\",\n              class : \"btn-primary\",\n              on : {\n                click : function(elem){\n                  global.fire(\"refresh\")\n                }\n              }\n            }]\n          ];\n          event.target.render(ctrlGroups);\n        });\n      });\n    }\n  }\n}"
                            },
                            "style": {
                              "margin": "5px",
                              "font-size": "12px",
                              "width": "100%"
                            },
                            "url": "images/map/map1.png"
                          }
                        ],
                        "id": "sJf3yycbADYYXhakSsjTHsTTcBy4WiZC"
                      }
                    ],
                    "id": "MYPGrdKDfeCPTrPHSnPZMsm6X4tBhXxJ"
                  }
                ],
                "id": "dDHMdSZ6SNSNQKJAE7Ya46bX8Q6pxT5i"
              },
              {
                "class": "box-footer",
                "type": "box-footer",
                "children": [
                  {
                    "type": "column",
                    "col": 12,
                    "children": [],
                    "id": "KPeBeGTEM8BPEFSzDHPfhmjcG8H2rXaH"
                  }
                ],
                "id": "X6RB6S2NHQCsGaN8irYcSBKJBJRcXFh8"
              }
            ],
            "id": "M2A23hb63xZSr38NSAiHJ2b5s7KEFZCt"
          }
        ],
        "col": 12,
        "id": "pjxNeKTMJYtcarhcNzypNcwxWxDxPwwx"
      },
      "id": "7",
      "$$hashKey": "object:940"
    }
  ],
  "setting": "setting = {\n  \"showNavi\" : false,\n  \"style\" : {\n    \"padding\" : \"5px\",\n    \"background\" : \"-webkit-linear-gradient(top,#eee,#fff)\"\n  }\n}"
}